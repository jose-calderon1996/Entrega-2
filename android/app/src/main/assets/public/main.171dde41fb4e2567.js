(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1401:(fn,ft,N)=>{"use strict";N.d(ft,{Am:()=>kn,Bd:()=>Se,FA:()=>Ee,Fy:()=>Ge,I9:()=>vn,Im:()=>de,Ku:()=>dn,Ll:()=>Tt,T9:()=>ct,Uj:()=>He,XA:()=>Ie,ZQ:()=>it,bD:()=>Rt,c1:()=>Bt,cY:()=>ge,eX:()=>pe,g:()=>qe,gR:()=>Ft,hp:()=>gn,jZ:()=>$e,lT:()=>pt,lV:()=>Yt,mS:()=>Le,nr:()=>_e,p7:()=>Vt,sr:()=>pn,tD:()=>Kn,u:()=>ye,zW:()=>Z,zw:()=>ke});const Q=function(Ae){const De=[];let ze=0;for(let Mt=0;Mt<Ae.length;Mt++){let mt=Ae.charCodeAt(Mt);mt<128?De[ze++]=mt:mt<2048?(De[ze++]=mt>>6|192,De[ze++]=63&mt|128):55296==(64512&mt)&&Mt+1<Ae.length&&56320==(64512&Ae.charCodeAt(Mt+1))?(mt=65536+((1023&mt)<<10)+(1023&Ae.charCodeAt(++Mt)),De[ze++]=mt>>18|240,De[ze++]=mt>>12&63|128,De[ze++]=mt>>6&63|128,De[ze++]=63&mt|128):(De[ze++]=mt>>12|224,De[ze++]=mt>>6&63|128,De[ze++]=63&mt|128)}return De},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,De){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ze=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,Mt=[];for(let mt=0;mt<Ae.length;mt+=3){const mn=Ae[mt],In=mt+1<Ae.length,wr=In?Ae[mt+1]:0,lt=mt+2<Ae.length,cr=lt?Ae[mt+2]:0;let kr=(15&wr)<<2|cr>>6,oi=63&cr;lt||(oi=64,In||(kr=64)),Mt.push(ze[mn>>2],ze[(3&mn)<<4|wr>>4],ze[kr],ze[oi])}return Mt.join("")},encodeString(Ae,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Ae):this.encodeByteArray(Q(Ae),De)},decodeString(Ae,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Ae):function(Ae){const De=[];let ze=0,Mt=0;for(;ze<Ae.length;){const mt=Ae[ze++];if(mt<128)De[Mt++]=String.fromCharCode(mt);else if(mt>191&&mt<224){const mn=Ae[ze++];De[Mt++]=String.fromCharCode((31&mt)<<6|63&mn)}else if(mt>239&&mt<365){const lt=((7&mt)<<18|(63&Ae[ze++])<<12|(63&Ae[ze++])<<6|63&Ae[ze++])-65536;De[Mt++]=String.fromCharCode(55296+(lt>>10)),De[Mt++]=String.fromCharCode(56320+(1023&lt))}else{const mn=Ae[ze++],In=Ae[ze++];De[Mt++]=String.fromCharCode((15&mt)<<12|(63&mn)<<6|63&In)}}return De.join("")}(this.decodeStringToByteArray(Ae,De))},decodeStringToByteArray(Ae,De){this.init_();const ze=De?this.charToByteMapWebSafe_:this.charToByteMap_,Mt=[];for(let mt=0;mt<Ae.length;){const mn=ze[Ae.charAt(mt++)],wr=mt<Ae.length?ze[Ae.charAt(mt)]:0;++mt;const cr=mt<Ae.length?ze[Ae.charAt(mt)]:64;++mt;const nn=mt<Ae.length?ze[Ae.charAt(mt)]:64;if(++mt,null==mn||null==wr||null==cr||null==nn)throw new Te;Mt.push(mn<<2|wr>>4),64!==cr&&(Mt.push(wr<<4&240|cr>>2),64!==nn&&Mt.push(cr<<6&192|nn))}return Mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class Te extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(Ae){return function(Ae){const De=Q(Ae);return ce.encodeByteArray(De,!0)}(Ae).replace(/\./g,"")},ye=function(Ae){try{return ce.decodeString(Ae,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function ke(Ae,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return De}for(const ze in De)!De.hasOwnProperty(ze)||!Be(ze)||(Ae[ze]=ke(Ae[ze],De[ze]));return Ae}function Be(Ae){return"__proto__"!==Ae}function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ve=()=>{try{return Le().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const De=Ae&&ye(Ae[1]);return De&&JSON.parse(De)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},ct=()=>{var Ae;return null===(Ae=Ve())||void 0===Ae?void 0:Ae.config},Ie=Ae=>{var De;return null===(De=Ve())||void 0===De?void 0:De[`_${Ae}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,ze)=>{this.resolve=De,this.reject=ze})}wrapCallback(De){return(ze,Mt)=>{ze?this.reject(ze):this.resolve(Mt),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(ze):De(ze,Mt))}}}function Ge(Ae,De){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Mt=De||"demo-project",mt=Ae.iat||0,mn=Ae.sub||Ae.user_id;if(!mn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const In=Object.assign({iss:`https://securetoken.google.com/${Mt}`,aud:Mt,iat:mt,exp:mt+3600,auth_time:mt,sub:mn,user_id:mn,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(In)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Tt(){var Ae;const De=null===(Ae=Ve())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===De)return!0;if("browser"===De)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return typeof window<"u"||Vt()}function Vt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Bt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function pn(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function Yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const Ae=it();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function _e(){return!Tt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((Ae,De)=>{try{let ze=!0;const Mt="validate-browser-context-for-indexeddb-analytics-module",mt=self.indexedDB.open(Mt);mt.onsuccess=()=>{mt.result.close(),ze||self.indexedDB.deleteDatabase(Mt),Ae(!0)},mt.onupgradeneeded=()=>{ze=!1},mt.onerror=()=>{var mn;De((null===(mn=mt.error)||void 0===mn?void 0:mn.message)||"")}}catch(ze){De(ze)}})}class qe extends Error{constructor(De,ze,Mt){super(ze),this.code=De,this.customData=Mt,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(De,ze,Mt){this.service=De,this.serviceName=ze,this.errors=Mt}create(De,...ze){const Mt=ze[0]||{},mt=`${this.service}/${De}`,mn=this.errors[De],In=mn?function Nt(Ae,De){return Ae.replace($t,(ze,Mt)=>{const mt=De[Mt];return null!=mt?String(mt):`<${Mt}?>`})}(mn,Mt):"Error";return new qe(mt,`${this.serviceName}: ${In} (${mt}).`,Mt)}}const $t=/\{\$([^}]+)}/g;function Ft(Ae,De){return Object.prototype.hasOwnProperty.call(Ae,De)}function de(Ae){for(const De in Ae)if(Object.prototype.hasOwnProperty.call(Ae,De))return!1;return!0}function Rt(Ae,De){if(Ae===De)return!0;const ze=Object.keys(Ae),Mt=Object.keys(De);for(const mt of ze){if(!Mt.includes(mt))return!1;const mn=Ae[mt],In=De[mt];if(sn(mn)&&sn(In)){if(!Rt(mn,In))return!1}else if(mn!==In)return!1}for(const mt of Mt)if(!ze.includes(mt))return!1;return!0}function sn(Ae){return null!==Ae&&"object"==typeof Ae}function kn(Ae){const De=[];for(const[ze,Mt]of Object.entries(Ae))Array.isArray(Mt)?Mt.forEach(mt=>{De.push(encodeURIComponent(ze)+"="+encodeURIComponent(mt))}):De.push(encodeURIComponent(ze)+"="+encodeURIComponent(Mt));return De.length?"&"+De.join("&"):""}function vn(Ae){const De={};return Ae.replace(/^\?/,"").split("&").forEach(Mt=>{if(Mt){const[mt,mn]=Mt.split("=");De[decodeURIComponent(mt)]=decodeURIComponent(mn)}}),De}function gn(Ae){const De=Ae.indexOf("?");if(!De)return"";const ze=Ae.indexOf("#",De);return Ae.substring(De,ze>0?ze:void 0)}function Kn(Ae,De){const ze=new Yn(Ae,De);return ze.subscribe.bind(ze)}class Yn{constructor(De,ze){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ze,this.task.then(()=>{De(this)}).catch(Mt=>{this.error(Mt)})}next(De){this.forEachObserver(ze=>{ze.next(De)})}error(De){this.forEachObserver(ze=>{ze.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,ze,Mt){let mt;if(void 0===De&&void 0===ze&&void 0===Mt)throw new Error("Missing Observer.");mt=function Mr(Ae,De){if("object"!=typeof Ae||null===Ae)return!1;for(const ze of De)if(ze in Ae&&"function"==typeof Ae[ze])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:ze,complete:Mt},void 0===mt.next&&(mt.next=An),void 0===mt.error&&(mt.error=An),void 0===mt.complete&&(mt.complete=An);const mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?mt.error(this.finalError):mt.complete()}catch{}}),this.observers.push(mt),mn}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let ze=0;ze<this.observers.length;ze++)this.sendOne(ze,De)}sendOne(De,ze){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{ze(this.observers[De])}catch(Mt){typeof console<"u"&&console.error&&console.error(Mt)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function An(){}function dn(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},4442:(fn,ft,N)=>{"use strict";N.d(ft,{L:()=>be,a:()=>ce,b:()=>Te,c:()=>Ue,d:()=>He,g:()=>pt}),N(5531);const be="ionViewWillEnter",ce="ionViewDidEnter",Te="ionViewWillLeave",Ue="ionViewDidLeave",He="ionViewWillUnload",pt=me=>me.classList.contains("ion-page")?me:me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||me},5531:(fn,ft,N)=>{"use strict";N.d(ft,{a:()=>ye,c:()=>L,g:()=>He});class a{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,fe){const _e=this.m.get(me);return void 0!==_e?_e:fe}getBoolean(me,fe=!1){const _e=this.m.get(me);return void 0===_e?fe:"string"==typeof _e?"true"===_e:!!_e}getNumber(me,fe){const _e=parseFloat(this.m.get(me));return isNaN(_e)?void 0!==fe?fe:NaN:_e}set(me,fe){this.m.set(me,fe)}}const L=new a,He=pt=>oe(pt),ye=(pt,me)=>("string"==typeof pt&&(me=pt,pt=void 0),He(pt).includes(me)),oe=(pt=window)=>{if(typeof pt>"u")return[];pt.Ionic=pt.Ionic||{};let me=pt.Ionic.platforms;return null==me&&(me=pt.Ionic.platforms=ke(pt),me.forEach(fe=>pt.document.documentElement.classList.add(`plt-${fe}`))),me},ke=pt=>{const me=L.get("platform");return Object.keys(Bt).filter(fe=>{const _e=me?.[fe];return"function"==typeof _e?_e(pt):Bt[fe](pt)})},Le=pt=>!!(Se(pt,/iPad/i)||Se(pt,/Macintosh/i)&&ct(pt)),Qe=pt=>Se(pt,/android|sink/i),ct=pt=>Vt(pt,"(any-pointer:coarse)"),ge=pt=>Ge(pt)||it(pt),Ge=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),it=pt=>{const me=pt.Capacitor;return!!me?.isNative},Se=(pt,me)=>me.test(pt.navigator.userAgent),Vt=(pt,me)=>{var fe;return null===(fe=pt.matchMedia)||void 0===fe?void 0:fe.call(pt,me).matches},Bt={ipad:Le,iphone:pt=>Se(pt,/iPhone/i),ios:pt=>Se(pt,/iPhone|iPod/i)||Le(pt),android:Qe,phablet:pt=>{const me=pt.innerWidth,fe=pt.innerHeight,_e=Math.min(me,fe),Z=Math.max(me,fe);return _e>390&&_e<520&&Z>620&&Z<800},tablet:pt=>{const me=pt.innerWidth,fe=pt.innerHeight,_e=Math.min(me,fe),Z=Math.max(me,fe);return Le(pt)||(pt=>Qe(pt)&&!Se(pt,/mobile/i))(pt)||_e>460&&_e<820&&Z>780&&Z<1400},cordova:Ge,capacitor:it,electron:pt=>Se(pt,/electron/i),pwa:pt=>{var me;return!!(null!==(me=pt.matchMedia)&&void 0!==me&&me.call(pt,"(display-mode: standalone)").matches||pt.navigator.standalone)},mobile:ct,mobileweb:pt=>ct(pt)&&!ge(pt),desktop:pt=>!ct(pt),hybrid:ge}},9986:(fn,ft,N)=>{"use strict";N.d(ft,{c:()=>ce});var a=N(8476);let L;const Q=(Te,Ue,He)=>{const ye=Ue.startsWith("animation")?(Te=>(void 0===L&&(L=void 0===Te.style.animationName&&void 0!==Te.style.webkitAnimationName?"-webkit-":""),L))(Te):"";Te.style.setProperty(ye+Ue,He)},be=(Te=[],Ue)=>{if(void 0!==Ue){const He=Array.isArray(Ue)?Ue:[Ue];return[...Te,...He]}return Te},ce=Te=>{let Ue,He,ye,oe,ke,Be,Ve,$e,Tt,Se,Yt,Le=[],Me=[],nt=[],Qe=!1,_t={},dt=[],ct=[],Ie={},ge=0,Ge=!1,it=!1,Vt=!0,Bt=!1,pn=!0,Cn=!1;const pt=Te,me=[],fe=[],_e=[],Z=[],pe=[],Ye=[],le=[],qe=[],Ee=[],Nt=[],$t=[],gt="function"==typeof AnimationEffect||void 0!==a.w&&"function"==typeof a.w.AnimationEffect,Ut="function"==typeof Element&&"function"==typeof Element.prototype.animate&&gt,un=()=>$t,Ft=(ae,Je)=>{const bt=Je.findIndex(ln=>ln.c===ae);bt>-1&&Je.splice(bt,1)},de=(ae,Je)=>((Je?.oneTimeCallback?fe:me).push({c:ae,o:Je}),Yt),Rt=()=>{Ut&&($t.forEach(ae=>{ae.cancel()}),$t.length=0)},sn=()=>{Ye.forEach(ae=>{ae?.parentNode&&ae.parentNode.removeChild(ae)}),Ye.length=0},Sn=()=>void 0!==ke?ke:Ve?Ve.getFill():"both",yn=()=>void 0!==$e?$e:void 0!==Be?Be:Ve?Ve.getDirection():"normal",Xn=()=>Ge?"linear":void 0!==ye?ye:Ve?Ve.getEasing():"linear",Gn=()=>it?0:void 0!==Tt?Tt:void 0!==He?He:Ve?Ve.getDuration():0,Qn=()=>void 0!==oe?oe:Ve?Ve.getIterations():1,ar=()=>void 0!==Se?Se:void 0!==Ue?Ue:Ve?Ve.getDelay():0,In=()=>{0!==ge&&(ge--,0===ge&&((()=>{Ee.forEach(Jt=>Jt()),Nt.forEach(Jt=>Jt());const ae=Vt?1:0,Je=dt,bt=ct,ln=Ie;Z.forEach(Jt=>{const er=Jt.classList;Je.forEach(zn=>er.add(zn)),bt.forEach(zn=>er.remove(zn));for(const zn in ln)ln.hasOwnProperty(zn)&&Q(Jt,zn,ln[zn])}),Tt=void 0,$e=void 0,Se=void 0,me.forEach(Jt=>Jt.c(ae,Yt)),fe.forEach(Jt=>Jt.c(ae,Yt)),fe.length=0,pn=!0,Vt&&(Bt=!0),Vt=!0})(),Ve&&Ve.animationFinish()))},lt=()=>{(()=>{le.forEach(ln=>ln()),qe.forEach(ln=>ln());const ae=Me,Je=nt,bt=_t;Z.forEach(ln=>{const Jt=ln.classList;ae.forEach(er=>Jt.add(er)),Je.forEach(er=>Jt.remove(er));for(const er in bt)bt.hasOwnProperty(er)&&Q(ln,er,bt[er])})})(),Le.length>0&&Ut&&(Z.forEach(ae=>{const Je=ae.animate(Le,{id:pt,delay:ar(),duration:Gn(),easing:Xn(),iterations:Qn(),fill:Sn(),direction:yn()});Je.pause(),$t.push(Je)}),$t.length>0&&($t[0].onfinish=()=>{In()})),Qe=!0},cr=ae=>{ae=Math.min(Math.max(ae,0),.9999),Ut&&$t.forEach(Je=>{Je.currentTime=Je.effect.getComputedTiming().delay+Gn()*ae,Je.pause()})},$n=ae=>{$t.forEach(Je=>{Je.effect.updateTiming({delay:ar(),duration:Gn(),easing:Xn(),iterations:Qn(),fill:Sn(),direction:yn()})}),void 0!==ae&&cr(ae)},nn=(ae=!1,Je=!0,bt)=>(ae&&pe.forEach(ln=>{ln.update(ae,Je,bt)}),Ut&&$n(bt),Yt),Wi=()=>{Qe&&(Ut?$t.forEach(ae=>{ae.pause()}):Z.forEach(ae=>{Q(ae,"animation-play-state","paused")}),Cn=!0)},Ne=ae=>new Promise(Je=>{ae?.sync&&(it=!0,de(()=>it=!1,{oneTimeCallback:!0})),Qe||lt(),Bt&&(Ut&&(cr(0),$n()),Bt=!1),pn&&(ge=pe.length+1,pn=!1);const bt=()=>{Ft(ln,fe),Je()},ln=()=>{Ft(bt,_e),Je()};de(ln,{oneTimeCallback:!0}),(ae=>{_e.push({c:ae,o:{oneTimeCallback:!0}})})(bt),pe.forEach(Jt=>{Jt.play()}),Ut?($t.forEach(ae=>{ae.play()}),(0===Le.length||0===Z.length)&&In()):In(),Cn=!1}),O=(ae,Je)=>{const bt=Le[0];return void 0===bt||void 0!==bt.offset&&0!==bt.offset?Le=[{offset:0,[ae]:Je},...Le]:bt[ae]=Je,Yt};return Yt={parentAnimation:Ve,elements:Z,childAnimations:pe,id:pt,animationFinish:In,from:O,to:(ae,Je)=>{const bt=Le[Le.length-1];return void 0===bt||void 0!==bt.offset&&1!==bt.offset?Le=[...Le,{offset:1,[ae]:Je}]:bt[ae]=Je,Yt},fromTo:(ae,Je,bt)=>O(ae,Je).to(ae,bt),parent:ae=>(Ve=ae,Yt),play:Ne,pause:()=>(pe.forEach(ae=>{ae.pause()}),Wi(),Yt),stop:()=>{pe.forEach(ae=>{ae.stop()}),Qe&&(Rt(),Qe=!1),Ge=!1,it=!1,pn=!0,$e=void 0,Tt=void 0,Se=void 0,ge=0,Bt=!1,Vt=!0,Cn=!1,_e.forEach(ae=>ae.c(0,Yt)),_e.length=0},destroy:ae=>(pe.forEach(Je=>{Je.destroy(ae)}),(ae=>{Rt(),ae&&sn()})(ae),Z.length=0,pe.length=0,Le.length=0,me.length=0,fe.length=0,Qe=!1,pn=!0,Yt),keyframes:ae=>{const Je=Le!==ae;return Le=ae,Je&&(ae=>{Ut&&un().forEach(Je=>{const bt=Je.effect;if(bt.setKeyframes)bt.setKeyframes(ae);else{const ln=new KeyframeEffect(bt.target,ae,bt.getTiming());Je.effect=ln}})})(Le),Yt},addAnimation:ae=>{if(null!=ae)if(Array.isArray(ae))for(const Je of ae)Je.parent(Yt),pe.push(Je);else ae.parent(Yt),pe.push(ae);return Yt},addElement:ae=>{if(null!=ae)if(1===ae.nodeType)Z.push(ae);else if(ae.length>=0)for(let Je=0;Je<ae.length;Je++)Z.push(ae[Je]);else console.error("Invalid addElement value");return Yt},update:nn,fill:ae=>(ke=ae,nn(!0),Yt),direction:ae=>(Be=ae,nn(!0),Yt),iterations:ae=>(oe=ae,nn(!0),Yt),duration:ae=>(!Ut&&0===ae&&(ae=1),He=ae,nn(!0),Yt),easing:ae=>(ye=ae,nn(!0),Yt),delay:ae=>(Ue=ae,nn(!0),Yt),getWebAnimations:un,getKeyframes:()=>Le,getFill:Sn,getDirection:yn,getDelay:ar,getIterations:Qn,getEasing:Xn,getDuration:Gn,afterAddRead:ae=>(Ee.push(ae),Yt),afterAddWrite:ae=>(Nt.push(ae),Yt),afterClearStyles:(ae=[])=>{for(const Je of ae)Ie[Je]="";return Yt},afterStyles:(ae={})=>(Ie=ae,Yt),afterRemoveClass:ae=>(ct=be(ct,ae),Yt),afterAddClass:ae=>(dt=be(dt,ae),Yt),beforeAddRead:ae=>(le.push(ae),Yt),beforeAddWrite:ae=>(qe.push(ae),Yt),beforeClearStyles:(ae=[])=>{for(const Je of ae)_t[Je]="";return Yt},beforeStyles:(ae={})=>(_t=ae,Yt),beforeRemoveClass:ae=>(nt=be(nt,ae),Yt),beforeAddClass:ae=>(Me=be(Me,ae),Yt),onFinish:de,isRunning:()=>0!==ge&&!Cn,progressStart:(ae=!1,Je)=>(pe.forEach(bt=>{bt.progressStart(ae,Je)}),Wi(),Ge=ae,Qe||lt(),nn(!1,!0,Je),Yt),progressStep:ae=>(pe.forEach(Je=>{Je.progressStep(ae)}),cr(ae),Yt),progressEnd:(ae,Je,bt)=>(Ge=!1,pe.forEach(ln=>{ln.progressEnd(ae,Je,bt)}),void 0!==bt&&(Tt=bt),Bt=!1,Vt=!0,0===ae?($e="reverse"===yn()?"normal":"reverse","reverse"===$e&&(Vt=!1),Ut?(nn(),cr(1-Je)):(Se=(1-Je)*Gn()*-1,nn(!1,!1))):1===ae&&(Ut?(nn(),cr(Je)):(Se=Je*Gn()*-1,nn(!1,!1))),void 0!==ae&&!Ve&&Ne(),Yt)}}},464:(fn,ft,N)=>{"use strict";N.d(ft,{E:()=>ye,a:()=>a,s:()=>Ue});const a=oe=>{try{if(oe instanceof Te)return oe.value;if(!Q()||"string"!=typeof oe||""===oe)return oe;if(oe.includes("onload="))return"";const ke=document.createDocumentFragment(),Be=document.createElement("div");ke.appendChild(Be),Be.innerHTML=oe,ce.forEach(Qe=>{const Ve=ke.querySelectorAll(Qe);for(let _t=Ve.length-1;_t>=0;_t--){const dt=Ve[_t];dt.parentNode?dt.parentNode.removeChild(dt):ke.removeChild(dt);const ct=re(dt);for(let Ie=0;Ie<ct.length;Ie++)L(ct[Ie])}});const Le=re(ke);for(let Qe=0;Qe<Le.length;Qe++)L(Le[Qe]);const Me=document.createElement("div");Me.appendChild(ke);const nt=Me.querySelector("div");return null!==nt?nt.innerHTML:Me.innerHTML}catch(ke){return console.error(ke),""}},L=oe=>{if(oe.nodeType&&1!==oe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(oe.attributes instanceof NamedNodeMap))return void oe.remove();for(let Be=oe.attributes.length-1;Be>=0;Be--){const Le=oe.attributes.item(Be),Me=Le.name;if(!be.includes(Me.toLowerCase())){oe.removeAttribute(Me);continue}const nt=Le.value,Qe=oe[Me];(null!=nt&&nt.toLowerCase().includes("javascript:")||null!=Qe&&Qe.toLowerCase().includes("javascript:"))&&oe.removeAttribute(Me)}const ke=re(oe);for(let Be=0;Be<ke.length;Be++)L(ke[Be])},re=oe=>null!=oe.children?oe.children:oe.childNodes,Q=()=>{var oe;const ke=window,Be=null===(oe=ke?.Ionic)||void 0===oe?void 0:oe.config;return!Be||(Be.get?Be.get("sanitizerEnabled",!0):!0===Be.sanitizerEnabled||void 0===Be.sanitizerEnabled)},be=["class","id","href","src","name","slot"],ce=["script","style","iframe","meta","link","object","embed"];class Te{constructor(ke){this.value=ke}}const Ue=oe=>{const ke=window,Be=ke.Ionic;if(!Be||!Be.config||"Object"===Be.config.constructor.name)return ke.Ionic=ke.Ionic||{},ke.Ionic.config=Object.assign(Object.assign({},ke.Ionic.config),oe),ke.Ionic.config},ye=!1},8621:(fn,ft,N)=>{"use strict";N.d(ft,{C:()=>be,a:()=>re,d:()=>Q});var a=N(467),L=N(4920);const re=function(){var ce=(0,a.A)(function*(Te,Ue,He,ye,oe,ke){var Be;if(Te)return Te.attachViewToDom(Ue,He,oe,ye);if(!(ke||"string"==typeof He||He instanceof HTMLElement))throw new Error("framework delegate is missing");const Le="string"==typeof He?null===(Be=Ue.ownerDocument)||void 0===Be?void 0:Be.createElement(He):He;return ye&&ye.forEach(Me=>Le.classList.add(Me)),oe&&Object.assign(Le,oe),Ue.appendChild(Le),yield new Promise(Me=>(0,L.c)(Le,Me)),Le});return function(Ue,He,ye,oe,ke,Be){return ce.apply(this,arguments)}}(),Q=(ce,Te)=>{if(Te){if(ce)return ce.removeViewFromDom(Te.parentElement,Te);Te.remove()}return Promise.resolve()},be=()=>{let ce,Te;return{attachViewToDom:function(){var ye=(0,a.A)(function*(oe,ke,Be={},Le=[]){var Me,nt;let Qe;if(ce=oe,ke){const _t="string"==typeof ke?null===(Me=ce.ownerDocument)||void 0===Me?void 0:Me.createElement(ke):ke;Le.forEach(dt=>_t.classList.add(dt)),Object.assign(_t,Be),ce.appendChild(_t),Qe=_t,yield new Promise(dt=>(0,L.c)(_t,dt))}else if(ce.children.length>0&&("ION-MODAL"===ce.tagName||"ION-POPOVER"===ce.tagName)&&!(Qe=ce.children[0]).classList.contains("ion-delegate-host")){const dt=null===(nt=ce.ownerDocument)||void 0===nt?void 0:nt.createElement("div");dt.classList.add("ion-delegate-host"),Le.forEach(ct=>dt.classList.add(ct)),dt.append(...ce.children),ce.appendChild(dt),Qe=dt}const Ve=document.querySelector("ion-app")||document.body;return Te=document.createComment("ionic teleport"),ce.parentNode.insertBefore(Te,ce),Ve.appendChild(ce),Qe??ce});return function(ke,Be){return ye.apply(this,arguments)}}(),removeViewFromDom:()=>(ce&&Te&&(Te.parentNode.insertBefore(ce,Te),Te.remove()),Promise.resolve())}}},1970:(fn,ft,N)=>{"use strict";N.d(ft,{B:()=>Q,G:()=>be});class L{constructor(Te,Ue,He,ye,oe){this.id=Ue,this.name=He,this.disableScroll=oe,this.priority=1e6*ye+Ue,this.ctrl=Te}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Te=this.ctrl.capture(this.name,this.id,this.priority);return Te&&this.disableScroll&&this.ctrl.disableScroll(this.id),Te}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(Te,Ue,He,ye){this.id=Ue,this.disable=He,this.disableScroll=ye,this.ctrl=Te}block(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.disableGesture(Te,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Te of this.disable)this.ctrl.enableGesture(Te,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Q="backdrop-no-scroll",be=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Te){var Ue;return new L(this,this.newID(),Te.name,null!==(Ue=Te.priority)&&void 0!==Ue?Ue:0,!!Te.disableScroll)}createBlocker(Te={}){return new re(this,this.newID(),Te.disable,!!Te.disableScroll)}start(Te,Ue,He){return this.canStart(Te)?(this.requestedStart.set(Ue,He),!0):(this.requestedStart.delete(Ue),!1)}capture(Te,Ue,He){if(!this.start(Te,Ue,He))return!1;const ye=this.requestedStart;let oe=-1e4;if(ye.forEach(ke=>{oe=Math.max(oe,ke)}),oe===He){this.capturedId=Ue,ye.clear();const ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Te}});return document.dispatchEvent(ke),!0}return ye.delete(Ue),!1}release(Te){this.requestedStart.delete(Te),this.capturedId===Te&&(this.capturedId=void 0)}disableGesture(Te,Ue){let He=this.disabledGestures.get(Te);void 0===He&&(He=new Set,this.disabledGestures.set(Te,He)),He.add(Ue)}enableGesture(Te,Ue){const He=this.disabledGestures.get(Te);void 0!==He&&He.delete(Ue)}disableScroll(Te){this.disabledScroll.add(Te),1===this.disabledScroll.size&&document.body.classList.add(Q)}enableScroll(Te){this.disabledScroll.delete(Te),0===this.disabledScroll.size&&document.body.classList.remove(Q)}canStart(Te){return!(void 0!==this.capturedId||this.isDisabled(Te))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Te){const Ue=this.disabledGestures.get(Te);return!!(Ue&&Ue.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(fn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>He,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ue,blockHardwareBackButton:()=>ce,shouldUseCloseWatcher:()=>be,startHardwareBackButton:()=>Te});var a=N(467),L=N(8476),re=N(9483);N(4261);const be=()=>re.c.get("experimentalCloseWatcher",!1)&&void 0!==L.w&&"CloseWatcher"in L.w,ce=()=>{document.addEventListener("backbutton",()=>{})},Te=()=>{const ye=document;let oe=!1;const ke=()=>{if(oe)return;let Be=0,Le=[];const Me=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ve,_t){Le.push({priority:Ve,handler:_t,id:Be++})}}});ye.dispatchEvent(Me);const nt=function(){var Ve=(0,a.A)(function*(_t){try{if(_t?.handler){const dt=_t.handler(Qe);null!=dt&&(yield dt)}}catch(dt){console.error(dt)}});return function(dt){return Ve.apply(this,arguments)}}(),Qe=()=>{if(Le.length>0){let Ve={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Le.forEach(_t=>{_t.priority>=Ve.priority&&(Ve=_t)}),oe=!0,Le=Le.filter(_t=>_t.id!==Ve.id),nt(Ve).then(()=>oe=!1)}};Qe()};if(be()){let Be;const Le=()=>{Be?.destroy(),Be=new L.w.CloseWatcher,Be.onclose=()=>{ke(),Le()}};Le()}else ye.addEventListener("backbutton",ke)},Ue=100,He=99},4920:(fn,ft,N)=>{"use strict";N.d(ft,{a:()=>Ue,b:()=>He,c:()=>re,d:()=>Le,e:()=>_t,f:()=>Be,g:()=>ye,h:()=>be,i:()=>Te,j:()=>Me,k:()=>Q,l:()=>ke,m:()=>nt,n:()=>Ve,o:()=>dt,p:()=>Qe,r:()=>oe,s:()=>ct,t:()=>a});const a=(Ie,ge=0)=>new Promise(Ge=>{L(Ie,ge,Ge)}),L=(Ie,ge=0,Ge)=>{let it,$e;const Tt={passive:!0},Vt=()=>{it&&it()},Bt=pn=>{(void 0===pn||Ie===pn.target)&&(Vt(),Ge(pn))};return Ie&&(Ie.addEventListener("webkitTransitionEnd",Bt,Tt),Ie.addEventListener("transitionend",Bt,Tt),$e=setTimeout(Bt,ge+500),it=()=>{void 0!==$e&&(clearTimeout($e),$e=void 0),Ie.removeEventListener("webkitTransitionEnd",Bt,Tt),Ie.removeEventListener("transitionend",Bt,Tt)}),Vt},re=(Ie,ge)=>{Ie.componentOnReady?Ie.componentOnReady().then(Ge=>ge(Ge)):oe(()=>ge(Ie))},Q=Ie=>void 0!==Ie.componentOnReady,be=(Ie,ge=[])=>{const Ge={};return ge.forEach(it=>{Ie.hasAttribute(it)&&(null!==Ie.getAttribute(it)&&(Ge[it]=Ie.getAttribute(it)),Ie.removeAttribute(it))}),Ge},ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Te=(Ie,ge)=>{let Ge=ce;return ge&&ge.length>0&&(Ge=Ge.filter(it=>!ge.includes(it))),be(Ie,Ge)},Ue=(Ie,ge,Ge,it)=>{var $e;if(typeof window<"u"){const Tt=window,Se=null===($e=Tt?.Ionic)||void 0===$e?void 0:$e.config;if(Se){const Vt=Se.get("_ael");if(Vt)return Vt(Ie,ge,Ge,it);if(Se._ael)return Se._ael(Ie,ge,Ge,it)}}return Ie.addEventListener(ge,Ge,it)},He=(Ie,ge,Ge,it)=>{var $e;if(typeof window<"u"){const Tt=window,Se=null===($e=Tt?.Ionic)||void 0===$e?void 0:$e.config;if(Se){const Vt=Se.get("_rel");if(Vt)return Vt(Ie,ge,Ge,it);if(Se._rel)return Se._rel(Ie,ge,Ge,it)}}return Ie.removeEventListener(ge,Ge,it)},ye=(Ie,ge=Ie)=>Ie.shadowRoot||ge,oe=Ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ie):setTimeout(Ie),ke=Ie=>!!Ie.shadowRoot&&!!Ie.attachShadow,Be=Ie=>{if(Ie.focus(),Ie.classList.contains("ion-focusable")){const ge=Ie.closest("ion-app");ge&&ge.setFocus([Ie])}},Le=(Ie,ge,Ge,it,$e)=>{if(Ie||ke(ge)){let Tt=ge.querySelector("input.aux-input");Tt||(Tt=ge.ownerDocument.createElement("input"),Tt.type="hidden",Tt.classList.add("aux-input"),ge.appendChild(Tt)),Tt.disabled=$e,Tt.name=Ge,Tt.value=it||""}},Me=(Ie,ge,Ge)=>Math.max(Ie,Math.min(ge,Ge)),nt=(Ie,ge)=>{if(!Ie){const Ge="ASSERT: "+ge;throw console.error(Ge),new Error(Ge)}},Qe=Ie=>{if(Ie){const ge=Ie.changedTouches;if(ge&&ge.length>0){const Ge=ge[0];return{x:Ge.clientX,y:Ge.clientY}}if(void 0!==Ie.pageX)return{x:Ie.pageX,y:Ie.pageY}}return{x:0,y:0}},Ve=Ie=>{const ge="rtl"===document.dir;switch(Ie){case"start":return ge;case"end":return!ge;default:throw new Error(`"${Ie}" is not a valid value for [side]. Use "start" or "end" instead.`)}},_t=(Ie,ge)=>{const Ge=Ie._original||Ie;return{_original:Ie,emit:dt(Ge.emit.bind(Ge),ge)}},dt=(Ie,ge=0)=>{let Ge;return(...it)=>{clearTimeout(Ge),Ge=setTimeout(Ie,ge,...it)}},ct=(Ie,ge)=>{if(Ie??(Ie={}),ge??(ge={}),Ie===ge)return!0;const Ge=Object.keys(Ie);if(Ge.length!==Object.keys(ge).length)return!1;for(const it of Ge)if(!(it in ge)||Ie[it]!==ge[it])return!1;return!0}},4261:(fn,ft,N)=>{"use strict";N.d(ft,{B:()=>ce,a:()=>pn,b:()=>Ei,c:()=>Sn,d:()=>Qn,e:()=>Ee,f:()=>gn,g:()=>yn,h:()=>kn,i:()=>Gn,j:()=>li,k:()=>$t,r:()=>He,w:()=>Nt});var a=N(467);var Q=Object.defineProperty,ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Te=new WeakMap,Ue=F=>Te.get(F),He=(F,Y)=>Te.set(Y.$lazyInstance$=F,Y),oe=(F,Y)=>Y in F,ke=(F,Y)=>(0,console.error)(F,Y),Be=new Map,Me=new Map,nt=[],ct="s-id",it="slot-fb{display:contents}slot-fb[hidden]{display:none}",$e="http://www.w3.org/1999/xlink",Tt=typeof window<"u"?window:{},Se=Tt.document||{head:{}},Bt={$flags$:0,$resourcesUrl$:"",jmp:F=>F(),raf:F=>requestAnimationFrame(F),ael:(F,Y,ve,Oe)=>F.addEventListener(Y,ve,Oe),rel:(F,Y,ve,Oe)=>F.removeEventListener(Y,ve,Oe),ce:(F,Y)=>new CustomEvent(F,Y)},pn=F=>{Object.assign(Bt,F)},Cn=(()=>{let F=!1;try{Se.addEventListener("e",null,Object.defineProperty({},"passive",{get(){F=!0}}))}catch{}return F})(),me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),fe=!1,_e=[],Z=[],pe=(F,Y)=>ve=>{F.push(ve),fe||(fe=!0,Y&&4&Bt.$flags$?qe(le):Bt.raf(le))},Ye=F=>{for(let Y=0;Y<F.length;Y++)try{F[Y](performance.now())}catch(ve){ke(ve)}F.length=0},le=()=>{Ye(_e),Ye(Z),(fe=_e.length>0)&&Bt.raf(le)},qe=F=>Promise.resolve(void 0).then(F),Ee=pe(_e,!1),Nt=pe(Z,!0),$t=F=>{const Y=new URL(F,Bt.$resourcesUrl$);return Y.origin!==Tt.location.origin?Y.href:Y.pathname},gt={},Xt=F=>"object"==(F=typeof F)||"function"===F;function Ot(F){var Y,ve,Oe;return null!=(Oe=null==(ve=null==(Y=F.head)?void 0:Y.querySelector('meta[name="csp-nonce"]'))?void 0:ve.getAttribute("content"))?Oe:void 0}((F,Y)=>{for(var ve in Y)Q(F,ve,{get:Y[ve],enumerable:!0})})({},{err:()=>ht,map:()=>de,ok:()=>Ft,unwrap:()=>ut,unwrapErr:()=>Rt});var Ft=F=>({isOk:!0,isErr:!1,value:F}),ht=F=>({isOk:!1,isErr:!0,value:F});function de(F,Y){if(F.isOk){const ve=Y(F.value);return ve instanceof Promise?ve.then(Oe=>Ft(Oe)):Ft(ve)}if(F.isErr)return ht(F.value);throw"should never get here"}var ut=F=>{if(F.isOk)return F.value;throw F.value},Rt=F=>{if(F.isErr)return F.value;throw F.value},kn=(F,Y,...ve)=>{let Oe=null,Re=null,st=null,Lt=!1,Gt=!1;const jt=[],Wt=En=>{for(let Rn=0;Rn<En.length;Rn++)Oe=En[Rn],Array.isArray(Oe)?Wt(Oe):null!=Oe&&"boolean"!=typeof Oe&&((Lt="function"!=typeof F&&!Xt(Oe))&&(Oe=String(Oe)),Lt&&Gt?jt[jt.length-1].$text$+=Oe:jt.push(Lt?vn(null,Oe):Oe),Gt=Lt)};if(Wt(ve),Y){Y.key&&(Re=Y.key),Y.name&&(st=Y.name);{const En=Y.className||Y.class;En&&(Y.class="object"!=typeof En?En:Object.keys(En).filter(Rn=>En[Rn]).join(" "))}}if("function"==typeof F)return F(null===Y?{}:Y,jt,Kn);const cn=vn(F,null);return cn.$attrs$=Y,jt.length>0&&(cn.$children$=jt),cn.$key$=Re,cn.$name$=st,cn},vn=(F,Y)=>({$flags$:0,$tag$:F,$text$:Y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),gn={},Kn={forEach:(F,Y)=>F.map(Yn).forEach(Y),map:(F,Y)=>F.map(Yn).map(Y).map(rr)},Yn=F=>({vattrs:F.$attrs$,vchildren:F.$children$,vkey:F.$key$,vname:F.$name$,vtag:F.$tag$,vtext:F.$text$}),rr=F=>{if("function"==typeof F.vtag){const ve={...F.vattrs};return F.vkey&&(ve.key=F.vkey),F.vname&&(ve.name=F.vname),kn(F.vtag,ve,...F.vchildren||[])}const Y=vn(F.vtag,F.vtext);return Y.$attrs$=F.vattrs,Y.$children$=F.vchildren,Y.$key$=F.vkey,Y.$name$=F.vname,Y},An=(F,Y,ve,Oe,Re,st,Lt)=>{let Gt,jt,Wt,cn;if(1===st.nodeType){if(Gt=st.getAttribute("c-id"),Gt&&(jt=Gt.split("."),(jt[0]===Lt||"0"===jt[0])&&(Wt={$flags$:0,$hostId$:jt[0],$nodeId$:jt[1],$depth$:jt[2],$index$:jt[3],$tag$:st.tagName.toLowerCase(),$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Y.push(Wt),st.removeAttribute("c-id"),F.$children$||(F.$children$=[]),F.$children$[Wt.$index$]=Wt,F=Wt,Oe&&"0"===Wt.$depth$&&(Oe[Wt.$index$]=Wt.$elm$))),st.shadowRoot)for(cn=st.shadowRoot.childNodes.length-1;cn>=0;cn--)An(F,Y,ve,Oe,Re,st.shadowRoot.childNodes[cn],Lt);for(cn=st.childNodes.length-1;cn>=0;cn--)An(F,Y,ve,Oe,Re,st.childNodes[cn],Lt)}else if(8===st.nodeType)jt=st.nodeValue.split("."),(jt[1]===Lt||"0"===jt[1])&&(Gt=jt[0],Wt={$flags$:0,$hostId$:jt[1],$nodeId$:jt[2],$depth$:jt[3],$index$:jt[4],$elm$:st,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Gt?(Wt.$elm$=st.nextSibling,Wt.$elm$&&3===Wt.$elm$.nodeType&&(Wt.$text$=Wt.$elm$.textContent,Y.push(Wt),st.remove(),F.$children$||(F.$children$=[]),F.$children$[Wt.$index$]=Wt,Oe&&"0"===Wt.$depth$&&(Oe[Wt.$index$]=Wt.$elm$))):Wt.$hostId$===Lt&&("s"===Gt?(Wt.$tag$="slot",st["s-sn"]=jt[5]?Wt.$name$=jt[5]:"",st["s-sr"]=!0,Oe&&(Wt.$elm$=Se.createElement(Wt.$tag$),Wt.$name$&&Wt.$elm$.setAttribute("name",Wt.$name$),st.parentNode.insertBefore(Wt.$elm$,st),st.remove(),"0"===Wt.$depth$&&(Oe[Wt.$index$]=Wt.$elm$)),ve.push(Wt),F.$children$||(F.$children$=[]),F.$children$[Wt.$index$]=Wt):"r"===Gt&&(Oe?st.remove():(Re["s-cr"]=st,st["s-cn"]=!0))));else if(F&&"style"===F.$tag$){const En=vn(null,st.textContent);En.$elm$=st,En.$index$="0",F.$children$=[En]}},or=(F,Y)=>{if(1===F.nodeType){let ve=0;if(F.shadowRoot)for(;ve<F.shadowRoot.childNodes.length;ve++)or(F.shadowRoot.childNodes[ve],Y);for(ve=0;ve<F.childNodes.length;ve++)or(F.childNodes[ve],Y)}else if(8===F.nodeType){const ve=F.nodeValue.split(".");"o"===ve[0]&&(Y.set(ve[1]+"."+ve[2],F),F.nodeValue="",F["s-en"]=ve[3])}},Sn=F=>nt.push(F),yn=F=>Ue(F).$modeName$,Gn=F=>Ue(F).$hostElement$,Qn=(F,Y,ve)=>{const Oe=Gn(F);return{emit:Re=>ar(Oe,Y,{bubbles:!!(4&ve),composed:!!(2&ve),cancelable:!!(1&ve),detail:Re})}},ar=(F,Y,ve)=>{const Oe=Bt.ce(Y,ve);return F.dispatchEvent(Oe),Oe},an=new WeakMap,St=(F,Y,ve)=>{var Oe;const Re=Fe(Y,ve),st=Me.get(Re);if(F=11===F.nodeType?F:Se,st)if("string"==typeof st){let Gt,Lt=an.get(F=F.head||F);if(Lt||an.set(F,Lt=new Set),!Lt.has(Re)){if(F.host&&(Gt=F.querySelector(`[sty-id="${Re}"]`)))Gt.innerHTML=st;else{Gt=Se.createElement("style"),Gt.innerHTML=st;const jt=null!=(Oe=Bt.$nonce$)?Oe:Ot(Se);null!=jt&&Gt.setAttribute("nonce",jt),(!(1&Y.$flags$)||1&Y.$flags$&&"HEAD"!==F.nodeName)&&F.insertBefore(Gt,F.querySelector("link"))}4&Y.$flags$&&(Gt.innerHTML+=it),Lt&&Lt.add(Re)}}else F.adoptedStyleSheets.includes(st)||(F.adoptedStyleSheets=[...F.adoptedStyleSheets,st]);return Re},Fe=(F,Y)=>"sc-"+(Y&&32&F.$flags$?F.$tagName$+"-"+Y:F.$tagName$),rt=(F,Y,ve,Oe,Re,st)=>{if(ve!==Oe){let Lt=oe(F,Y),Gt=Y.toLowerCase();if("class"===Y){const jt=F.classList,Wt=dn(ve),cn=dn(Oe);jt.remove(...Wt.filter(En=>En&&!cn.includes(En))),jt.add(...cn.filter(En=>En&&!Wt.includes(En)))}else if("style"===Y){for(const jt in ve)(!Oe||null==Oe[jt])&&(jt.includes("-")?F.style.removeProperty(jt):F.style[jt]="");for(const jt in Oe)(!ve||Oe[jt]!==ve[jt])&&(jt.includes("-")?F.style.setProperty(jt,Oe[jt]):F.style[jt]=Oe[jt])}else if("key"!==Y)if("ref"===Y)Oe&&Oe(F);else if(Lt||"o"!==Y[0]||"n"!==Y[1]){const jt=Xt(Oe);if((Lt||jt&&null!==Oe)&&!Re)try{if(F.tagName.includes("-"))F[Y]=Oe;else{const cn=Oe??"";"list"===Y?Lt=!1:(null==ve||F[Y]!=cn)&&(F[Y]=cn)}}catch{}let Wt=!1;Gt!==(Gt=Gt.replace(/^xlink\:?/,""))&&(Y=Gt,Wt=!0),null==Oe||!1===Oe?(!1!==Oe||""===F.getAttribute(Y))&&(Wt?F.removeAttributeNS($e,Y):F.removeAttribute(Y)):(!Lt||4&st||Re)&&!jt&&(Oe=!0===Oe?"":Oe,Wt?F.setAttributeNS($e,Y,Oe):F.setAttribute(Y,Oe))}else if(Y="-"===Y[2]?Y.slice(3):oe(Tt,Gt)?Gt.slice(2):Gt[2]+Y.slice(3),ve||Oe){const jt=Y.endsWith(Ae);Y=Y.replace(De,""),ve&&Bt.rel(F,Y,ve,jt),Oe&&Bt.ael(F,Y,Oe,jt)}}},qt=/\s/,dn=F=>F?F.split(qt):[],Ae="Capture",De=new RegExp(Ae+"$"),ze=(F,Y,ve)=>{const Oe=11===Y.$elm$.nodeType&&Y.$elm$.host?Y.$elm$.host:Y.$elm$,Re=F&&F.$attrs$||gt,st=Y.$attrs$||gt;for(const Lt of Mt(Object.keys(Re)))Lt in st||rt(Oe,Lt,Re[Lt],void 0,ve,Y.$flags$);for(const Lt of Mt(Object.keys(st)))rt(Oe,Lt,Re[Lt],st[Lt],ve,Y.$flags$)};function Mt(F){return F.includes("ref")?[...F.filter(Y=>"ref"!==Y),"ref"]:F}var mt,mn,In,wr=!1,lt=!1,cr=!1,$n=!1,nn=(F,Y,ve,Oe)=>{var Re;const st=Y.$children$[ve];let Gt,jt,Wt,Lt=0;if(wr||(cr=!0,"slot"===st.$tag$&&(mt&&Oe.classList.add(mt+"-s"),st.$flags$|=st.$children$?2:1)),null!==st.$text$)Gt=st.$elm$=Se.createTextNode(st.$text$);else if(1&st.$flags$)Gt=st.$elm$=Se.createTextNode("");else{if($n||($n="svg"===st.$tag$),Gt=st.$elm$=Se.createElementNS($n?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!wr&&2&st.$flags$?"slot-fb":st.$tag$),$n&&"foreignObject"===st.$tag$&&($n=!1),ze(null,st,$n),!!Gt.getRootNode().querySelector("body")&&(F=>null!=F)(mt)&&Gt["s-si"]!==mt&&Gt.classList.add(Gt["s-si"]=mt),ln(Gt,Oe),st.$children$)for(Lt=0;Lt<st.$children$.length;++Lt)jt=nn(F,st,Lt,Gt),jt&&Gt.appendChild(jt);"svg"===st.$tag$?$n=!1:"foreignObject"===Gt.tagName&&($n=!0)}return Gt["s-hn"]=In,3&st.$flags$&&(Gt["s-sr"]=!0,Gt["s-cr"]=mn,Gt["s-sn"]=st.$name$||"",Gt["s-rf"]=null==(Re=st.$attrs$)?void 0:Re.ref,Wt=F&&F.$children$&&F.$children$[ve],Wt&&Wt.$tag$===st.$tag$&&F.$elm$&&kr(F.$elm$)),Gt},kr=F=>{Bt.$flags$|=1;const Y=F.closest(In.toLowerCase());if(null!=Y){const ve=Array.from(Y.childNodes).find(Re=>Re["s-cr"]),Oe=Array.from(F.childNodes);for(const Re of ve?Oe.reverse():Oe)null!=Re["s-sh"]&&(Je(Y,Re,ve??null),Re["s-sh"]=void 0,cr=!0)}Bt.$flags$&=-2},oi=(F,Y)=>{Bt.$flags$|=1;const ve=Array.from(F.childNodes);if(F["s-sr"]){let Oe=F;for(;Oe=Oe.nextSibling;)Oe&&Oe["s-sn"]===F["s-sn"]&&Oe["s-sh"]===In&&ve.push(Oe)}for(let Oe=ve.length-1;Oe>=0;Oe--){const Re=ve[Oe];Re["s-hn"]!==In&&Re["s-ol"]&&(Je(yi(Re),Re,Yi(Re)),Re["s-ol"].remove(),Re["s-ol"]=void 0,Re["s-sh"]=void 0,cr=!0),Y&&oi(Re,Y)}Bt.$flags$&=-2},Wr=(F,Y,ve,Oe,Re,st)=>{let Gt,Lt=F["s-cr"]&&F["s-cr"].parentNode||F;for(Lt.shadowRoot&&Lt.tagName===In&&(Lt=Lt.shadowRoot);Re<=st;++Re)Oe[Re]&&(Gt=nn(null,ve,Re,F),Gt&&(Oe[Re].$elm$=Gt,Je(Lt,Gt,Yi(Y))))},Wi=(F,Y,ve)=>{for(let Oe=Y;Oe<=ve;++Oe){const Re=F[Oe];if(Re){const st=Re.$elm$;ae(Re),st&&(lt=!0,st["s-ol"]?st["s-ol"].remove():oi(st,!0),st.remove())}}},dr=(F,Y,ve=!1)=>!(F.$tag$!==Y.$tag$||("slot"===F.$tag$?"$nodeId$"in F&&ve&&8!==F.$elm$.nodeType||F.$name$!==Y.$name$:!ve&&F.$key$!==Y.$key$)),Yi=F=>F&&F["s-ol"]||F,yi=F=>(F["s-ol"]?F["s-ol"]:F).parentNode,Ne=(F,Y,ve=!1)=>{const Oe=Y.$elm$=F.$elm$,Re=F.$children$,st=Y.$children$,Lt=Y.$tag$,Gt=Y.$text$;let jt;null===Gt?($n="svg"===Lt||"foreignObject"!==Lt&&$n,"slot"!==Lt||wr?ze(F,Y,$n):F.$name$!==Y.$name$&&(Y.$elm$["s-sn"]=Y.$name$||"",kr(Y.$elm$.parentElement)),null!==Re&&null!==st?((F,Y,ve,Oe,Re=!1)=>{let Fr,Vr,st=0,Lt=0,Gt=0,jt=0,Wt=Y.length-1,cn=Y[0],En=Y[Wt],Rn=Oe.length-1,Nn=Oe[0],Cr=Oe[Rn];for(;st<=Wt&&Lt<=Rn;)if(null==cn)cn=Y[++st];else if(null==En)En=Y[--Wt];else if(null==Nn)Nn=Oe[++Lt];else if(null==Cr)Cr=Oe[--Rn];else if(dr(cn,Nn,Re))Ne(cn,Nn,Re),cn=Y[++st],Nn=Oe[++Lt];else if(dr(En,Cr,Re))Ne(En,Cr,Re),En=Y[--Wt],Cr=Oe[--Rn];else if(dr(cn,Cr,Re))("slot"===cn.$tag$||"slot"===Cr.$tag$)&&oi(cn.$elm$.parentNode,!1),Ne(cn,Cr,Re),Je(F,cn.$elm$,En.$elm$.nextSibling),cn=Y[++st],Cr=Oe[--Rn];else if(dr(En,Nn,Re))("slot"===cn.$tag$||"slot"===Cr.$tag$)&&oi(En.$elm$.parentNode,!1),Ne(En,Nn,Re),Je(F,En.$elm$,cn.$elm$),En=Y[--Wt],Nn=Oe[++Lt];else{for(Gt=-1,jt=st;jt<=Wt;++jt)if(Y[jt]&&null!==Y[jt].$key$&&Y[jt].$key$===Nn.$key$){Gt=jt;break}Gt>=0?(Vr=Y[Gt],Vr.$tag$!==Nn.$tag$?Fr=nn(Y&&Y[Lt],ve,Gt,F):(Ne(Vr,Nn,Re),Y[Gt]=void 0,Fr=Vr.$elm$),Nn=Oe[++Lt]):(Fr=nn(Y&&Y[Lt],ve,Lt,F),Nn=Oe[++Lt]),Fr&&Je(yi(cn.$elm$),Fr,Yi(cn.$elm$))}st>Wt?Wr(F,null==Oe[Rn+1]?null:Oe[Rn+1].$elm$,ve,Oe,Lt,Rn):Lt>Rn&&Wi(Y,st,Wt)})(Oe,Re,Y,st,ve):null!==st?(null!==F.$text$&&(Oe.textContent=""),Wr(Oe,null,Y,st,0,st.length-1)):!ve&&null!==Re&&Wi(Re,0,Re.length-1),$n&&"svg"===Lt&&($n=!1)):(jt=Oe["s-cr"])?jt.parentNode.textContent=Gt:F.$text$!==Gt&&(Oe.data=Gt)},J=F=>{const Y=F.childNodes;for(const ve of Y)if(1===ve.nodeType){if(ve["s-sr"]){const Oe=ve["s-sn"];ve.hidden=!1;for(const Re of Y)if(Re!==ve)if(Re["s-hn"]!==ve["s-hn"]||""!==Oe){if(1===Re.nodeType&&(Oe===Re.getAttribute("slot")||Oe===Re["s-sn"])||3===Re.nodeType&&Oe===Re["s-sn"]){ve.hidden=!0;break}}else if(1===Re.nodeType||3===Re.nodeType&&""!==Re.textContent.trim()){ve.hidden=!0;break}}J(ve)}},O=[],q=F=>{let Y,ve,Oe;for(const Re of F.childNodes){if(Re["s-sr"]&&(Y=Re["s-cr"])&&Y.parentNode){ve=Y.parentNode.childNodes;const st=Re["s-sn"];for(Oe=ve.length-1;Oe>=0;Oe--)if(Y=ve[Oe],!(Y["s-cn"]||Y["s-nr"]||Y["s-hn"]===Re["s-hn"]||Y["s-sh"]&&Y["s-sh"]===Re["s-hn"]))if(we(Y,st)){let Lt=O.find(Gt=>Gt.$nodeToRelocate$===Y);lt=!0,Y["s-sn"]=Y["s-sn"]||st,Lt?(Lt.$nodeToRelocate$["s-sh"]=Re["s-hn"],Lt.$slotRefNode$=Re):(Y["s-sh"]=Re["s-hn"],O.push({$slotRefNode$:Re,$nodeToRelocate$:Y})),Y["s-sr"]&&O.map(Gt=>{we(Gt.$nodeToRelocate$,Y["s-sn"])&&(Lt=O.find(jt=>jt.$nodeToRelocate$===Y),Lt&&!Gt.$slotRefNode$&&(Gt.$slotRefNode$=Lt.$slotRefNode$))})}else O.some(Lt=>Lt.$nodeToRelocate$===Y)||O.push({$nodeToRelocate$:Y})}1===Re.nodeType&&q(Re)}},we=(F,Y)=>1===F.nodeType?null===F.getAttribute("slot")&&""===Y||F.getAttribute("slot")===Y:F["s-sn"]===Y||""===Y,ae=F=>{F.$attrs$&&F.$attrs$.ref&&F.$attrs$.ref(null),F.$children$&&F.$children$.map(ae)},Je=(F,Y,ve)=>{const Oe=F?.insertBefore(Y,ve);return ln(Y,F),Oe},bt=F=>{const Y=[];return F&&Y.push(...F["s-scs"]||[],F["s-si"],F["s-sc"],...bt(F.parentElement)),Y},ln=(F,Y,ve=!1)=>{var Oe;if(F&&Y&&1===F.nodeType){const Re=new Set(bt(Y).filter(Boolean));if(Re.size&&(null==(Oe=F.classList)||Oe.add(...F["s-scs"]=[...Re]),F["s-ol"]||ve))for(const st of Array.from(F.childNodes))ln(st,F,!0)}},er=(F,Y)=>{Y&&!F.$onRenderResolve$&&Y["s-p"]&&Y["s-p"].push(new Promise(ve=>F.$onRenderResolve$=ve))},zn=(F,Y)=>{if(F.$flags$|=16,!(4&F.$flags$))return er(F,F.$ancestorComponent$),Nt(()=>wi(F,Y));F.$flags$|=512},wi=(F,Y)=>{const Re=F.$lazyInstance$;if(!Re)throw new Error(`Can't render component <${F.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let st;return Y&&(F.$flags$|=256,F.$queuedListeners$&&(F.$queuedListeners$.map(([Lt,Gt])=>ui(Re,Lt,Gt)),F.$queuedListeners$=void 0),st=ui(Re,"componentWillLoad")),st=Qr(st,()=>ui(Re,"componentWillRender")),Qr(st,()=>ti(F,Re,Y))},Qr=(F,Y)=>hr(F)?F.then(Y).catch(ve=>{console.error(ve),Y()}):Y(),hr=F=>F instanceof Promise||F&&F.then&&"function"==typeof F.then,ti=function(){var F=(0,a.A)(function*(Y,ve,Oe){var Re;const st=Y.$hostElement$,Gt=st["s-rc"];Oe&&(F=>{const Y=F.$cmpMeta$,ve=F.$hostElement$,Oe=Y.$flags$,st=St(ve.shadowRoot?ve.shadowRoot:ve.getRootNode(),Y,F.$modeName$);10&Oe&&2&Oe&&(ve["s-sc"]=st,ve.classList.add(st+"-h"),2&Oe&&ve.classList.add(st+"-s"))})(Y);Wo(Y,ve,st,Oe),Gt&&(Gt.map(Wt=>Wt()),st["s-rc"]=void 0);{const Wt=null!=(Re=st["s-p"])?Re:[],cn=()=>bi(Y);0===Wt.length?cn():(Promise.all(Wt).then(cn),Y.$flags$|=4,Wt.length=0)}});return function(ve,Oe,Re){return F.apply(this,arguments)}}(),Wo=(F,Y,ve,Oe)=>{try{Y=Y.render&&Y.render(),F.$flags$&=-17,F.$flags$|=2,((F,Y,ve=!1)=>{var Oe,Re,st,Lt,Gt;const jt=F.$hostElement$,Wt=F.$cmpMeta$,cn=F.$vnode$||vn(null,null),En=(F=>F&&F.$tag$===gn)(Y)?Y:kn(null,null,Y);if(In=jt.tagName,Wt.$attrsToReflect$&&(En.$attrs$=En.$attrs$||{},Wt.$attrsToReflect$.map(([Rn,Nn])=>En.$attrs$[Nn]=jt[Rn])),ve&&En.$attrs$)for(const Rn of Object.keys(En.$attrs$))jt.hasAttribute(Rn)&&!["key","ref","style","class"].includes(Rn)&&(En.$attrs$[Rn]=jt[Rn]);if(En.$tag$=null,En.$flags$|=4,F.$vnode$=En,En.$elm$=cn.$elm$=jt.shadowRoot||jt,mt=jt["s-sc"],wr=!!(1&Wt.$flags$),mn=jt["s-cr"],lt=!1,Ne(cn,En,ve),Bt.$flags$|=1,cr){q(En.$elm$);for(const Rn of O){const Nn=Rn.$nodeToRelocate$;if(!Nn["s-ol"]){const Cr=Se.createTextNode("");Cr["s-nr"]=Nn,Je(Nn.parentNode,Nn["s-ol"]=Cr,Nn)}}for(const Rn of O){const Nn=Rn.$nodeToRelocate$,Cr=Rn.$slotRefNode$;if(Cr){const Fr=Cr.parentNode;let Vr=Cr.nextSibling;if(Vr&&1===Vr.nodeType){let Lr=null==(Oe=Nn["s-ol"])?void 0:Oe.previousSibling;for(;Lr;){let fr=null!=(Re=Lr["s-nr"])?Re:null;if(fr&&fr["s-sn"]===Nn["s-sn"]&&Fr===fr.parentNode){for(fr=fr.nextSibling;fr===Nn||fr?.["s-sr"];)fr=fr?.nextSibling;if(!fr||!fr["s-nr"]){Vr=fr;break}}Lr=Lr.previousSibling}}(!Vr&&Fr!==Nn.parentNode||Nn.nextSibling!==Vr)&&Nn!==Vr&&(Je(Fr,Nn,Vr),1===Nn.nodeType&&(Nn.hidden=null!=(st=Nn["s-ih"])&&st)),Nn&&"function"==typeof Cr["s-rf"]&&Cr["s-rf"](Nn)}else 1===Nn.nodeType&&(ve&&(Nn["s-ih"]=null!=(Lt=Nn.hidden)&&Lt),Nn.hidden=!0)}}if(lt&&J(En.$elm$),Bt.$flags$&=-2,O.length=0,2&Wt.$flags$)for(const Rn of En.$elm$.childNodes)Rn["s-hn"]!==In&&!Rn["s-sh"]&&(ve&&null==Rn["s-ih"]&&(Rn["s-ih"]=null!=(Gt=Rn.hidden)&&Gt),Rn.hidden=!0);mn=void 0})(F,Y,Oe)}catch(Re){ke(Re,F.$hostElement$)}return null},bi=F=>{const ve=F.$hostElement$,Re=F.$lazyInstance$,st=F.$ancestorComponent$;ui(Re,"componentDidRender"),64&F.$flags$?ui(Re,"componentDidUpdate"):(F.$flags$|=64,_i(ve),ui(Re,"componentDidLoad"),F.$onReadyResolve$(ve),st||lo()),F.$onInstanceResolve$(ve),F.$onRenderResolve$&&(F.$onRenderResolve$(),F.$onRenderResolve$=void 0),512&F.$flags$&&qe(()=>zn(F,!1)),F.$flags$&=-517},li=F=>{{const Y=Ue(F),ve=Y.$hostElement$.isConnected;return ve&&2==(18&Y.$flags$)&&zn(Y,!1),ve}},lo=F=>{_i(Se.documentElement),qe(()=>ar(Tt,"appload",{detail:{namespace:"ionic"}}))},ui=(F,Y,ve)=>{if(F&&F[Y])try{return F[Y](ve)}catch(Oe){ke(Oe)}},_i=F=>F.classList.add("hydrated"),Io=(F,Y,ve)=>{var Oe,Re;const st=F.prototype;if(Y.$members$||Y.$watchers$||F.watchers){F.watchers&&!Y.$watchers$&&(Y.$watchers$=F.watchers);const Lt=Object.entries(null!=(Oe=Y.$members$)?Oe:{});if(Lt.map(([Gt,[jt]])=>{31&jt||2&ve&&32&jt?Object.defineProperty(st,Gt,{get(){return((F,Y)=>Ue(this).$instanceValues$.get(Y))(0,Gt)},set(Wt){((F,Y,ve,Oe)=>{const Re=Ue(F);if(!Re)throw new Error(`Couldn't find host element for "${Oe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const st=Re.$hostElement$,Lt=Re.$instanceValues$.get(Y),Gt=Re.$flags$,jt=Re.$lazyInstance$;ve=((F,Y)=>null==F||Xt(F)?F:4&Y?"false"!==F&&(""===F||!!F):2&Y?parseFloat(F):1&Y?String(F):F)(ve,Oe.$members$[Y][0]);const Wt=Number.isNaN(Lt)&&Number.isNaN(ve);if((!(8&Gt)||void 0===Lt)&&ve!==Lt&&!Wt&&(Re.$instanceValues$.set(Y,ve),jt)){if(Oe.$watchers$&&128&Gt){const En=Oe.$watchers$[Y];En&&En.map(Rn=>{try{jt[Rn](ve,Lt,Y)}catch(Nn){ke(Nn,st)}})}2==(18&Gt)&&zn(Re,!1)}})(this,Gt,Wt,Y)},configurable:!0,enumerable:!0}):1&ve&&64&jt&&Object.defineProperty(st,Gt,{value(...Wt){var cn;const En=Ue(this);return null==(cn=En?.$onInstancePromise$)?void 0:cn.then(()=>{var Rn;return null==(Rn=En.$lazyInstance$)?void 0:Rn[Gt](...Wt)})}})}),1&ve){const Gt=new Map;st.attributeChangedCallback=function(jt,Wt,cn){Bt.jmp(()=>{var En;const Rn=Gt.get(jt);if(this.hasOwnProperty(Rn))cn=this[Rn],delete this[Rn];else{if(st.hasOwnProperty(Rn)&&"number"==typeof this[Rn]&&this[Rn]==cn)return;if(null==Rn){const Nn=Ue(this),Cr=Nn?.$flags$;if(Cr&&!(8&Cr)&&128&Cr&&cn!==Wt){const Fr=Nn.$lazyInstance$,Vr=null==(En=Y.$watchers$)?void 0:En[jt];Vr?.forEach(Lr=>{null!=Fr[Lr]&&Fr[Lr].call(Fr,cn,Wt,jt)})}return}}this[Rn]=(null!==cn||"boolean"!=typeof this[Rn])&&cn})},F.observedAttributes=Array.from(new Set([...Object.keys(null!=(Re=Y.$watchers$)?Re:{}),...Lt.filter(([jt,Wt])=>15&Wt[0]).map(([jt,Wt])=>{var cn;const En=Wt[1]||jt;return Gt.set(En,jt),512&Wt[0]&&(null==(cn=Y.$attrsToReflect$)||cn.push([jt,En])),En})]))}}return F},Mi=function(){var F=(0,a.A)(function*(Y,ve,Oe,Re){let st;if(!(32&ve.$flags$)){if(ve.$flags$|=32,Oe.$lazyBundleId$){const Wt=(F=>{const Oe=F.$tagName$.replace(/-/g,"_"),Re=F.$lazyBundleId$;if(!Re)return;const st=Be.get(Re);return st?st[Oe]:N(8996)(`./${Re}.entry.js`).then(Lt=>(Be.set(Re,Lt),Lt[Oe]),ke)})(Oe);if(Wt&&"then"in Wt){const En=()=>{};st=yield Wt,En()}else st=Wt;if(!st)throw new Error(`Constructor for "${Oe.$tagName$}#${ve.$modeName$}" was not found`);st.isProxied||(Oe.$watchers$=st.watchers,Io(st,Oe,2),st.isProxied=!0);const cn=()=>{};ve.$flags$|=8;try{new st(ve)}catch(En){ke(En)}ve.$flags$&=-9,ve.$flags$|=128,cn(),Eo(ve.$lazyInstance$)}else st=Y.constructor,customElements.whenDefined(Y.localName).then(()=>ve.$flags$|=128);if(st&&st.style){let Wt;"string"==typeof st.style?Wt=st.style:"string"!=typeof st.style&&(ve.$modeName$=(F=>nt.map(Y=>Y(F)).find(Y=>!!Y))(Y),ve.$modeName$&&(Wt=st.style[ve.$modeName$]));const cn=Fe(Oe,ve.$modeName$);if(!Me.has(cn)){const En=()=>{};((F,Y,ve)=>{let Oe=Me.get(F);me&&ve?(Oe=Oe||new CSSStyleSheet,"string"==typeof Oe?Oe=Y:Oe.replaceSync(Y)):Oe=Y,Me.set(F,Oe)})(cn,Wt,!!(1&Oe.$flags$)),En()}}}const Lt=ve.$ancestorComponent$,Gt=()=>zn(ve,!0);Lt&&Lt["s-rc"]?Lt["s-rc"].push(Gt):Gt()});return function(ve,Oe,Re,st){return F.apply(this,arguments)}}(),Eo=F=>{ui(F,"connectedCallback")},qn=F=>{const Y=F["s-cr"]=Se.createComment("");Y["s-cn"]=!0,Je(F,Y,F.firstChild)},tr=F=>{ui(F,"disconnectedCallback")},gs=function(){var F=(0,a.A)(function*(Y){if(!(1&Bt.$flags$)){const ve=Ue(Y);ve.$rmListeners$&&(ve.$rmListeners$.map(Oe=>Oe()),ve.$rmListeners$=void 0),ve?.$lazyInstance$?tr(ve.$lazyInstance$):ve?.$onReadyPromise$&&ve.$onReadyPromise$.then(()=>tr(ve.$lazyInstance$))}});return function(ve){return F.apply(this,arguments)}}(),os=F=>{const Y=F.cloneNode;F.cloneNode=function(ve){const Oe=this,Re=Oe.shadowRoot&&true,st=Y.call(Oe,!!Re&&ve);if(!Re&&ve){let Gt,jt,Lt=0;const Wt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Lt<Oe.childNodes.length;Lt++)Gt=Oe.childNodes[Lt]["s-nr"],jt=Wt.every(cn=>!Oe.childNodes[Lt][cn]),Gt&&(st.__appendChild?st.__appendChild(Gt.cloneNode(!0)):st.appendChild(Gt.cloneNode(!0))),jt&&st.appendChild(Oe.childNodes[Lt].cloneNode(!0))}return st}},Ua=F=>{F.__appendChild=F.appendChild,F.appendChild=function(Y){const ve=Y["s-sn"]=br(Y),Oe=ho(this.childNodes,ve,this.tagName);if(Oe){const Re=Zi(Oe,ve),st=Re[Re.length-1],Lt=Je(st.parentNode,Y,st.nextSibling);return J(this),Lt}return this.__appendChild(Y)}},ss=F=>{F.__removeChild=F.removeChild,F.removeChild=function(Y){if(Y&&typeof Y["s-sn"]<"u"){const ve=ho(this.childNodes,Y["s-sn"],this.tagName);if(ve){const Re=Zi(ve,Y["s-sn"]).find(st=>st===Y);if(Re)return Re.remove(),void J(this)}}return this.__removeChild(Y)}},Yr=F=>{const Y=F.prepend;F.prepend=function(...ve){ve.forEach(Oe=>{"string"==typeof Oe&&(Oe=this.ownerDocument.createTextNode(Oe));const Re=Oe["s-sn"]=br(Oe),st=ho(this.childNodes,Re,this.tagName);if(st){const Lt=document.createTextNode("");Lt["s-nr"]=Oe,st["s-cr"].parentNode.__appendChild(Lt),Oe["s-ol"]=Lt;const jt=Zi(st,Re)[0];return Je(jt.parentNode,Oe,jt.nextSibling)}return 1===Oe.nodeType&&Oe.getAttribute("slot")&&(Oe.hidden=!0),Y.call(this,Oe)})}},sr=F=>{F.append=function(...Y){Y.forEach(ve=>{"string"==typeof ve&&(ve=this.ownerDocument.createTextNode(ve)),this.appendChild(ve)})}},uo=F=>{const Y=F.insertAdjacentHTML;F.insertAdjacentHTML=function(ve,Oe){if("afterbegin"!==ve&&"beforeend"!==ve)return Y.call(this,ve,Oe);const Re=this.ownerDocument.createElement("_");let st;if(Re.innerHTML=Oe,"afterbegin"===ve)for(;st=Re.firstChild;)this.prepend(st);else if("beforeend"===ve)for(;st=Re.firstChild;)this.append(st)}},ms=F=>{F.insertAdjacentText=function(Y,ve){this.insertAdjacentHTML(Y,ve)}},Vi=F=>{const Y=F.insertAdjacentElement;F.insertAdjacentElement=function(ve,Oe){return"afterbegin"!==ve&&"beforeend"!==ve?Y.call(this,ve,Oe):"afterbegin"===ve?(this.prepend(Oe),Oe):("beforeend"===ve&&this.append(Oe),Oe)}},Ur=F=>{const Y=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(F,"__textContent",Y),Object.defineProperty(F,"textContent",{get(){return" "+di(this.childNodes).map(Re=>{var st,Lt;const Gt=[];let jt=Re.nextSibling;for(;jt&&jt["s-sn"]===Re["s-sn"];)(3===jt.nodeType||1===jt.nodeType)&&Gt.push(null!=(Lt=null==(st=jt.textContent)?void 0:st.trim())?Lt:""),jt=jt.nextSibling;return Gt.filter(Wt=>""!==Wt).join(" ")}).filter(Re=>""!==Re).join(" ")+" "},set(ve){di(this.childNodes).forEach(Re=>{let st=Re.nextSibling;for(;st&&st["s-sn"]===Re["s-sn"];){const Lt=st;st=st.nextSibling,Lt.remove()}if(""===Re["s-sn"]){const Lt=this.ownerDocument.createTextNode(ve);Lt["s-sn"]="",Je(Re.parentElement,Lt,Re.nextSibling)}else Re.remove()})}})},vs=(F,Y)=>{class ve extends Array{item(Re){return this[Re]}}if(8&Y.$flags$){const Oe=F.__lookupGetter__("childNodes");Object.defineProperty(F,"children",{get(){return this.childNodes.map(Re=>1===Re.nodeType)}}),Object.defineProperty(F,"childElementCount",{get:()=>F.children.length}),Object.defineProperty(F,"childNodes",{get(){const Re=Oe.call(this);if(!(1&Bt.$flags$)&&2&Ue(this).$flags$){const st=new ve;for(let Lt=0;Lt<Re.length;Lt++){const Gt=Re[Lt]["s-nr"];Gt&&st.push(Gt)}return st}return ve.from(Re)}})}},di=F=>{const Y=[];for(const ve of Array.from(F))ve["s-sr"]&&Y.push(ve),Y.push(...di(ve.childNodes));return Y},br=F=>F["s-sn"]||1===F.nodeType&&F.getAttribute("slot")||"",ho=(F,Y,ve)=>{let Re,Oe=0;for(;Oe<F.length;Oe++)if(Re=F[Oe],Re["s-sr"]&&Re["s-sn"]===Y&&Re["s-hn"]===ve||(Re=ho(Re.childNodes,Y,ve),Re))return Re;return null},Zi=(F,Y)=>{const ve=[F];for(;(F=F.nextSibling)&&F["s-sn"]===Y;)ve.push(F);return ve},Ei=(F,Y={})=>{var ve;const Re=[],st=Y.exclude||[],Lt=Tt.customElements,Gt=Se.head,jt=Gt.querySelector("meta[charset]"),Wt=Se.createElement("style"),cn=[];let En,Rn=!0;Object.assign(Bt,Y),Bt.$resourcesUrl$=new URL(Y.resourcesUrl||"./",Se.baseURI).href,Bt.$flags$|=2;let Nn=!1;if(F.map(Cr=>{Cr[1].map(Fr=>{var Vr;const Lr={$flags$:Fr[0],$tagName$:Fr[1],$members$:Fr[2],$listeners$:Fr[3]};4&Lr.$flags$&&(Nn=!0),Lr.$members$=Fr[2],Lr.$listeners$=Fr[3],Lr.$attrsToReflect$=[],Lr.$watchers$=null!=(Vr=Fr[4])?Vr:{};const fr=Lr.$tagName$,Ji=class extends HTMLElement{constructor(Ai){if(super(Ai),this.hasRegisteredEventListeners=!1,((F,Y)=>{const ve={$flags$:0,$hostElement$:F,$cmpMeta$:Y,$instanceValues$:new Map};ve.$onInstancePromise$=new Promise(Oe=>ve.$onInstanceResolve$=Oe),ve.$onReadyPromise$=new Promise(Oe=>ve.$onReadyResolve$=Oe),F["s-p"]=[],F["s-rc"]=[],Te.set(F,ve)})(Ai=this,Lr),1&Lr.$flags$)if(Ai.shadowRoot){if("open"!==Ai.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Lr.$tagName$}! Mode is set to ${Ai.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Ai.attachShadow({mode:"open",delegatesFocus:!!(16&Lr.$flags$)})}connectedCallback(){const Ai=Ue(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,U(this,Ai,Lr.$listeners$)),En&&(clearTimeout(En),En=null),Rn?cn.push(this):Bt.jmp(()=>(F=>{if(!(1&Bt.$flags$)){const Y=Ue(F),ve=Y.$cmpMeta$,Oe=()=>{};if(1&Y.$flags$)U(F,Y,ve.$listeners$),Y?.$lazyInstance$?Eo(Y.$lazyInstance$):Y?.$onReadyPromise$&&Y.$onReadyPromise$.then(()=>Eo(Y.$lazyInstance$));else{let Re;if(Y.$flags$|=1,Re=F.getAttribute(ct),Re){if(1&ve.$flags$){const st=St(F.shadowRoot,ve,F.getAttribute("s-mode"));F.classList.remove(st+"-h",st+"-s")}((F,Y,ve,Oe)=>{const st=F.shadowRoot,Lt=[],jt=st?[]:null,Wt=Oe.$vnode$=vn(Y,null);Bt.$orgLocNodes$||or(Se.body,Bt.$orgLocNodes$=new Map),F[ct]=ve,F.removeAttribute(ct),An(Wt,Lt,[],jt,F,F,ve),Lt.map(cn=>{const En=cn.$hostId$+"."+cn.$nodeId$,Rn=Bt.$orgLocNodes$.get(En),Nn=cn.$elm$;Rn&&""===Rn["s-en"]&&Rn.parentNode.insertBefore(Nn,Rn.nextSibling),st||(Nn["s-hn"]=Y,Rn&&(Nn["s-ol"]=Rn,Nn["s-ol"]["s-nr"]=Nn)),Bt.$orgLocNodes$.delete(En)}),st&&jt.map(cn=>{cn&&st.appendChild(cn)})})(F,ve.$tagName$,Re,Y)}Re||12&ve.$flags$&&qn(F);{let st=F;for(;st=st.parentNode||st.host;)if(1===st.nodeType&&st.hasAttribute("s-id")&&st["s-p"]||st["s-p"]){er(Y,Y.$ancestorComponent$=st);break}}ve.$members$&&Object.entries(ve.$members$).map(([st,[Lt]])=>{if(31&Lt&&F.hasOwnProperty(st)){const Gt=F[st];delete F[st],F[st]=Gt}}),Mi(F,Y,ve)}Oe()}})(this))}disconnectedCallback(){Bt.jmp(()=>gs(this))}componentOnReady(){return Ue(this).$onReadyPromise$}};2&Lr.$flags$&&((F,Y)=>{os(F),Ua(F),sr(F),Yr(F),Vi(F),uo(F),ms(F),Ur(F),vs(F,Y),ss(F)})(Ji.prototype,Lr),Lr.$lazyBundleId$=Cr[0],!st.includes(fr)&&!Lt.get(fr)&&(Re.push(fr),Lt.define(fr,Io(Ji,Lr,1)))})}),Re.length>0&&(Nn&&(Wt.textContent+=it),Wt.textContent+=Re.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Wt.innerHTML.length)){Wt.setAttribute("data-styles","");const Cr=null!=(ve=Bt.$nonce$)?ve:Ot(Se);null!=Cr&&Wt.setAttribute("nonce",Cr),Gt.insertBefore(Wt,jt?jt.nextSibling:Gt.firstChild)}Rn=!1,cn.length?cn.map(Cr=>Cr.connectedCallback()):Bt.jmp(()=>En=setTimeout(lo,30))},U=(F,Y,ve,Oe)=>{ve&&ve.map(([Re,st,Lt])=>{const Gt=G(F,Re),jt=pr(Y,Lt),Wt=M(Re);Bt.ael(Gt,st,jt,Wt),(Y.$rmListeners$=Y.$rmListeners$||[]).push(()=>Bt.rel(Gt,st,jt,Wt))})},pr=(F,Y)=>ve=>{var Oe;try{256&F.$flags$?null==(Oe=F.$lazyInstance$)||Oe[Y](ve):(F.$queuedListeners$=F.$queuedListeners$||[]).push([Y,ve])}catch(Re){ke(Re)}},G=(F,Y)=>4&Y?Se:8&Y?Tt:16&Y?Se.body:F,M=F=>Cn?{passive:!!(1&F),capture:!!(2&F)}:!!(2&F)},8607:(fn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>He});var a=N(1970);const L=(Be,Le,Me,nt)=>{const Qe=re(Be)?{capture:!!nt.capture,passive:!!nt.passive}:!!nt.capture;let Ve,_t;return Be.__zone_symbol__addEventListener?(Ve="__zone_symbol__addEventListener",_t="__zone_symbol__removeEventListener"):(Ve="addEventListener",_t="removeEventListener"),Be[Ve](Le,Me,Qe),()=>{Be[_t](Le,Me,Qe)}},re=Be=>{if(void 0===Q)try{const Le=Object.defineProperty({},"passive",{get:()=>{Q=!0}});Be.addEventListener("optsTest",()=>{},Le)}catch{Q=!1}return!!Q};let Q;const Te=Be=>Be instanceof Document?Be:Be.ownerDocument,He=Be=>{let Le=!1,Me=!1,nt=!0,Qe=!1;const Ve=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Be),_t=Ve.canStart,dt=Ve.onWillStart,ct=Ve.onStart,Ie=Ve.onEnd,ge=Ve.notCaptured,Ge=Ve.onMove,it=Ve.threshold,$e=Ve.passive,Tt=Ve.blurOnStart,Se={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Vt=((Be,Le,Me)=>{const nt=Me*(Math.PI/180),Qe="x"===Be,Ve=Math.cos(nt),_t=Le*Le;let dt=0,ct=0,Ie=!1,ge=0;return{start(Ge,it){dt=Ge,ct=it,ge=0,Ie=!0},detect(Ge,it){if(!Ie)return!1;const $e=Ge-dt,Tt=it-ct,Se=$e*$e+Tt*Tt;if(Se<_t)return!1;const Vt=Math.sqrt(Se),Bt=(Qe?$e:Tt)/Vt;return ge=Bt>Ve?1:Bt<-Ve?-1:0,Ie=!1,!0},isGesture:()=>0!==ge,getDirection:()=>ge}})(Ve.direction,Ve.threshold,Ve.maxAngle),Bt=a.G.createGesture({name:Be.gestureName,priority:Be.gesturePriority,disableScroll:Be.disableScroll}),Cn=()=>{Le&&(Qe=!1,Ge&&Ge(Se))},pt=()=>!!Bt.capture()&&(Le=!0,nt=!1,Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime,dt?dt(Se).then(fe):fe(),!0),fe=()=>{Tt&&(()=>{if(typeof document<"u"){const le=document.activeElement;le?.blur&&le.blur()}})(),ct&&ct(Se),nt=!0},_e=()=>{Le=!1,Me=!1,Qe=!1,nt=!0,Bt.release()},Z=le=>{const qe=Le,Ee=nt;if(_e(),Ee){if(ye(Se,le),qe)return void(Ie&&Ie(Se));ge&&ge(Se)}},pe=((Be,Le,Me,nt,Qe)=>{let Ve,_t,dt,ct,Ie,ge,Ge,it=0;const $e=me=>{it=Date.now()+2e3,Le(me)&&(!_t&&Me&&(_t=L(Be,"touchmove",Me,Qe)),dt||(dt=L(me.target,"touchend",Se,Qe)),ct||(ct=L(me.target,"touchcancel",Se,Qe)))},Tt=me=>{it>Date.now()||Le(me)&&(!ge&&Me&&(ge=L(Te(Be),"mousemove",Me,Qe)),Ge||(Ge=L(Te(Be),"mouseup",Vt,Qe)))},Se=me=>{Bt(),nt&&nt(me)},Vt=me=>{pn(),nt&&nt(me)},Bt=()=>{_t&&_t(),dt&&dt(),ct&&ct(),_t=dt=ct=void 0},pn=()=>{ge&&ge(),Ge&&Ge(),ge=Ge=void 0},Yt=()=>{Bt(),pn()},Cn=(me=!0)=>{me?(Ve||(Ve=L(Be,"touchstart",$e,Qe)),Ie||(Ie=L(Be,"mousedown",Tt,Qe))):(Ve&&Ve(),Ie&&Ie(),Ve=Ie=void 0,Yt())};return{enable:Cn,stop:Yt,destroy:()=>{Cn(!1),nt=Me=Le=void 0}}})(Ve.el,le=>{const qe=ke(le);return!(Me||!nt||(oe(le,Se),Se.startX=Se.currentX,Se.startY=Se.currentY,Se.startTime=Se.currentTime=qe,Se.velocityX=Se.velocityY=Se.deltaX=Se.deltaY=0,Se.event=le,_t&&!1===_t(Se))||(Bt.release(),!Bt.start()))&&(Me=!0,0===it?pt():(Vt.start(Se.startX,Se.startY),!0))},le=>{Le?!Qe&&nt&&(Qe=!0,ye(Se,le),requestAnimationFrame(Cn)):(ye(Se,le),Vt.detect(Se.currentX,Se.currentY)&&(!Vt.isGesture()||!pt())&&Ye())},Z,{capture:!1,passive:$e}),Ye=()=>{_e(),pe.stop(),ge&&ge(Se)};return{enable(le=!0){le||(Le&&Z(void 0),_e()),pe.enable(le)},destroy(){Bt.destroy(),pe.destroy()}}},ye=(Be,Le)=>{if(!Le)return;const Me=Be.currentX,nt=Be.currentY,Qe=Be.currentTime;oe(Le,Be);const Ve=Be.currentX,_t=Be.currentY,ct=(Be.currentTime=ke(Le))-Qe;if(ct>0&&ct<100){const ge=(_t-nt)/ct;Be.velocityX=(Ve-Me)/ct*.7+.3*Be.velocityX,Be.velocityY=.7*ge+.3*Be.velocityY}Be.deltaX=Ve-Be.startX,Be.deltaY=_t-Be.startY,Be.event=Le},oe=(Be,Le)=>{let Me=0,nt=0;if(Be){const Qe=Be.changedTouches;if(Qe&&Qe.length>0){const Ve=Qe[0];Me=Ve.clientX,nt=Ve.clientY}else void 0!==Be.pageX&&(Me=Be.pageX,nt=Be.pageY)}Le.currentX=Me,Le.currentY=nt},ke=Be=>Be.timeStamp||Date.now()},3604:(fn,ft,N)=>{"use strict";N.d(ft,{b:()=>Ue,c:()=>He,d:()=>ye,e:()=>Yt,g:()=>me,l:()=>Bt,s:()=>Cn,t:()=>Ve,w:()=>pn});var a=N(467),L=N(9483),re=N(4261),Q=N(4929),be=N(4920);const Ue="ionViewWillLeave",He="ionViewDidLeave",ye="ionViewWillUnload",oe=fe=>{fe.tabIndex=-1,fe.focus()},ke=fe=>null!==fe.offsetParent,Le="ion-last-focus",Qe_saveViewFocus=Z=>{if(L.c.get("focusManagerPriority",!1)){const Ye=document.activeElement;null!==Ye&&Z?.contains(Ye)&&Ye.setAttribute(Le,"true")}},Qe_setViewFocus=Z=>{const pe=L.c.get("focusManagerPriority",!1);if(Array.isArray(pe)&&!Z.contains(document.activeElement)){const Ye=Z.querySelector(`[${Le}]`);if(Ye&&ke(Ye))return void oe(Ye);for(const le of pe)switch(le){case"content":const qe=Z.querySelector('main, [role="main"]');if(qe&&ke(qe))return void oe(qe);break;case"heading":const Ee=Z.querySelector('h1, [role="heading"][aria-level="1"]');if(Ee&&ke(Ee))return void oe(Ee);break;case"banner":const Nt=Z.querySelector('header, [role="banner"]');if(Nt&&ke(Nt))return void oe(Nt);break;default:(0,Q.p)(`Unrecognized focus manager priority value ${le}`)}oe(Z)}},Ve=fe=>new Promise((_e,Z)=>{(0,re.w)(()=>{_t(fe),dt(fe).then(pe=>{pe.animation&&pe.animation.destroy(),ct(fe),_e(pe)},pe=>{ct(fe),Z(pe)})})}),_t=fe=>{const _e=fe.enteringEl,Z=fe.leavingEl;Qe_saveViewFocus(Z),pt(_e,Z,fe.direction),fe.showGoBack?_e.classList.add("can-go-back"):_e.classList.remove("can-go-back"),Cn(_e,!1),_e.style.setProperty("pointer-events","none"),Z&&(Cn(Z,!1),Z.style.setProperty("pointer-events","none"))},dt=function(){var fe=(0,a.A)(function*(_e){const Z=yield Ie(_e);return Z&&re.B.isBrowser?ge(Z,_e):Ge(_e)});return function(Z){return fe.apply(this,arguments)}}(),ct=fe=>{const _e=fe.enteringEl,Z=fe.leavingEl;_e.classList.remove("ion-page-invisible"),_e.style.removeProperty("pointer-events"),void 0!==Z&&(Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events")),Qe_setViewFocus(_e)},Ie=function(){var fe=(0,a.A)(function*(_e){return _e.leavingEl&&_e.animated&&0!==_e.duration?_e.animationBuilder?_e.animationBuilder:"ios"===_e.mode?(yield Promise.resolve().then(N.bind(N,5022))).iosTransitionAnimation:(yield Promise.resolve().then(N.bind(N,3615))).mdTransitionAnimation:void 0});return function(Z){return fe.apply(this,arguments)}}(),ge=function(){var fe=(0,a.A)(function*(_e,Z){yield it(Z,!0);const pe=_e(Z.baseEl,Z);Se(Z.enteringEl,Z.leavingEl);const Ye=yield Tt(pe,Z);return Z.progressCallback&&Z.progressCallback(void 0),Ye&&Vt(Z.enteringEl,Z.leavingEl),{hasCompleted:Ye,animation:pe}});return function(Z,pe){return fe.apply(this,arguments)}}(),Ge=function(){var fe=(0,a.A)(function*(_e){const Z=_e.enteringEl,pe=_e.leavingEl,Ye=L.c.get("focusManagerPriority",!1);return yield it(_e,Ye),Se(Z,pe),Vt(Z,pe),{hasCompleted:!0}});return function(Z){return fe.apply(this,arguments)}}(),it=function(){var fe=(0,a.A)(function*(_e,Z){(void 0!==_e.deepWait?_e.deepWait:Z)&&(yield Promise.all([Yt(_e.enteringEl),Yt(_e.leavingEl)])),yield $e(_e.viewIsReady,_e.enteringEl)});return function(Z,pe){return fe.apply(this,arguments)}}(),$e=function(){var fe=(0,a.A)(function*(_e,Z){_e&&(yield _e(Z))});return function(Z,pe){return fe.apply(this,arguments)}}(),Tt=(fe,_e)=>{const Z=_e.progressCallback,pe=new Promise(Ye=>{fe.onFinish(le=>Ye(1===le))});return Z?(fe.progressStart(!0),Z(fe)):fe.play(),pe},Se=(fe,_e)=>{Bt(_e,Ue),Bt(fe,"ionViewWillEnter")},Vt=(fe,_e)=>{Bt(fe,"ionViewDidEnter"),Bt(_e,He)},Bt=(fe,_e)=>{if(fe){const Z=new CustomEvent(_e,{bubbles:!1,cancelable:!1});fe.dispatchEvent(Z)}},pn=()=>new Promise(fe=>(0,be.r)(()=>(0,be.r)(()=>fe()))),Yt=function(){var fe=(0,a.A)(function*(_e){const Z=_e;if(Z){if(null!=Z.componentOnReady){if(null!=(yield Z.componentOnReady()))return}else if(null!=Z.__registerHost)return void(yield new Promise(Ye=>(0,be.r)(Ye)));yield Promise.all(Array.from(Z.children).map(Yt))}});return function(Z){return fe.apply(this,arguments)}}(),Cn=(fe,_e)=>{_e?(fe.setAttribute("aria-hidden","true"),fe.classList.add("ion-page-hidden")):(fe.hidden=!1,fe.removeAttribute("aria-hidden"),fe.classList.remove("ion-page-hidden"))},pt=(fe,_e,Z)=>{void 0!==fe&&(fe.style.zIndex="back"===Z?"99":"101"),void 0!==_e&&(_e.style.zIndex="100")},me=fe=>fe.classList.contains("ion-page")?fe:fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||fe},4929:(fn,ft,N)=>{"use strict";N.d(ft,{a:()=>L,b:()=>re,p:()=>a});const a=(Q,...be)=>console.warn(`[Ionic Warning]: ${Q}`,...be),L=(Q,...be)=>console.error(`[Ionic Error]: ${Q}`,...be),re=(Q,...be)=>console.error(`<${Q.tagName.toLowerCase()}> must be used inside ${be.join(" or ")}.`)},8476:(fn,ft,N)=>{"use strict";N.d(ft,{d:()=>L,w:()=>a});const a=typeof window<"u"?window:void 0,L=typeof document<"u"?document:void 0},9568:(fn,ft,N)=>{"use strict";N.d(ft,{m:()=>Be});var a=N(467),L=N(8476),re=N(7192),Q=N(4929),be=N(4920),ce=N(9483),Te=N(9986);const Ue=Le=>(0,Te.c)().duration(Le?400:300),He=Le=>{let Me,nt;const Qe=Le.width+8,Ve=(0,Te.c)(),_t=(0,Te.c)();Le.isEndSide?(Me=Qe+"px",nt="0px"):(Me=-Qe+"px",nt="0px"),Ve.addElement(Le.menuInnerEl).fromTo("transform",`translateX(${Me})`,`translateX(${nt})`);const ct="ios"===(0,ce.b)(Le),Ie=ct?.2:.25;return _t.addElement(Le.backdropEl).fromTo("opacity",.01,Ie),Ue(ct).addAnimation([Ve,_t])},ye=Le=>{let Me,nt;const Qe=(0,ce.b)(Le),Ve=Le.width;Le.isEndSide?(Me=-Ve+"px",nt=Ve+"px"):(Me=Ve+"px",nt=-Ve+"px");const _t=(0,Te.c)().addElement(Le.menuInnerEl).fromTo("transform",`translateX(${nt})`,"translateX(0px)"),dt=(0,Te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${Me})`),ct=(0,Te.c)().addElement(Le.backdropEl).fromTo("opacity",.01,.32);return Ue("ios"===Qe).addAnimation([_t,dt,ct])},oe=Le=>{const Me=(0,ce.b)(Le),nt=Le.width*(Le.isEndSide?-1:1)+"px",Qe=(0,Te.c)().addElement(Le.contentEl).fromTo("transform","translateX(0px)",`translateX(${nt})`);return Ue("ios"===Me).addAnimation(Qe)},Be=(()=>{const Le=new Map,Me=[],nt=function(){var _e=(0,a.A)(function*(Z){const pe=yield ge(Z,!0);return!!pe&&pe.open()});return function(pe){return _e.apply(this,arguments)}}(),Qe=function(){var _e=(0,a.A)(function*(Z){const pe=yield void 0!==Z?ge(Z,!0):Ge();return void 0!==pe&&pe.close()});return function(pe){return _e.apply(this,arguments)}}(),Ve=function(){var _e=(0,a.A)(function*(Z){const pe=yield ge(Z,!0);return!!pe&&pe.toggle()});return function(pe){return _e.apply(this,arguments)}}(),_t=function(){var _e=(0,a.A)(function*(Z,pe){const Ye=yield ge(pe);return Ye&&(Ye.disabled=!Z),Ye});return function(pe,Ye){return _e.apply(this,arguments)}}(),dt=function(){var _e=(0,a.A)(function*(Z,pe){const Ye=yield ge(pe);return Ye&&(Ye.swipeGesture=Z),Ye});return function(pe,Ye){return _e.apply(this,arguments)}}(),ct=function(){var _e=(0,a.A)(function*(Z){if(null!=Z){const pe=yield ge(Z);return void 0!==pe&&pe.isOpen()}return void 0!==(yield Ge())});return function(pe){return _e.apply(this,arguments)}}(),Ie=function(){var _e=(0,a.A)(function*(Z){const pe=yield ge(Z);return!!pe&&!pe.disabled});return function(pe){return _e.apply(this,arguments)}}(),ge=function(){var _e=(0,a.A)(function*(Z,pe=!1){if(yield fe(),"start"===Z||"end"===Z){const le=Me.filter(Ee=>Ee.side===Z&&!Ee.disabled);if(le.length>=1)return le.length>1&&pe&&(0,Q.p)(`menuController queried for a menu on the "${Z}" side, but ${le.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,le.map(Ee=>Ee.el)),le[0].el;const qe=Me.filter(Ee=>Ee.side===Z);if(qe.length>=1)return qe.length>1&&pe&&(0,Q.p)(`menuController queried for a menu on the "${Z}" side, but ${qe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,qe.map(Ee=>Ee.el)),qe[0].el}else if(null!=Z)return me(le=>le.menuId===Z);return me(le=>!le.disabled)||(Me.length>0?Me[0].el:void 0)});return function(pe){return _e.apply(this,arguments)}}(),Ge=function(){var _e=(0,a.A)(function*(){return yield fe(),Yt()});return function(){return _e.apply(this,arguments)}}(),it=function(){var _e=(0,a.A)(function*(){return yield fe(),Cn()});return function(){return _e.apply(this,arguments)}}(),$e=function(){var _e=(0,a.A)(function*(){return yield fe(),pt()});return function(){return _e.apply(this,arguments)}}(),Tt=(_e,Z)=>{Le.set(_e,Z)},Bt=function(){var _e=(0,a.A)(function*(Z,pe,Ye){if(pt())return!1;if(pe){const le=yield Ge();le&&Z.el!==le&&(yield le.setOpen(!1,!1))}return Z._setOpen(pe,Ye)});return function(pe,Ye,le){return _e.apply(this,arguments)}}(),Yt=()=>me(_e=>_e._isOpen),Cn=()=>Me.map(_e=>_e.el),pt=()=>Me.some(_e=>_e.isAnimating),me=_e=>{const Z=Me.find(_e);if(void 0!==Z)return Z.el},fe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_e=>new Promise(Z=>(0,be.c)(_e,Z))));return Tt("reveal",oe),Tt("push",ye),Tt("overlay",He),null==L.d||L.d.addEventListener("ionBackButton",_e=>{const Z=Yt();Z&&_e.detail.register(re.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:Tt,get:ge,getMenus:it,getOpen:Ge,isEnabled:Ie,swipeGesture:dt,isAnimating:$e,isOpen:ct,enable:_t,toggle:Ve,close:Qe,open:nt,_getOpenSync:Yt,_createAnimation:(_e,Z)=>{const pe=Le.get(_e);if(!pe)throw new Error("animation not registered");return pe(Z)},_register:_e=>{Me.indexOf(_e)<0&&Me.push(_e)},_unregister:_e=>{const Z=Me.indexOf(_e);Z>-1&&Me.splice(Z,1)},_setOpen:Bt}})()},9483:(fn,ft,N)=>{"use strict";N.d(ft,{a:()=>oe,b:()=>Cn,c:()=>re,i:()=>pt});var a=N(4261);class L{constructor(){this.m=new Map}reset(fe){this.m=new Map(Object.entries(fe))}get(fe,_e){const Z=this.m.get(fe);return void 0!==Z?Z:_e}getBoolean(fe,_e=!1){const Z=this.m.get(fe);return void 0===Z?_e:"string"==typeof Z?"true"===Z:!!Z}getNumber(fe,_e){const Z=parseFloat(this.m.get(fe));return isNaN(Z)?void 0!==_e?_e:NaN:Z}set(fe,_e){this.m.set(fe,_e)}}const re=new L,He="ionic-persist-config",oe=(me,fe)=>("string"==typeof me&&(fe=me,me=void 0),(me=>ke(me))(me).includes(fe)),ke=(me=window)=>{if(typeof me>"u")return[];me.Ionic=me.Ionic||{};let fe=me.Ionic.platforms;return null==fe&&(fe=me.Ionic.platforms=Be(me),fe.forEach(_e=>me.document.documentElement.classList.add(`plt-${_e}`))),fe},Be=me=>{const fe=re.get("platform");return Object.keys(pn).filter(_e=>{const Z=fe?.[_e];return"function"==typeof Z?Z(me):pn[_e](me)})},Me=me=>!!(Vt(me,/iPad/i)||Vt(me,/Macintosh/i)&&Ie(me)),Ve=me=>Vt(me,/android|sink/i),Ie=me=>Bt(me,"(any-pointer:coarse)"),Ge=me=>it(me)||$e(me),it=me=>!!(me.cordova||me.phonegap||me.PhoneGap),$e=me=>{const fe=me.Capacitor;return!!fe?.isNative},Vt=(me,fe)=>fe.test(me.navigator.userAgent),Bt=(me,fe)=>{var _e;return null===(_e=me.matchMedia)||void 0===_e?void 0:_e.call(me,fe).matches},pn={ipad:Me,iphone:me=>Vt(me,/iPhone/i),ios:me=>Vt(me,/iPhone|iPod/i)||Me(me),android:Ve,phablet:me=>{const fe=me.innerWidth,_e=me.innerHeight,Z=Math.min(fe,_e),pe=Math.max(fe,_e);return Z>390&&Z<520&&pe>620&&pe<800},tablet:me=>{const fe=me.innerWidth,_e=me.innerHeight,Z=Math.min(fe,_e),pe=Math.max(fe,_e);return Me(me)||(me=>Ve(me)&&!Vt(me,/mobile/i))(me)||Z>460&&Z<820&&pe>780&&pe<1400},cordova:it,capacitor:$e,electron:me=>Vt(me,/electron/i),pwa:me=>{var fe;return!!(null!==(fe=me.matchMedia)&&void 0!==fe&&fe.call(me,"(display-mode: standalone)").matches||me.navigator.standalone)},mobile:Ie,mobileweb:me=>Ie(me)&&!Ge(me),desktop:me=>!Ie(me),hybrid:Ge};let Yt;const Cn=me=>me&&(0,a.g)(me)||Yt,pt=(me={})=>{if(typeof window>"u")return;const fe=window.document,_e=window,Z=_e.Ionic=_e.Ionic||{},pe={};me._ael&&(pe.ael=me._ael),me._rel&&(pe.rel=me._rel),me._ce&&(pe.ce=me._ce),(0,a.a)(pe);const Ye=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(me=>{try{const fe=me.sessionStorage.getItem(He);return null!==fe?JSON.parse(fe):{}}catch{return{}}})(_e)),{persistConfig:!1}),Z.config),(me=>{const fe={};return me.location.search.slice(1).split("&").map(_e=>_e.split("=")).map(([_e,Z])=>{try{return[decodeURIComponent(_e),decodeURIComponent(Z)]}catch{return["",""]}}).filter(([_e])=>((me,fe)=>me.substr(0,fe.length)===fe)(_e,"ionic:")).map(([_e,Z])=>[_e.slice(6),Z]).forEach(([_e,Z])=>{fe[_e]=Z}),fe})(_e)),me);re.reset(Ye),re.getBoolean("persistConfig")&&((me,fe)=>{try{me.sessionStorage.setItem(He,JSON.stringify(fe))}catch{return}})(_e,Ye),ke(_e),Z.config=re,Z.mode=Yt=re.get("mode",fe.documentElement.getAttribute("mode")||(oe(_e,"ios")?"ios":"md")),re.set("mode",Yt),fe.documentElement.setAttribute("mode",Yt),fe.documentElement.classList.add(Yt),re.getBoolean("_testing")&&re.set("animated",!1);const le=Ee=>{var Nt;return null===(Nt=Ee.tagName)||void 0===Nt?void 0:Nt.startsWith("ION-")},qe=Ee=>["ios","md"].includes(Ee);(0,a.c)(Ee=>{for(;Ee;){const Nt=Ee.mode||Ee.getAttribute("mode");if(Nt){if(qe(Nt))return Nt;le(Ee)&&console.warn('Invalid ionic mode: "'+Nt+'", expected: "ios" or "md"')}Ee=Ee.parentElement}return Yt})}},5022:(fn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{iosTransitionAnimation:()=>Le,shadow:()=>Ue});var a=N(9986),L=N(3604);N(8476),N(9483),N(4261);const Te=nt=>document.querySelector(`${nt}.ion-cloned-element`),Ue=nt=>nt.shadowRoot||nt,He=nt=>{const Qe="ION-TABS"===nt.tagName?nt:nt.querySelector("ion-tabs"),Ve="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Qe){const _t=Qe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=_t?_t.querySelector(Ve):null}return nt.querySelector(Ve)},ye=(nt,Qe)=>{const Ve="ION-TABS"===nt.tagName?nt:nt.querySelector("ion-tabs");let _t=[];if(null!=Ve){const dt=Ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=dt&&(_t=dt.querySelectorAll("ion-buttons"))}else _t=nt.querySelectorAll("ion-buttons");for(const dt of _t){const ct=dt.closest("ion-header"),Ie=ct&&!ct.classList.contains("header-collapse-condense-inactive"),ge=dt.querySelector("ion-back-button"),Ge=dt.classList.contains("buttons-collapse");if(null!==ge&&("start"===dt.slot||""===dt.slot)&&(Ge&&Ie&&Qe||!Ge))return ge}return null},ke=(nt,Qe,Ve,_t,dt,ct,Ie,ge,Ge)=>{var it,$e;const Tt=Qe?`calc(100% - ${dt.right+4}px)`:dt.left-4+"px",Se=Qe?"right":"left",Vt=Qe?"left":"right",Bt=Qe?"right":"left";let pn=1,Yt=1,Cn=`scale(${Yt})`;const pt="scale(1)";if(ct&&Ie){const ut=(null===(it=ct.textContent)||void 0===it?void 0:it.trim())===(null===($e=ge.textContent)||void 0===$e?void 0:$e.trim());pn=Ge.width/Ie.width,Yt=(Ge.height-Me)/Ie.height,Cn=ut?`scale(${pn}, ${Yt})`:`scale(${Yt})`}const fe=Ue(_t).querySelector("ion-icon").getBoundingClientRect(),_e=Qe?fe.width/2-(fe.right-dt.right)+"px":dt.left-fe.width/2+"px",Z=Qe?`-${window.innerWidth-dt.right}px`:`${dt.left}px`,pe=`${Ge.top}px`,Ye=`${dt.top}px`,Ee=Ve?[{offset:0,transform:`translate3d(${Z}, ${Ye}, 0)`},{offset:1,transform:`translate3d(${_e}, ${pe}, 0)`}]:[{offset:0,transform:`translate3d(${_e}, ${pe}, 0)`},{offset:1,transform:`translate3d(${Z}, ${Ye}, 0)`}],gt=Ve?[{offset:0,opacity:1,transform:pt},{offset:1,opacity:0,transform:Cn}]:[{offset:0,opacity:0,transform:Cn},{offset:1,opacity:1,transform:pt}],xn=Ve?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Xt=(0,a.c)(),Ot=(0,a.c)(),Ln=(0,a.c)(),Ft=Te("ion-back-button"),ht=Ue(Ft).querySelector(".button-text"),de=Ue(Ft).querySelector("ion-icon");Ft.text=_t.text,Ft.mode=_t.mode,Ft.icon=_t.icon,Ft.color=_t.color,Ft.disabled=_t.disabled,Ft.style.setProperty("display","block"),Ft.style.setProperty("position","fixed"),Ot.addElement(de),Xt.addElement(ht),Ln.addElement(Ft),Ln.beforeStyles({position:"absolute",top:"0px",[Bt]:"0px"}).beforeAddWrite(()=>{_t.style.setProperty("display","none"),Ft.style.setProperty(Se,Tt)}).afterAddWrite(()=>{_t.style.setProperty("display",""),Ft.style.setProperty("display","none"),Ft.style.removeProperty(Se)}).keyframes(Ee),Xt.beforeStyles({"transform-origin":`${Se} top`}).keyframes(gt),Ot.beforeStyles({"transform-origin":`${Vt} center`}).keyframes(xn),nt.addAnimation([Xt,Ot,Ln])},Be=(nt,Qe,Ve,_t,dt,ct,Ie,ge,Ge)=>{var it,$e;const Tt=Qe?"right":"left",Se=Qe?`calc(100% - ${dt.right}px)`:`${dt.left}px`,Bt=`${dt.top}px`;let Yt=Qe?`-${window.innerWidth-Ie.right-8}px`:`${Ie.x+8}px`,Cn=.5;const pt="scale(1)";let me=`scale(${Cn})`;if(ge&&Ge){Yt=Qe?`-${window.innerWidth-Ge.right-8}px`:Ge.x-8+"px";const Nt=(null===(it=ge.textContent)||void 0===it?void 0:it.trim())===(null===($e=_t.textContent)||void 0===$e?void 0:$e.trim());Cn=Ge.height/(ct.height-Me),me=Nt?`scale(${Ge.width/ct.width}, ${Cn})`:`scale(${Cn})`}const Z=Ie.top+Ie.height/2-dt.height*Cn/2+"px",le=Ve?[{offset:0,opacity:0,transform:`translate3d(${Yt}, ${Z}, 0) ${me}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Bt}, 0) ${pt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Bt}, 0) ${pt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Yt}, ${Z}, 0) ${me}`}],qe=Te("ion-title"),Ee=(0,a.c)();qe.innerText=_t.innerText,qe.size=_t.size,qe.color=_t.color,Ee.addElement(qe),Ee.beforeStyles({"transform-origin":`${Tt} top`,height:`${dt.height}px`,display:"",position:"relative",[Tt]:Se}).beforeAddWrite(()=>{_t.style.setProperty("opacity","0")}).afterAddWrite(()=>{_t.style.setProperty("opacity",""),qe.style.setProperty("display","none")}).keyframes(le),nt.addAnimation(Ee)},Le=(nt,Qe)=>{var Ve;try{const _t="cubic-bezier(0.32,0.72,0,1)",dt="opacity",ct="transform",Ie="0%",Ge="rtl"===nt.ownerDocument.dir,it=Ge?"-99.5%":"99.5%",$e=Ge?"33%":"-33%",Tt=Qe.enteringEl,Se=Qe.leavingEl,Vt="back"===Qe.direction,Bt=Tt.querySelector(":scope > ion-content"),pn=Tt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Yt=Tt.querySelectorAll(":scope > ion-header > ion-toolbar"),Cn=(0,a.c)(),pt=(0,a.c)();if(Cn.addElement(Tt).duration((null!==(Ve=Qe.duration)&&void 0!==Ve?Ve:0)||540).easing(Qe.easing||_t).fill("both").beforeRemoveClass("ion-page-invisible"),Se&&null!=nt){const Z=(0,a.c)();Z.addElement(nt),Cn.addAnimation(Z)}if(Bt||0!==Yt.length||0!==pn.length?(pt.addElement(Bt),pt.addElement(pn)):pt.addElement(Tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Cn.addAnimation(pt),Vt?pt.beforeClearStyles([dt]).fromTo("transform",`translateX(${$e})`,`translateX(${Ie})`).fromTo(dt,.8,1):pt.beforeClearStyles([dt]).fromTo("transform",`translateX(${it})`,`translateX(${Ie})`),Bt){const Z=Ue(Bt).querySelector(".transition-effect");if(Z){const pe=Z.querySelector(".transition-cover"),Ye=Z.querySelector(".transition-shadow"),le=(0,a.c)(),qe=(0,a.c)(),Ee=(0,a.c)();le.addElement(Z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),qe.addElement(pe).beforeClearStyles([dt]).fromTo(dt,0,.1),Ee.addElement(Ye).beforeClearStyles([dt]).fromTo(dt,.03,.7),le.addAnimation([qe,Ee]),pt.addAnimation([le])}}const me=Tt.querySelector("ion-header.header-collapse-condense"),{forward:fe,backward:_e}=((nt,Qe,Ve,_t,dt)=>{const ct=ye(_t,Ve),Ie=He(dt),ge=He(_t),Ge=ye(dt,Ve),it=null!==ct&&null!==Ie&&!Ve,$e=null!==ge&&null!==Ge&&Ve;if(it){const Tt=Ie.getBoundingClientRect(),Se=ct.getBoundingClientRect(),Vt=Ue(ct).querySelector(".button-text"),Bt=Vt?.getBoundingClientRect(),Yt=Ue(Ie).querySelector(".toolbar-title").getBoundingClientRect();Be(nt,Qe,Ve,Ie,Tt,Yt,Se,Vt,Bt),ke(nt,Qe,Ve,ct,Se,Vt,Bt,Ie,Yt)}else if($e){const Tt=ge.getBoundingClientRect(),Se=Ge.getBoundingClientRect(),Vt=Ue(Ge).querySelector(".button-text"),Bt=Vt?.getBoundingClientRect(),Yt=Ue(ge).querySelector(".toolbar-title").getBoundingClientRect();Be(nt,Qe,Ve,ge,Tt,Yt,Se,Vt,Bt),ke(nt,Qe,Ve,Ge,Se,Vt,Bt,ge,Yt)}return{forward:it,backward:$e}})(Cn,Ge,Vt,Tt,Se);if(Yt.forEach(Z=>{const pe=(0,a.c)();pe.addElement(Z),Cn.addAnimation(pe);const Ye=(0,a.c)();Ye.addElement(Z.querySelector("ion-title"));const le=(0,a.c)(),qe=Array.from(Z.querySelectorAll("ion-buttons,[menuToggle]")),Ee=Z.closest("ion-header"),Nt=Ee?.classList.contains("header-collapse-condense-inactive");let $t;$t=qe.filter(Vt?Xt=>{const Ot=Xt.classList.contains("buttons-collapse");return Ot&&!Nt||!Ot}:Xt=>!Xt.classList.contains("buttons-collapse")),le.addElement($t);const gt=(0,a.c)();gt.addElement(Z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,a.c)();Ut.addElement(Ue(Z).querySelector(".toolbar-background"));const un=(0,a.c)(),xn=Z.querySelector("ion-back-button");if(xn&&un.addElement(xn),pe.addAnimation([Ye,le,gt,Ut,un]),le.fromTo(dt,.01,1),gt.fromTo(dt,.01,1),Vt)Nt||Ye.fromTo("transform",`translateX(${$e})`,`translateX(${Ie})`).fromTo(dt,.01,1),gt.fromTo("transform",`translateX(${$e})`,`translateX(${Ie})`),un.fromTo(dt,.01,1);else if(me||Ye.fromTo("transform",`translateX(${it})`,`translateX(${Ie})`).fromTo(dt,.01,1),gt.fromTo("transform",`translateX(${it})`,`translateX(${Ie})`),Ut.beforeClearStyles([dt,"transform"]),Ee?.translucent?Ut.fromTo("transform",Ge?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(dt,.01,"var(--opacity)"),fe||un.fromTo(dt,.01,1),xn&&!fe){const Ot=(0,a.c)();Ot.addElement(Ue(xn).querySelector(".button-text")).fromTo("transform",Ge?"translateX(-100px)":"translateX(100px)","translateX(0px)"),pe.addAnimation(Ot)}}),Se){const Z=(0,a.c)(),pe=Se.querySelector(":scope > ion-content"),Ye=Se.querySelectorAll(":scope > ion-header > ion-toolbar"),le=Se.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(pe||0!==Ye.length||0!==le.length?(Z.addElement(pe),Z.addElement(le)):Z.addElement(Se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Cn.addAnimation(Z),Vt){Z.beforeClearStyles([dt]).fromTo("transform",`translateX(${Ie})`,Ge?"translateX(-100%)":"translateX(100%)");const qe=(0,L.g)(Se);Cn.afterAddWrite(()=>{"normal"===Cn.getDirection()&&qe.style.setProperty("display","none")})}else Z.fromTo("transform",`translateX(${Ie})`,`translateX(${$e})`).fromTo(dt,1,.8);if(pe){const qe=Ue(pe).querySelector(".transition-effect");if(qe){const Ee=qe.querySelector(".transition-cover"),Nt=qe.querySelector(".transition-shadow"),$t=(0,a.c)(),gt=(0,a.c)(),Ut=(0,a.c)();$t.addElement(qe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),gt.addElement(Ee).beforeClearStyles([dt]).fromTo(dt,.1,0),Ut.addElement(Nt).beforeClearStyles([dt]).fromTo(dt,.7,.03),$t.addAnimation([gt,Ut]),Z.addAnimation([$t])}}Ye.forEach(qe=>{const Ee=(0,a.c)();Ee.addElement(qe);const Nt=(0,a.c)();Nt.addElement(qe.querySelector("ion-title"));const $t=(0,a.c)(),gt=qe.querySelectorAll("ion-buttons,[menuToggle]"),Ut=qe.closest("ion-header"),un=Ut?.classList.contains("header-collapse-condense-inactive"),xn=Array.from(gt).filter(de=>{const ut=de.classList.contains("buttons-collapse");return ut&&!un||!ut});$t.addElement(xn);const Xt=(0,a.c)(),Ot=qe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ot.length>0&&Xt.addElement(Ot);const Ln=(0,a.c)();Ln.addElement(Ue(qe).querySelector(".toolbar-background"));const Ft=(0,a.c)(),ht=qe.querySelector("ion-back-button");if(ht&&Ft.addElement(ht),Ee.addAnimation([Nt,$t,Xt,Ft,Ln]),Cn.addAnimation(Ee),Ft.fromTo(dt,.99,0),$t.fromTo(dt,.99,0),Xt.fromTo(dt,.99,0),Vt){if(un||Nt.fromTo("transform",`translateX(${Ie})`,Ge?"translateX(-100%)":"translateX(100%)").fromTo(dt,.99,0),Xt.fromTo("transform",`translateX(${Ie})`,Ge?"translateX(-100%)":"translateX(100%)"),Ln.beforeClearStyles([dt,"transform"]),Ut?.translucent?Ln.fromTo("transform","translateX(0px)",Ge?"translateX(-100%)":"translateX(100%)"):Ln.fromTo(dt,"var(--opacity)",0),ht&&!_e){const ut=(0,a.c)();ut.addElement(Ue(ht).querySelector(".button-text")).fromTo("transform",`translateX(${Ie})`,`translateX(${(Ge?-124:124)+"px"})`),Ee.addAnimation(ut)}}else un||Nt.fromTo("transform",`translateX(${Ie})`,`translateX(${$e})`).fromTo(dt,.99,0).afterClearStyles([ct,dt]),Xt.fromTo("transform",`translateX(${Ie})`,`translateX(${$e})`).afterClearStyles([ct,dt]),Ft.afterClearStyles([dt]),Nt.afterClearStyles([dt]),$t.afterClearStyles([dt])})}return Cn}catch(_t){throw _t}},Me=10},3615:(fn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{mdTransitionAnimation:()=>ce});var a=N(9986),L=N(3604);N(8476),N(9483),N(4261);const ce=(Te,Ue)=>{var He,ye,oe;const Le="back"===Ue.direction,nt=Ue.leavingEl,Qe=(0,L.g)(Ue.enteringEl),Ve=Qe.querySelector("ion-toolbar"),_t=(0,a.c)();if(_t.addElement(Qe).fill("both").beforeRemoveClass("ion-page-invisible"),Le?_t.duration((null!==(He=Ue.duration)&&void 0!==He?He:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):_t.duration((null!==(ye=Ue.duration)&&void 0!==ye?ye:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ve){const dt=(0,a.c)();dt.addElement(Ve),_t.addAnimation(dt)}if(nt&&Le){_t.duration((null!==(oe=Ue.duration)&&void 0!==oe?oe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const dt=(0,a.c)();dt.addElement((0,L.g)(nt)).onFinish(ct=>{1===ct&&dt.elements.length>0&&dt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),_t.addAnimation(dt)}return _t}},5229:(fn,ft,N)=>{"use strict";N.d(ft,{B:()=>gt,F:()=>ht,G:()=>Ut,O:()=>un,a:()=>Qe,b:()=>Ve,c:()=>Ie,d:()=>xn,e:()=>Xt,f:()=>fe,g:()=>Z,h:()=>le,i:()=>Ee,j:()=>Ge,k:()=>it,l:()=>_t,m:()=>dt,n:()=>ye,o:()=>pt,q:()=>oe,s:()=>$t,t:()=>ge});var a=N(467),L=N(8476),re=N(4920),Q=N(7192),be=N(9483),ce=N(8621),Te=N(1970),Ue=N(4929);const He='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(de,ut)=>{const Rt=de.querySelector(He);ke(Rt,ut??de)},oe=(de,ut)=>{const Rt=Array.from(de.querySelectorAll(He));ke(Rt.length>0?Rt[Rt.length-1]:null,ut??de)},ke=(de,ut)=>{let Rt=de;const sn=de?.shadowRoot;sn&&(Rt=sn.querySelector(He)||de),Rt?(0,re.f)(Rt):ut.focus()};let Be=0,Le=0;const Me=new WeakMap,nt=de=>({create:ut=>$e(de,ut),dismiss:(ut,Rt,sn)=>pn(document,ut,Rt,de,sn),getTop:()=>(0,a.A)(function*(){return pt(document,de)})()}),Qe=nt("ion-alert"),Ve=nt("ion-action-sheet"),_t=nt("ion-loading"),dt=nt("ion-modal"),Ie=nt("ion-popover"),ge=nt("ion-toast"),Ge=de=>{typeof document<"u"&&Bt(document);const ut=Be++;de.overlayIndex=ut},it=de=>(de.hasAttribute("id")||(de.id="ion-overlay-"+ ++Le),de.id),$e=(de,ut)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(de).then(()=>{const Rt=document.createElement(de);return Rt.classList.add("overlay-hidden"),Object.assign(Rt,Object.assign(Object.assign({},ut),{hasController:!0})),pe(document).appendChild(Rt),new Promise(sn=>(0,re.c)(Rt,sn))}):Promise.resolve(),Se=(de,ut)=>{let Rt=de;const sn=de?.shadowRoot;sn&&(Rt=sn.querySelector(He)||de),Rt?(0,re.f)(Rt):ut.focus()},Bt=de=>{0===Be&&(Be=1,de.addEventListener("focus",ut=>{((de,ut)=>{const Rt=pt(ut,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),sn=de.target;Rt&&sn&&!Rt.classList.contains(ht)&&(Rt.shadowRoot?(()=>{if(Rt.contains(sn))Rt.lastFocus=sn;else if("ION-TOAST"===sn.tagName)Se(Rt.lastFocus,Rt);else{const vn=Rt.lastFocus;ye(Rt),vn===ut.activeElement&&oe(Rt),Rt.lastFocus=ut.activeElement}})():(()=>{if(Rt===sn)Rt.lastFocus=void 0;else if("ION-TOAST"===sn.tagName)Se(Rt.lastFocus,Rt);else{const vn=(0,re.g)(Rt);if(!vn.contains(sn))return;const gn=vn.querySelector(".ion-overlay-wrapper");if(!gn)return;if(gn.contains(sn)||sn===vn.querySelector("ion-backdrop"))Rt.lastFocus=sn;else{const Wn=Rt.lastFocus;ye(gn,Rt),Wn===ut.activeElement&&oe(gn,Rt),Rt.lastFocus=ut.activeElement}}})())})(ut,de)},!0),de.addEventListener("ionBackButton",ut=>{const Rt=pt(de);Rt?.backdropDismiss&&ut.detail.register(Q.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Rt.dismiss(void 0,gt)})}),(0,Q.shouldUseCloseWatcher)()||de.addEventListener("keydown",ut=>{if("Escape"===ut.key){const Rt=pt(de);Rt?.backdropDismiss&&Rt.dismiss(void 0,gt)}}))},pn=(de,ut,Rt,sn,Jn)=>{const kn=pt(de,sn,Jn);return kn?kn.dismiss(ut,Rt):Promise.reject("overlay does not exist")},Cn=(de,ut)=>((de,ut)=>(void 0===ut&&(ut="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(de.querySelectorAll(ut)).filter(Rt=>Rt.overlayIndex>0)))(de,ut).filter(Rt=>!(de=>de.classList.contains("overlay-hidden"))(Rt)),pt=(de,ut,Rt)=>{const sn=Cn(de,ut);return void 0===Rt?sn[sn.length-1]:sn.find(Jn=>Jn.id===Rt)},me=(de=!1)=>{const Rt=pe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Rt&&(de?Rt.setAttribute("aria-hidden","true"):Rt.removeAttribute("aria-hidden"))},fe=function(){var de=(0,a.A)(function*(ut,Rt,sn,Jn,kn){var vn,gn;if(ut.presented)return;"ION-TOAST"!==ut.el.tagName&&me(!0),document.body.classList.add(Te.B),Ln(ut.el),Ot(ut.el),ut.presented=!0,ut.willPresent.emit(),null===(vn=ut.willPresentShorthand)||void 0===vn||vn.emit();const Wn=(0,be.b)(ut),Kn=ut.enterAnimation?ut.enterAnimation:be.c.get(Rt,"ios"===Wn?sn:Jn);(yield Ye(ut,Kn,ut.el,kn))&&(ut.didPresent.emit(),null===(gn=ut.didPresentShorthand)||void 0===gn||gn.emit()),"ION-TOAST"!==ut.el.tagName&&_e(ut.el),ut.keyboardClose&&(null===document.activeElement||!ut.el.contains(document.activeElement))&&ut.el.focus(),ut.el.removeAttribute("aria-hidden")});return function(Rt,sn,Jn,kn,vn){return de.apply(this,arguments)}}(),_e=function(){var de=(0,a.A)(function*(ut){let Rt=document.activeElement;if(!Rt)return;const sn=Rt?.shadowRoot;sn&&(Rt=sn.querySelector(He)||Rt),yield ut.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Rt.focus()});return function(Rt){return de.apply(this,arguments)}}(),Z=function(){var de=(0,a.A)(function*(ut,Rt,sn,Jn,kn,vn,gn){var Wn,Kn;if(!ut.presented)return!1;const Yn=void 0!==L.d?Cn(L.d).filter(Mr=>"ION-TOAST"!==Mr.tagName):[];1===Yn.length&&Yn[0].id===ut.el.id&&(me(!1),document.body.classList.remove(Te.B)),ut.presented=!1;try{Ot(ut.el),ut.el.style.setProperty("pointer-events","none"),ut.willDismiss.emit({data:Rt,role:sn}),null===(Wn=ut.willDismissShorthand)||void 0===Wn||Wn.emit({data:Rt,role:sn});const Mr=(0,be.b)(ut),An=ut.leaveAnimation?ut.leaveAnimation:be.c.get(Jn,"ios"===Mr?kn:vn);sn!==Ut&&(yield Ye(ut,An,ut.el,gn)),ut.didDismiss.emit({data:Rt,role:sn}),null===(Kn=ut.didDismissShorthand)||void 0===Kn||Kn.emit({data:Rt,role:sn}),(Me.get(ut)||[]).forEach(lr=>lr.destroy()),Me.delete(ut),ut.el.classList.add("overlay-hidden"),ut.el.style.removeProperty("pointer-events"),void 0!==ut.el.lastFocus&&(ut.el.lastFocus=void 0)}catch(Mr){console.error(Mr)}return ut.el.remove(),Ft(),!0});return function(Rt,sn,Jn,kn,vn,gn,Wn){return de.apply(this,arguments)}}(),pe=de=>de.querySelector("ion-app")||de.body,Ye=function(){var de=(0,a.A)(function*(ut,Rt,sn,Jn){sn.classList.remove("overlay-hidden");const vn=Rt(ut.el,Jn);(!ut.animated||!be.c.getBoolean("animated",!0))&&vn.duration(0),ut.keyboardClose&&vn.beforeAddWrite(()=>{const Wn=sn.ownerDocument.activeElement;Wn?.matches("input,ion-input, ion-textarea")&&Wn.blur()});const gn=Me.get(ut)||[];return Me.set(ut,[...gn,vn]),yield vn.play(),!0});return function(Rt,sn,Jn,kn){return de.apply(this,arguments)}}(),le=(de,ut)=>{let Rt;const sn=new Promise(Jn=>Rt=Jn);return qe(de,ut,Jn=>{Rt(Jn.detail)}),sn},qe=(de,ut,Rt)=>{const sn=Jn=>{(0,re.b)(de,ut,sn),Rt(Jn)};(0,re.a)(de,ut,sn)},Ee=de=>"cancel"===de||de===gt,Nt=de=>de(),$t=(de,ut)=>{if("function"==typeof de)return be.c.get("_zoneGate",Nt)(()=>{try{return de(ut)}catch(sn){throw sn}})},gt="backdrop",Ut="gesture",un=39,xn=de=>{let Rt,ut=!1;const sn=(0,ce.C)(),Jn=(gn=!1)=>{if(Rt&&!gn)return{delegate:Rt,inline:ut};const{el:Wn,hasController:Kn,delegate:Yn}=de;return ut=null!==Wn.parentNode&&!Kn,Rt=ut?Yn||sn:Yn,{inline:ut,delegate:Rt}};return{attachViewToDom:function(){var gn=(0,a.A)(function*(Wn){const{delegate:Kn}=Jn(!0);if(Kn)return yield Kn.attachViewToDom(de.el,Wn);const{hasController:Yn}=de;if(Yn&&void 0!==Wn)throw new Error("framework delegate is missing");return null});return function(Kn){return gn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:gn}=Jn();gn&&void 0!==de.el&&gn.removeViewFromDom(de.el.parentElement,de.el)}}},Xt=()=>{let de;const ut=()=>{de&&(de(),de=void 0)};return{addClickListener:(sn,Jn)=>{ut();const kn=void 0!==Jn?document.getElementById(Jn):null;kn?de=((gn,Wn)=>{const Kn=()=>{Wn.present()};return gn.addEventListener("click",Kn),()=>{gn.removeEventListener("click",Kn)}})(kn,sn):(0,Ue.p)(`A trigger element with the ID "${Jn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,sn)},removeClickListener:ut}},Ot=de=>{void 0!==L.d&&de.setAttribute("aria-hidden","true")},Ln=de=>{var ut;if(void 0===L.d)return;const Rt=Cn(L.d);for(let sn=Rt.length-1;sn>=0;sn--){const Jn=Rt[sn],kn=null!==(ut=Rt[sn+1])&&void 0!==ut?ut:de;(kn.hasAttribute("aria-hidden")||"ION-TOAST"!==kn.tagName)&&Jn.setAttribute("aria-hidden","true")}},Ft=()=>{if(void 0===L.d)return;const de=Cn(L.d);for(let ut=de.length-1;ut>=0;ut--){const Rt=de[ut];if(Rt.removeAttribute("aria-hidden"),"ION-TOAST"!==Rt.tagName)break}},ht="ion-disable-focus-trap"},6430:(fn,ft,N)=>{"use strict";N.d(ft,{u:()=>Gy});var a=N(467),L=N(1985),re=N(4438),Q=N(1182),be=N(177),ce=N(574),Te=N(9253),Ue=N(3236),He=N(8455),ye=N(7673),oe=N(9172),ke=N(9974),Be=N(4360);function Le(){return(0,ke.N)((c,t)=>{let i,s=!1;c.subscribe((0,Be._)(t,u=>{const p=i;i=u,s&&t.next([p,u]),s=!0}))})}var Tt,Se,Me=N(6354),nt=N(2816),Qe=N(3294),Ve=N(5964),dt=(N(324),N(9574)),ct=N(2979),Ie=N(8779),ge=N(5398),Ge=N(1401),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={};(function(){var c;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(vt,Ke,at){at||(at=0);var Ct=Array(16);if("string"==typeof Ke)for(var Dt=0;16>Dt;++Dt)Ct[Dt]=Ke.charCodeAt(at++)|Ke.charCodeAt(at++)<<8|Ke.charCodeAt(at++)<<16|Ke.charCodeAt(at++)<<24;else for(Dt=0;16>Dt;++Dt)Ct[Dt]=Ke[at++]|Ke[at++]<<8|Ke[at++]<<16|Ke[at++]<<24;var xt=vt.g[3],ot=(Ke=vt.g[0])+(xt^(at=vt.g[1])&((Dt=vt.g[2])^xt))+Ct[0]+3614090360&4294967295;ot=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=(at=(Dt=(xt=(Ke=at+(ot<<7&4294967295|ot>>>25))+((ot=xt+(Dt^Ke&(at^Dt))+Ct[1]+3905402710&4294967295)<<12&4294967295|ot>>>20))+((ot=Dt+(at^xt&(Ke^at))+Ct[2]+606105819&4294967295)<<17&4294967295|ot>>>15))+((ot=at+(Ke^Dt&(xt^Ke))+Ct[3]+3250441966&4294967295)<<22&4294967295|ot>>>10))+((ot=Ke+(xt^at&(Dt^xt))+Ct[4]+4118548399&4294967295)<<7&4294967295|ot>>>25))+((ot=xt+(Dt^Ke&(at^Dt))+Ct[5]+1200080426&4294967295)<<12&4294967295|ot>>>20))+((ot=Dt+(at^xt&(Ke^at))+Ct[6]+2821735955&4294967295)<<17&4294967295|ot>>>15))+((ot=at+(Ke^Dt&(xt^Ke))+Ct[7]+4249261313&4294967295)<<22&4294967295|ot>>>10))+((ot=Ke+(xt^at&(Dt^xt))+Ct[8]+1770035416&4294967295)<<7&4294967295|ot>>>25))+((ot=xt+(Dt^Ke&(at^Dt))+Ct[9]+2336552879&4294967295)<<12&4294967295|ot>>>20))+((ot=Dt+(at^xt&(Ke^at))+Ct[10]+4294925233&4294967295)<<17&4294967295|ot>>>15))+((ot=at+(Ke^Dt&(xt^Ke))+Ct[11]+2304563134&4294967295)<<22&4294967295|ot>>>10))+((ot=Ke+(xt^at&(Dt^xt))+Ct[12]+1804603682&4294967295)<<7&4294967295|ot>>>25))+((ot=xt+(Dt^Ke&(at^Dt))+Ct[13]+4254626195&4294967295)<<12&4294967295|ot>>>20))+((ot=Dt+(at^xt&(Ke^at))+Ct[14]+2792965006&4294967295)<<17&4294967295|ot>>>15))+((ot=at+(Ke^Dt&(xt^Ke))+Ct[15]+1236535329&4294967295)<<22&4294967295|ot>>>10))+((ot=Ke+(Dt^xt&(at^Dt))+Ct[1]+4129170786&4294967295)<<5&4294967295|ot>>>27))+((ot=xt+(at^Dt&(Ke^at))+Ct[6]+3225465664&4294967295)<<9&4294967295|ot>>>23))+((ot=Dt+(Ke^at&(xt^Ke))+Ct[11]+643717713&4294967295)<<14&4294967295|ot>>>18))+((ot=at+(xt^Ke&(Dt^xt))+Ct[0]+3921069994&4294967295)<<20&4294967295|ot>>>12))+((ot=Ke+(Dt^xt&(at^Dt))+Ct[5]+3593408605&4294967295)<<5&4294967295|ot>>>27))+((ot=xt+(at^Dt&(Ke^at))+Ct[10]+38016083&4294967295)<<9&4294967295|ot>>>23))+((ot=Dt+(Ke^at&(xt^Ke))+Ct[15]+3634488961&4294967295)<<14&4294967295|ot>>>18))+((ot=at+(xt^Ke&(Dt^xt))+Ct[4]+3889429448&4294967295)<<20&4294967295|ot>>>12))+((ot=Ke+(Dt^xt&(at^Dt))+Ct[9]+568446438&4294967295)<<5&4294967295|ot>>>27))+((ot=xt+(at^Dt&(Ke^at))+Ct[14]+3275163606&4294967295)<<9&4294967295|ot>>>23))+((ot=Dt+(Ke^at&(xt^Ke))+Ct[3]+4107603335&4294967295)<<14&4294967295|ot>>>18))+((ot=at+(xt^Ke&(Dt^xt))+Ct[8]+1163531501&4294967295)<<20&4294967295|ot>>>12))+((ot=Ke+(Dt^xt&(at^Dt))+Ct[13]+2850285829&4294967295)<<5&4294967295|ot>>>27))+((ot=xt+(at^Dt&(Ke^at))+Ct[2]+4243563512&4294967295)<<9&4294967295|ot>>>23))+((ot=Dt+(Ke^at&(xt^Ke))+Ct[7]+1735328473&4294967295)<<14&4294967295|ot>>>18))+((ot=at+(xt^Ke&(Dt^xt))+Ct[12]+2368359562&4294967295)<<20&4294967295|ot>>>12))+((ot=Ke+(at^Dt^xt)+Ct[5]+4294588738&4294967295)<<4&4294967295|ot>>>28))+((ot=xt+(Ke^at^Dt)+Ct[8]+2272392833&4294967295)<<11&4294967295|ot>>>21))+((ot=Dt+(xt^Ke^at)+Ct[11]+1839030562&4294967295)<<16&4294967295|ot>>>16))+((ot=at+(Dt^xt^Ke)+Ct[14]+4259657740&4294967295)<<23&4294967295|ot>>>9))+((ot=Ke+(at^Dt^xt)+Ct[1]+2763975236&4294967295)<<4&4294967295|ot>>>28))+((ot=xt+(Ke^at^Dt)+Ct[4]+1272893353&4294967295)<<11&4294967295|ot>>>21))+((ot=Dt+(xt^Ke^at)+Ct[7]+4139469664&4294967295)<<16&4294967295|ot>>>16))+((ot=at+(Dt^xt^Ke)+Ct[10]+3200236656&4294967295)<<23&4294967295|ot>>>9))+((ot=Ke+(at^Dt^xt)+Ct[13]+681279174&4294967295)<<4&4294967295|ot>>>28))+((ot=xt+(Ke^at^Dt)+Ct[0]+3936430074&4294967295)<<11&4294967295|ot>>>21))+((ot=Dt+(xt^Ke^at)+Ct[3]+3572445317&4294967295)<<16&4294967295|ot>>>16))+((ot=at+(Dt^xt^Ke)+Ct[6]+76029189&4294967295)<<23&4294967295|ot>>>9))+((ot=Ke+(at^Dt^xt)+Ct[9]+3654602809&4294967295)<<4&4294967295|ot>>>28))+((ot=xt+(Ke^at^Dt)+Ct[12]+3873151461&4294967295)<<11&4294967295|ot>>>21))+((ot=Dt+(xt^Ke^at)+Ct[15]+530742520&4294967295)<<16&4294967295|ot>>>16))+((ot=at+(Dt^xt^Ke)+Ct[2]+3299628645&4294967295)<<23&4294967295|ot>>>9))+((ot=Ke+(Dt^(at|~xt))+Ct[0]+4096336452&4294967295)<<6&4294967295|ot>>>26))+((ot=xt+(at^(Ke|~Dt))+Ct[7]+1126891415&4294967295)<<10&4294967295|ot>>>22))+((ot=Dt+(Ke^(xt|~at))+Ct[14]+2878612391&4294967295)<<15&4294967295|ot>>>17))+((ot=at+(xt^(Dt|~Ke))+Ct[5]+4237533241&4294967295)<<21&4294967295|ot>>>11))+((ot=Ke+(Dt^(at|~xt))+Ct[12]+1700485571&4294967295)<<6&4294967295|ot>>>26))+((ot=xt+(at^(Ke|~Dt))+Ct[3]+2399980690&4294967295)<<10&4294967295|ot>>>22))+((ot=Dt+(Ke^(xt|~at))+Ct[10]+4293915773&4294967295)<<15&4294967295|ot>>>17))+((ot=at+(xt^(Dt|~Ke))+Ct[1]+2240044497&4294967295)<<21&4294967295|ot>>>11))+((ot=Ke+(Dt^(at|~xt))+Ct[8]+1873313359&4294967295)<<6&4294967295|ot>>>26))+((ot=xt+(at^(Ke|~Dt))+Ct[15]+4264355552&4294967295)<<10&4294967295|ot>>>22))+((ot=Dt+(Ke^(xt|~at))+Ct[6]+2734768916&4294967295)<<15&4294967295|ot>>>17))+((ot=at+(xt^(Dt|~Ke))+Ct[13]+1309151649&4294967295)<<21&4294967295|ot>>>11))+((xt=(Ke=at+((ot=Ke+(Dt^(at|~xt))+Ct[4]+4149444226&4294967295)<<6&4294967295|ot>>>26))+((ot=xt+(at^(Ke|~Dt))+Ct[11]+3174756917&4294967295)<<10&4294967295|ot>>>22))^((Dt=xt+((ot=Dt+(Ke^(xt|~at))+Ct[2]+718787259&4294967295)<<15&4294967295|ot>>>17))|~Ke))+Ct[9]+3951481745&4294967295,vt.g[0]=vt.g[0]+Ke&4294967295,vt.g[1]=vt.g[1]+(Dt+(ot<<21&4294967295|ot>>>11))&4294967295,vt.g[2]=vt.g[2]+Dt&4294967295,vt.g[3]=vt.g[3]+xt&4294967295}function v(vt,Ke){this.h=Ke;for(var at=[],Ct=!0,Dt=vt.length-1;0<=Dt;Dt--){var xt=0|vt[Dt];Ct&&xt==Ke||(at[Dt]=xt,Ct=!1)}this.g=at}(function t(vt,Ke){function at(){}at.prototype=Ke.prototype,vt.D=Ke.prototype,vt.prototype=new at,vt.prototype.constructor=vt,vt.C=function(Ct,Dt,xt){for(var ot=Array(arguments.length-2),ka=2;ka<arguments.length;ka++)ot[ka-2]=arguments[ka];return Ke.prototype[Dt].apply(Ct,ot)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(vt,Ke){void 0===Ke&&(Ke=vt.length);for(var at=Ke-this.blockSize,Ct=this.B,Dt=this.h,xt=0;xt<Ke;){if(0==Dt)for(;xt<=at;)u(this,vt,xt),xt+=this.blockSize;if("string"==typeof vt){for(;xt<Ke;)if(Ct[Dt++]=vt.charCodeAt(xt++),Dt==this.blockSize){u(this,Ct),Dt=0;break}}else for(;xt<Ke;)if(Ct[Dt++]=vt[xt++],Dt==this.blockSize){u(this,Ct),Dt=0;break}}this.h=Dt,this.o+=Ke},s.prototype.v=function(){var vt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);vt[0]=128;for(var Ke=1;Ke<vt.length-8;++Ke)vt[Ke]=0;var at=8*this.o;for(Ke=vt.length-8;Ke<vt.length;++Ke)vt[Ke]=255&at,at/=256;for(this.u(vt),vt=Array(16),Ke=at=0;4>Ke;++Ke)for(var Ct=0;32>Ct;Ct+=8)vt[at++]=this.g[Ke]>>>Ct&255;return vt};var T={};function S(vt){return-128<=vt&&128>vt?function p(vt,Ke){var at=T;return Object.prototype.hasOwnProperty.call(at,vt)?at[vt]:at[vt]=Ke(vt)}(vt,function(Ke){return new v([0|Ke],0>Ke?-1:0)}):new v([0|vt],0>vt?-1:0)}function B(vt){if(isNaN(vt)||!isFinite(vt))return Ce;if(0>vt)return on(B(-vt));for(var Ke=[],at=1,Ct=0;vt>=at;Ct++)Ke[Ct]=vt/at|0,at*=4294967296;return new v(Ke,0)}var Ce=S(0),Ze=S(1),At=S(16777216);function Qt(vt){if(0!=vt.h)return!1;for(var Ke=0;Ke<vt.g.length;Ke++)if(0!=vt.g[Ke])return!1;return!0}function hn(vt){return-1==vt.h}function on(vt){for(var Ke=vt.g.length,at=[],Ct=0;Ct<Ke;Ct++)at[Ct]=~vt.g[Ct];return new v(at,~vt.h).add(Ze)}function Bn(vt,Ke){return vt.add(on(Ke))}function Zn(vt,Ke){for(;(65535&vt[Ke])!=vt[Ke];)vt[Ke+1]+=vt[Ke]>>>16,vt[Ke]&=65535,Ke++}function Hn(vt,Ke){this.g=vt,this.h=Ke}function _r(vt,Ke){if(Qt(Ke))throw Error("division by zero");if(Qt(vt))return new Hn(Ce,Ce);if(hn(vt))return Ke=_r(on(vt),Ke),new Hn(on(Ke.g),on(Ke.h));if(hn(Ke))return Ke=_r(vt,on(Ke)),new Hn(on(Ke.g),Ke.h);if(30<vt.g.length){if(hn(vt)||hn(Ke))throw Error("slowDivide_ only works with positive integers.");for(var at=Ze,Ct=Ke;0>=Ct.l(vt);)at=zr(at),Ct=zr(Ct);var Dt=Or(at,1),xt=Or(Ct,1);for(Ct=Or(Ct,2),at=Or(at,2);!Qt(Ct);){var ot=xt.add(Ct);0>=ot.l(vt)&&(Dt=Dt.add(at),xt=ot),Ct=Or(Ct,1),at=Or(at,1)}return Ke=Bn(vt,Dt.j(Ke)),new Hn(Dt,Ke)}for(Dt=Ce;0<=vt.l(Ke);){for(at=Math.max(1,Math.floor(vt.m()/Ke.m())),Ct=48>=(Ct=Math.ceil(Math.log(at)/Math.LN2))?1:Math.pow(2,Ct-48),ot=(xt=B(at)).j(Ke);hn(ot)||0<ot.l(vt);)ot=(xt=B(at-=Ct)).j(Ke);Qt(xt)&&(xt=Ze),Dt=Dt.add(xt),vt=Bn(vt,ot)}return new Hn(Dt,vt)}function zr(vt){for(var Ke=vt.g.length+1,at=[],Ct=0;Ct<Ke;Ct++)at[Ct]=vt.i(Ct)<<1|vt.i(Ct-1)>>>31;return new v(at,vt.h)}function Or(vt,Ke){var at=Ke>>5;Ke%=32;for(var Ct=vt.g.length-at,Dt=[],xt=0;xt<Ct;xt++)Dt[xt]=0<Ke?vt.i(xt+at)>>>Ke|vt.i(xt+at+1)<<32-Ke:vt.i(xt+at);return new v(Dt,vt.h)}(c=v.prototype).m=function(){if(hn(this))return-on(this).m();for(var vt=0,Ke=1,at=0;at<this.g.length;at++){var Ct=this.i(at);vt+=(0<=Ct?Ct:4294967296+Ct)*Ke,Ke*=4294967296}return vt},c.toString=function(vt){if(2>(vt=vt||10)||36<vt)throw Error("radix out of range: "+vt);if(Qt(this))return"0";if(hn(this))return"-"+on(this).toString(vt);for(var Ke=B(Math.pow(vt,6)),at=this,Ct="";;){var Dt=_r(at,Ke).g,xt=((0<(at=Bn(at,Dt.j(Ke))).g.length?at.g[0]:at.h)>>>0).toString(vt);if(Qt(at=Dt))return xt+Ct;for(;6>xt.length;)xt="0"+xt;Ct=xt+Ct}},c.i=function(vt){return 0>vt?0:vt<this.g.length?this.g[vt]:this.h},c.l=function(vt){return hn(vt=Bn(this,vt))?-1:Qt(vt)?0:1},c.abs=function(){return hn(this)?on(this):this},c.add=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),at=[],Ct=0,Dt=0;Dt<=Ke;Dt++){var xt=Ct+(65535&this.i(Dt))+(65535&vt.i(Dt)),ot=(xt>>>16)+(this.i(Dt)>>>16)+(vt.i(Dt)>>>16);Ct=ot>>>16,at[Dt]=(ot&=65535)<<16|(xt&=65535)}return new v(at,-2147483648&at[at.length-1]?-1:0)},c.j=function(vt){if(Qt(this)||Qt(vt))return Ce;if(hn(this))return hn(vt)?on(this).j(on(vt)):on(on(this).j(vt));if(hn(vt))return on(this.j(on(vt)));if(0>this.l(At)&&0>vt.l(At))return B(this.m()*vt.m());for(var Ke=this.g.length+vt.g.length,at=[],Ct=0;Ct<2*Ke;Ct++)at[Ct]=0;for(Ct=0;Ct<this.g.length;Ct++)for(var Dt=0;Dt<vt.g.length;Dt++){var xt=this.i(Ct)>>>16,ot=65535&this.i(Ct),ka=vt.i(Dt)>>>16,sf=65535&vt.i(Dt);at[2*Ct+2*Dt]+=ot*sf,Zn(at,2*Ct+2*Dt),at[2*Ct+2*Dt+1]+=xt*sf,Zn(at,2*Ct+2*Dt+1),at[2*Ct+2*Dt+1]+=ot*ka,Zn(at,2*Ct+2*Dt+1),at[2*Ct+2*Dt+2]+=xt*ka,Zn(at,2*Ct+2*Dt+2)}for(Ct=0;Ct<Ke;Ct++)at[Ct]=at[2*Ct+1]<<16|at[2*Ct];for(Ct=Ke;Ct<2*Ke;Ct++)at[Ct]=0;return new v(at,0)},c.A=function(vt){return _r(this,vt).h},c.and=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),at=[],Ct=0;Ct<Ke;Ct++)at[Ct]=this.i(Ct)&vt.i(Ct);return new v(at,this.h&vt.h)},c.or=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),at=[],Ct=0;Ct<Ke;Ct++)at[Ct]=this.i(Ct)|vt.i(Ct);return new v(at,this.h|vt.h)},c.xor=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),at=[],Ct=0;Ct<Ke;Ct++)at[Ct]=this.i(Ct)^vt.i(Ct);return new v(at,this.h^vt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Se=$e.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=B,v.fromString=function te(vt,Ke){if(0==vt.length)throw Error("number format error: empty string");if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if("-"==vt.charAt(0))return on(te(vt.substring(1),Ke));if(0<=vt.indexOf("-"))throw Error('number format error: interior "-" character');for(var at=B(Math.pow(Ke,8)),Ct=Ce,Dt=0;Dt<vt.length;Dt+=8){var xt=Math.min(8,vt.length-Dt),ot=parseInt(vt.substring(Dt,Dt+xt),Ke);8>xt?(xt=B(Math.pow(Ke,xt)),Ct=Ct.j(xt).add(B(ot))):Ct=(Ct=Ct.j(at)).add(B(ot))}return Ct},Tt=$e.Integer=v}).apply(typeof it<"u"?it:typeof self<"u"?self:typeof window<"u"?window:{});var pn,Cn,pt,me,fe,_e,Z,pe,Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt={};(function(){var c,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,P,K){return m==Array.prototype||m==Object.prototype||(m[P]=K.value),m},s=function i(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vt&&Vt];for(var P=0;P<m.length;++P){var K=m[P];if(K&&K.Math==Math)return K}throw Error("Cannot find global object")}(this);!function u(m,P){if(P)e:{var K=s;m=m.split(".");for(var he=0;he<m.length-1;he++){var wt=m[he];if(!(wt in K))break e;K=K[wt]}(P=P(he=K[m=m[m.length-1]]))!=he&&null!=P&&t(K,m,{configurable:!0,writable:!0,value:P})}}("Array.prototype.values",function(m){return m||function(){return function p(m,P){m instanceof String&&(m+="");var K=0,he=!1,wt={next:function(){if(!he&&K<m.length){var Ht=K++;return{value:P(Ht,m[Ht]),done:!1}}return he=!0,{done:!0,value:void 0}}};return wt[Symbol.iterator]=function(){return wt},wt}(this,function(P,K){return K})}});var v=v||{},T=this||self;function S(m){var P=typeof m;return"array"==(P="object"!=P?P:m?Array.isArray(m)?"array":P:"null")||"object"==P&&"number"==typeof m.length}function B(m){var P=typeof m;return"object"==P&&null!=m||"function"==P}function te(m,P,K){return m.call.apply(m.bind,arguments)}function Ce(m,P,K){if(!m)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var wt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(wt,he),m.apply(P,wt)}}return function(){return m.apply(P,arguments)}}function Ze(m,P,K){return(Ze=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?te:Ce).apply(null,arguments)}function At(m,P){var K=Array.prototype.slice.call(arguments,1);return function(){var he=K.slice();return he.push.apply(he,arguments),m.apply(this,he)}}function Qt(m,P){function K(){}K.prototype=P.prototype,m.aa=P.prototype,m.prototype=new K,m.prototype.constructor=m,m.Qb=function(he,wt,Ht){for(var Pn=Array(arguments.length-2),Ri=2;Ri<arguments.length;Ri++)Pn[Ri-2]=arguments[Ri];return P.prototype[wt].apply(he,Pn)}}function hn(m){const P=m.length;if(0<P){const K=Array(P);for(let he=0;he<P;he++)K[he]=m[he];return K}return[]}function on(m,P){for(let K=1;K<arguments.length;K++){const he=arguments[K];if(S(he)){const wt=m.length||0,Ht=he.length||0;m.length=wt+Ht;for(let Pn=0;Pn<Ht;Pn++)m[wt+Pn]=he[Pn]}else m.push(he)}}function Zn(m){return/^[\s\xa0]*$/.test(m)}function Hn(){var m=T.navigator;return m&&(m=m.userAgent)?m:""}function _r(m){return _r[" "](m),m}_r[" "]=function(){};var zr=!(-1==Hn().indexOf("Gecko")||-1!=Hn().toLowerCase().indexOf("webkit")&&-1==Hn().indexOf("Edge")||-1!=Hn().indexOf("Trident")||-1!=Hn().indexOf("MSIE")||-1!=Hn().indexOf("Edge"));function Or(m,P,K){for(const he in m)P.call(K,m[he],he,m)}function Ke(m){const P={};for(const K in m)P[K]=m[K];return P}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ct(m,P){let K,he;for(let wt=1;wt<arguments.length;wt++){for(K in he=arguments[wt],he)m[K]=he[K];for(let Ht=0;Ht<at.length;Ht++)K=at[Ht],Object.prototype.hasOwnProperty.call(he,K)&&(m[K]=he[K])}}function Dt(m){var P=1;m=m.split(":");const K=[];for(;0<P&&m.length;)K.push(m.shift()),P--;return m.length&&K.push(m.join(":")),K}function xt(m){T.setTimeout(()=>{throw m},0)}function ot(){var m=Jm;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}var sf=new class Bn{constructor(P,K){this.i=P,this.j=K,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}(()=>new Wy,m=>m.reset());class Wy{constructor(){this.next=this.g=this.h=null}set(P,K){this.h=P,this.g=K,this.next=null}reset(){this.next=this.g=this.h=null}}let af,Hd=!1,Jm=new class ka{constructor(){this.h=this.g=null}add(P,K){const he=sf.get();he.set(P,K),this.h?this.h.next=he:this.g=he,this.h=he}},Ky=()=>{const m=T.Promise.resolve(void 0);af=()=>{m.then(qy)}};var qy=()=>{for(var m;m=ot();){try{m.h.call(m.g)}catch(K){xt(K)}var P=sf;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}Hd=!1};function Sc(){this.s=this.s,this.C=this.C}function Jo(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}Sc.prototype.s=!1,Sc.prototype.ma=function(){this.s||(this.s=!0,this.N())},Sc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jo.prototype.h=function(){this.defaultPrevented=!0};var cf=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const K=()=>{};T.addEventListener("test",K,P),T.removeEventListener("test",K,P)}catch{}return m}();function tl(m,P){if(Jo.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var K=this.type=m.type,he=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(zr){e:{try{_r(P.nodeName);var wt=!0;break e}catch{}wt=!1}wt||(P=null)}}else"mouseover"==K?P=m.fromElement:"mouseout"==K&&(P=m.toElement);this.relatedTarget=P,he?(this.clientX=void 0!==he.clientX?he.clientX:he.pageX,this.clientY=void 0!==he.clientY?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:lf[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&tl.aa.h.call(this)}}Qt(tl,Jo);var lf={2:"touch",3:"pen",4:"mouse"};tl.prototype.h=function(){tl.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var uf="closure_listenable_"+(1e6*Math.random()|0),_E=0;function IE(m,P,K,he,wt){this.listener=m,this.proxy=null,this.src=P,this.type=K,this.capture=!!he,this.ha=wt,this.key=++_E,this.da=this.fa=!1}function Hu(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function zd(m){this.src=m,this.g={},this.h=0}function ev(m,P){var K=P.type;if(K in m.g){var Ht,he=m.g[K],wt=Array.prototype.indexOf.call(he,P,void 0);(Ht=0<=wt)&&Array.prototype.splice.call(he,wt,1),Ht&&(Hu(P),0==m.g[K].length&&(delete m.g[K],m.h--))}}function Xy(m,P,K,he){for(var wt=0;wt<m.length;++wt){var Ht=m[wt];if(!Ht.da&&Ht.listener==P&&Ht.capture==!!K&&Ht.ha==he)return wt}return-1}zd.prototype.add=function(m,P,K,he,wt){var Ht=m.toString();(m=this.g[Ht])||(m=this.g[Ht]=[],this.h++);var Pn=Xy(m,P,he,wt);return-1<Pn?(P=m[Pn],K||(P.fa=!1)):((P=new IE(P,this.src,Ht,!!he,wt)).fa=K,m.push(P)),P};var Qy="closure_lm_"+(1e6*Math.random()|0),tv={};function Yy(m,P,K,he,wt){if(he&&he.once)return TE(m,P,K,he,wt);if(Array.isArray(P)){for(var Ht=0;Ht<P.length;Ht++)Yy(m,P[Ht],K,he,wt);return null}return K=Gd(K),m&&m[uf]?m.K(P,K,B(he)?!!he.capture:!!he,wt):EE(m,P,K,!1,he,wt)}function EE(m,P,K,he,wt,Ht){if(!P)throw Error("Invalid event type");var Pn=B(wt)?!!wt.capture:!!wt,Ri=zu(m);if(Ri||(m[Qy]=Ri=new zd(m)),(K=Ri.add(P,K,he,Pn,Ht)).proxy)return K;if(he=function CE(){const P=rv;return function m(K){return P.call(m.src,m.listener,K)}}(),K.proxy=he,he.src=m,he.listener=K,m.addEventListener)cf||(wt=Pn),void 0===wt&&(wt=!1),m.addEventListener(P.toString(),he,wt);else if(m.attachEvent)m.attachEvent(Jy(P.toString()),he);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(he)}return K}function TE(m,P,K,he,wt){if(Array.isArray(P)){for(var Ht=0;Ht<P.length;Ht++)TE(m,P[Ht],K,he,wt);return null}return K=Gd(K),m&&m[uf]?m.L(P,K,B(he)?!!he.capture:!!he,wt):EE(m,P,K,!0,he,wt)}function Zy(m,P,K,he,wt){if(Array.isArray(P))for(var Ht=0;Ht<P.length;Ht++)Zy(m,P[Ht],K,he,wt);else he=B(he)?!!he.capture:!!he,K=Gd(K),m&&m[uf]?(m=m.i,(P=String(P).toString())in m.g&&-1<(K=Xy(Ht=m.g[P],K,he,wt))&&(Hu(Ht[K]),Array.prototype.splice.call(Ht,K,1),0==Ht.length&&(delete m.g[P],m.h--))):m&&(m=zu(m))&&(P=m.g[P.toString()],m=-1,P&&(m=Xy(P,K,he,wt)),(K=-1<m?P[m]:null)&&nv(K))}function nv(m){if("number"!=typeof m&&m&&!m.da){var P=m.src;if(P&&P[uf])ev(P.i,m);else{var K=m.type,he=m.proxy;P.removeEventListener?P.removeEventListener(K,he,m.capture):P.detachEvent?P.detachEvent(Jy(K),he):P.addListener&&P.removeListener&&P.removeListener(he),(K=zu(P))?(ev(K,m),0==K.h&&(K.src=null,P[Qy]=null)):Hu(m)}}}function Jy(m){return m in tv?tv[m]:tv[m]="on"+m}function rv(m,P){if(m.da)m=!0;else{P=new tl(P,this);var K=m.listener,he=m.ha||m.src;m.fa&&nv(m),m=K.call(he,P)}return m}function zu(m){return(m=m[Qy])instanceof zd?m:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gd(m){return"function"==typeof m?m:(m[df]||(m[df]=function(P){return m.handleEvent(P)}),m[df])}function es(){Sc.call(this),this.i=new zd(this),this.M=this,this.F=null}function No(m,P){var K,he=m.F;if(he)for(K=[];he;he=he.F)K.push(he);if(m=m.M,he=P.type||P,"string"==typeof P)P=new Jo(P,m);else if(P instanceof Jo)P.target=P.target||m;else{var wt=P;Ct(P=new Jo(he,m),wt)}if(wt=!0,K)for(var Ht=K.length-1;0<=Ht;Ht--){var Pn=P.g=K[Ht];wt=hf(Pn,he,!0,P)&&wt}if(wt=hf(Pn=P.g=m,he,!0,P)&&wt,wt=hf(Pn,he,!1,P)&&wt,K)for(Ht=0;Ht<K.length;Ht++)wt=hf(Pn=P.g=K[Ht],he,!1,P)&&wt}function hf(m,P,K,he){if(!(P=m.i.g[String(P)]))return!0;P=P.concat();for(var wt=!0,Ht=0;Ht<P.length;++Ht){var Pn=P[Ht];if(Pn&&!Pn.da&&Pn.capture==K){var Ri=Pn.listener,ts=Pn.ha||Pn.src;Pn.fa&&ev(m.i,Pn),wt=!1!==Ri.call(ts,he)&&wt}}return wt&&!he.defaultPrevented}function e_(m,P,K){if("function"==typeof m)K&&(m=Ze(m,K));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Ze(m.handleEvent,m)}return 2147483647<Number(P)?-1:T.setTimeout(m,P||0)}function Wd(m){m.g=e_(()=>{m.g=null,m.i&&(m.i=!1,Wd(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}Qt(es,Sc),es.prototype[uf]=!0,es.prototype.removeEventListener=function(m,P,K,he){Zy(this,m,P,K,he)},es.prototype.N=function(){if(es.aa.N.call(this),this.i){var P,m=this.i;for(P in m.g){for(var K=m.g[P],he=0;he<K.length;he++)Hu(K[he]);delete m.g[P],m.h--}}this.F=null},es.prototype.K=function(m,P,K,he){return this.i.add(String(m),P,!1,K,he)},es.prototype.L=function(m,P,K,he){return this.i.add(String(m),P,!0,K,he)};class t_ extends Sc{constructor(P,K){super(),this.m=P,this.l=K,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Wd(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kd(m){Sc.call(this),this.h=m,this.g={}}Qt(Kd,Sc);var iv=[];function ov(m){Or(m.g,function(P,K){this.g.hasOwnProperty(K)&&nv(P)},m),m.g={}}Kd.prototype.N=function(){Kd.aa.N.call(this),ov(this)},Kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sv=T.JSON.stringify,DE=T.JSON.parse,wE=class{stringify(m){return T.JSON.stringify(m,void 0)}parse(m){return T.JSON.parse(m,void 0)}};function Gu(){}function r_(){}Gu.prototype.h=null;var ff={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qd(){Jo.call(this,"d")}function qp(){Jo.call(this,"c")}Qt(qd,Jo),Qt(qp,Jo);var tu={},av=null;function Xp(){return av=av||new es}function cv(m){Jo.call(this,tu.La,m)}function Wu(m){const P=Xp();No(P,new cv(P))}function pf(m,P){Jo.call(this,tu.STAT_EVENT,m),this.stat=P}function Ps(m){const P=Xp();No(P,new pf(P,m))}function i_(m,P){Jo.call(this,tu.Ma,m),this.size=P}function gf(m,P){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){m()},P)}function mf(){this.g=!0}function nu(m,P,K,he){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+function o_(m,P){if(!m.g)return P;if(!P)return null;try{var K=JSON.parse(P);if(K)for(m=0;m<K.length;m++)if(Array.isArray(K[m])){var he=K[m];if(!(2>he.length)){var wt=he[1];if(Array.isArray(wt)&&!(1>wt.length)){var Ht=wt[0];if("noop"!=Ht&&"stop"!=Ht&&"close"!=Ht)for(var Pn=1;Pn<wt.length;Pn++)wt[Pn]=""}}}return sv(K)}catch{return P}}(m,K)+(he?" "+he:"")})}tu.La="serverreachability",Qt(cv,Jo),tu.STAT_EVENT="statevent",Qt(pf,Jo),tu.Ma="timingevent",Qt(i_,Jo),mf.prototype.xa=function(){this.g=!1},mf.prototype.info=function(){};var Ku,yf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},s_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qu(){}function Xu(m,P,K,he){this.j=m,this.i=P,this.l=K,this.R=he||1,this.U=new Kd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a_}function a_(){this.i=null,this.g="",this.h=!1}Qt(qu,Gu),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},Ku=new qu;var lv={},_f={};function uv(m,P,K){m.L=1,m.v=Df(nl(P)),m.m=K,m.P=!0,dv(m,null)}function dv(m,P){m.F=Date.now(),If(m),m.A=nl(m.v);var K=m.A,he=m.R;Array.isArray(he)||(he=[String(he)]),vv(K.i,"t",he),m.C=0,K=m.j.J,m.h=new a_,m.g=Dv(m.j,K?P:null,!m.m),0<m.O&&(m.M=new t_(Ze(m.Y,m,m.g),m.O)),P=m.U,K=m.g,he=m.ca;var wt="readystatechange";Array.isArray(wt)||(wt&&(iv[0]=wt.toString()),wt=iv);for(var Ht=0;Ht<wt.length;Ht++){var Pn=Yy(K,wt[Ht],he||P.handleEvent,!1,P.h||P);if(!Pn)break;P.g[Pn.key]=Pn}P=m.H?Ke(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),Wu(),function bE(m,P,K,he,wt,Ht){m.info(function(){if(m.g)if(Ht)for(var Pn="",Ri=Ht.split("&"),ts=0;ts<Ri.length;ts++){var ri=Ri[ts].split("=");if(1<ri.length){var zo=ri[0];ri=ri[1];var Go=zo.split("_");Pn=2<=Go.length&&"type"==Go[1]?Pn+(zo+"=")+ri+"&":Pn+(zo+"=redacted&")}}else Pn=null;else Pn=Ht;return"XMLHTTP REQ ("+he+") [attempt "+wt+"]: "+P+"\n"+K+"\n"+Pn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function c_(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function l_(m,P){var K=m.C,he=P.indexOf("\n",K);return-1==he?_f:(K=Number(P.substring(K,he)),isNaN(K)?lv:(he+=1)+K>P.length?_f:(P=P.slice(he,he+K),m.C=he+K,P))}function If(m){m.S=Date.now()+m.I,hv(m,m.I)}function hv(m,P){if(null!=m.B)throw Error("WatchDog timer not null");m.B=gf(Ze(m.ba,m),P)}function Ef(m){m.B&&(T.clearTimeout(m.B),m.B=null)}function Cf(m){0==m.j.G||m.J||Ev(m.j,m)}function Qu(m){Ef(m);var P=m.M;P&&"function"==typeof P.ma&&P.ma(),m.M=null,ov(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function fv(m,P){try{var K=m.j;if(0!=K.G&&(K.g==m||pv(K.h,m)))if(!m.K&&pv(K.h,m)&&3==K.G){try{var he=K.Da.g.parse(P)}catch{he=null}if(Array.isArray(he)&&3==he.length){var wt=he;if(0==wt[0]){e:if(!K.u){if(K.g){if(!(K.g.F+3e3<m.F))break e;og(K),au(K)}Iv(K),Ps(18)}}else K.za=wt[1],0<K.za-K.T&&37500>wt[2]&&K.F&&0==K.v&&!K.C&&(K.C=gf(Ze(K.Za,K),6e3));if(1>=Qp(K.h)&&K.ca){try{K.ca()}catch{}K.ca=void 0}}else ol(K,11)}else if((m.K||K.g==m)&&og(K),!Zn(P))for(wt=K.Da.g.parse(P),P=0;P<wt.length;P++){let ri=wt[P];if(K.T=ri[0],ri=ri[1],2==K.G)if("c"==ri[0]){K.K=ri[1],K.ia=ri[2];const zo=ri[3];null!=zo&&(K.la=zo,K.j.info("VER="+K.la));const Go=ri[4];null!=Go&&(K.Aa=Go,K.j.info("SVER="+K.Aa));const Yu=ri[5];null!=Yu&&"number"==typeof Yu&&0<Yu&&(K.L=he=1.5*Yu,K.j.info("backChannelRequestTimeoutMs_="+he)),he=K;const Fa=m.g;if(Fa){const xf=Fa.g?Fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xf){var Ht=he.h;Ht.g||-1==xf.indexOf("spdy")&&-1==xf.indexOf("quic")&&-1==xf.indexOf("h2")||(Ht.j=Ht.l,Ht.g=new Set,Ht.h&&(gv(Ht,Ht.h),Ht.h=null))}if(he.D){const wv=Fa.g?Fa.g.getResponseHeader("X-HTTP-Session-Id"):null;wv&&(he.ya=wv,zi(he.I,he.D,wv))}}K.G=3,K.l&&K.l.ua(),K.ba&&(K.R=Date.now()-m.F,K.j.info("Handshake RTT: "+K.R+"ms"));var Pn=m;if((he=K).qa=A_(he,he.J?he.ia:null,he.W),Pn.K){h_(he.h,Pn);var Ri=Pn,ts=he.L;ts&&(Ri.I=ts),Ri.B&&(Ef(Ri),If(Ri)),he.g=Pn}else w_(he);0<K.i.length&&ig(K)}else"stop"!=ri[0]&&"close"!=ri[0]||ol(K,7);else 3==K.G&&("stop"==ri[0]||"close"==ri[0]?"stop"==ri[0]?ol(K,7):_v(K):"noop"!=ri[0]&&K.l&&K.l.ta(ri),K.v=0)}Wu()}catch{}}Xu.prototype.ca=function(m){m=m.target;const P=this.M;P&&3==va(m)?P.j():this.Y(m)},Xu.prototype.Y=function(m){try{if(m==this.g)e:{const Go=va(this.g);var P=this.g.Ba();if(this.g.Z(),!(3>Go)&&(3!=Go||this.g&&(this.h.h||this.g.oa()||FE(this.g)))){this.J||4!=Go||7==P||Wu(),Ef(this);var K=this.g.Z();this.X=K;t:if(c_(this)){var he=FE(this.g);m="";var wt=he.length,Ht=4==va(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Qu(this),Cf(this);var Pn="";break t}this.h.i=new T.TextDecoder}for(P=0;P<wt;P++)this.h.h=!0,m+=this.h.i.decode(he[P],{stream:!(Ht&&P==wt-1)});he.length=0,this.h.g+=m,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==K,function AE(m,P,K,he,wt,Ht,Pn){m.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+wt+"]: "+P+"\n"+K+"\n"+Ht+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,Go,K),this.o){if(this.T&&!this.K){t:{if(this.g){var Ri,ts=this.g;if((Ri=ts.g?ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zn(Ri)){var ri=Ri;break t}}ri=null}if(!(K=ri)){this.o=!1,this.s=3,Ps(12),Qu(this),Cf(this);break e}nu(this.i,this.l,K,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fv(this,K)}if(this.P){let Fa;for(K=!0;!this.J&&this.C<Pn.length;){if(Fa=l_(this,Pn),Fa==_f){4==Go&&(this.s=4,Ps(14),K=!1),nu(this.i,this.l,null,"[Incomplete Response]");break}if(Fa==lv){this.s=4,Ps(15),nu(this.i,this.l,Pn,"[Invalid Chunk]"),K=!1;break}nu(this.i,this.l,Fa,null),fv(this,Fa)}if(c_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Go||0!=Pn.length||this.h.h||(this.s=1,Ps(16),K=!1),this.o=this.o&&K,K){if(0<Pn.length&&!this.W){this.W=!0;var zo=this.j;zo.g==this&&zo.ba&&!zo.M&&(zo.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),eh(zo),zo.M=!0,Ps(11))}}else nu(this.i,this.l,Pn,"[Invalid Chunked Response]"),Qu(this),Cf(this)}else nu(this.i,this.l,Pn,null),fv(this,Pn);4==Go&&Qu(this),this.o&&!this.J&&(4==Go?Ev(this.j,this):(this.o=!1,If(this)))}else(function rg(m){const P={};m=(m.g&&2<=va(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let he=0;he<m.length;he++){if(Zn(m[he]))continue;var K=Dt(m[he]);const wt=K[0];if("string"!=typeof(K=K[1]))continue;K=K.trim();const Ht=P[wt]||[];P[wt]=Ht,Ht.push(K)}!function vt(m,P){for(const K in m)P.call(void 0,m[K],K,m)}(P,function(he){return he.join(", ")})})(this.g),400==K&&0<Pn.indexOf("Unknown SID")?(this.s=3,Ps(12)):(this.s=0,Ps(13)),Qu(this),Cf(this)}}}catch{}},Xu.prototype.cancel=function(){this.J=!0,Qu(this)},Xu.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function vf(m,P){m.info(function(){return"TIMEOUT: "+P})}(this.i,this.A),2!=this.L&&(Wu(),Ps(17)),Qu(this),this.s=2,Cf(this)):hv(this,this.S-m)};var SE=class{constructor(m,P){this.g=m,this.map=P}};function u_(m){this.l=m||10,m=T.PerformanceNavigationTiming?0<(m=T.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function d_(m){return!!m.h||!!m.g&&m.g.size>=m.j}function Qp(m){return m.h?1:m.g?m.g.size:0}function pv(m,P){return m.h?m.h==P:!!m.g&&m.g.has(P)}function gv(m,P){m.g?m.g.add(P):m.h=P}function h_(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}function ru(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let P=m.i;for(const K of m.g.values())P=P.concat(K.D);return P}return hn(m.i)}function Yp(m,P){if(m.forEach&&"function"==typeof m.forEach)m.forEach(P,void 0);else if(S(m)||"string"==typeof m)Array.prototype.forEach.call(m,P,void 0);else for(var K=function mv(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(S(m)||"string"==typeof m){var P=[];m=m.length;for(var K=0;K<m;K++)P.push(K);return P}P=[],K=0;for(const he in m)P[K++]=he;return P}}}(m),he=function Tf(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(S(m)){for(var P=[],K=m.length,he=0;he<K;he++)P.push(m[he]);return P}for(he in P=[],K=0,m)P[K++]=m[he];return P}(m),wt=he.length,Ht=0;Ht<wt;Ht++)P.call(void 0,he[Ht],K&&K[Ht],m)}u_.prototype.cancel=function(){if(this.i=ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var f_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iu(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof iu){this.h=m.h,Zp(this,m.j),this.o=m.o,this.g=m.g,Jp(this,m.s),this.l=m.l;var P=m.i,K=new rc;K.i=P.i,P.g&&(K.g=new Map(P.g),K.h=P.h),p_(this,K),this.m=m.m}else m&&(P=String(m).match(f_))?(this.h=!1,Zp(this,P[1]||"",!0),this.o=wf(P[2]||""),this.g=wf(P[3]||"",!0),Jp(this,P[4]),this.l=wf(P[5]||"",!0),p_(this,P[6]||"",!0),this.m=wf(P[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}function nl(m){return new iu(m)}function Zp(m,P,K){m.j=K?wf(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function Jp(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function p_(m,P,K){P instanceof rc?(m.i=P,function NE(m,P){P&&!m.j&&(ma(m),m.i=null,m.g.forEach(function(K,he){var wt=he.toLowerCase();he!=wt&&(Yd(this,he),vv(this,wt,K))},m)),m.j=P}(m.i,m.h)):(K||(P=Qd(P,ME)),m.i=new rc(P,m.h))}function zi(m,P,K){m.i.set(P,K)}function Df(m){return zi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function wf(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qd(m,P,K){return"string"==typeof m?(m=encodeURI(m).replace(P,eg),K&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function eg(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}iu.prototype.toString=function(){var m=[],P=this.j;P&&m.push(Qd(P,g_,!0),":");var K=this.g;return(K||"file"==P)&&(m.push("//"),(P=this.o)&&m.push(Qd(P,g_,!0),"@"),m.push(encodeURIComponent(String(K)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(K=this.s)&&m.push(":",String(K))),(K=this.l)&&(this.g&&"/"!=K.charAt(0)&&m.push("/"),m.push(Qd(K,"/"==K.charAt(0)?m_:RE,!0))),(K=this.i.toString())&&m.push("?",K),(K=this.m)&&m.push("#",Qd(K,PE)),m.join("")};var g_=/[#\/\?@]/g,RE=/[#\?:]/g,m_=/[#\?]/g,ME=/[#\?@]/g,PE=/#/g;function rc(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function ma(m){m.g||(m.g=new Map,m.h=0,m.i&&function Xd(m,P){if(m){m=m.split("&");for(var K=0;K<m.length;K++){var he=m[K].indexOf("="),wt=null;if(0<=he){var Ht=m[K].substring(0,he);wt=m[K].substring(he+1)}else Ht=m[K];P(Ht,wt?decodeURIComponent(wt.replace(/\+/g," ")):"")}}}(m.i,function(P,K){m.add(decodeURIComponent(P.replace(/\+/g," ")),K)}))}function Yd(m,P){ma(m),P=ou(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function xE(m,P){return ma(m),P=ou(m,P),m.g.has(P)}function vv(m,P,K){Yd(m,P),0<K.length&&(m.i=null,m.g.set(ou(m,P),hn(K)),m.h+=K.length)}function ou(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function rl(m,P,K,he,wt){try{wt&&(wt.onload=null,wt.onerror=null,wt.onabort=null,wt.ontimeout=null),he(K)}catch{}}function XT(){this.g=new wE}function kE(m,P,K){const he=K||"";try{Yp(m,function(wt,Ht){let Pn=wt;B(wt)&&(Pn=sv(wt)),P.push(he+Ht+"="+encodeURIComponent(Pn))})}catch(wt){throw P.push(he+"type="+encodeURIComponent("_badmap")),wt}}function su(m){this.l=m.Ub||null,this.j=m.eb||!1}function Zd(m,P){es.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y_(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function bf(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Af(m)}function Af(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function tg(m){let P="";return Or(m,function(K,he){P+=he,P+=":",P+=K,P+="\r\n"}),P}function Rc(m,P,K){e:{for(he in K){var he=!1;break e}he=!0}he||(K=tg(K),"string"==typeof m?null!=K&&encodeURIComponent(String(K)):zi(m,P,K))}function Gi(m){es.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=rc.prototype).add=function(m,P){ma(this),this.i=null,m=ou(this,m);var K=this.g.get(m);return K||this.g.set(m,K=[]),K.push(P),this.h+=1,this},c.forEach=function(m,P){ma(this),this.g.forEach(function(K,he){K.forEach(function(wt){m.call(P,wt,he,this)},this)},this)},c.na=function(){ma(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),K=[];for(let he=0;he<P.length;he++){const wt=m[he];for(let Ht=0;Ht<wt.length;Ht++)K.push(P[he])}return K},c.V=function(m){ma(this);let P=[];if("string"==typeof m)xE(this,m)&&(P=P.concat(this.g.get(ou(this,m))));else{m=Array.from(this.g.values());for(let K=0;K<m.length;K++)P=P.concat(m[K])}return P},c.set=function(m,P){return ma(this),this.i=null,xE(this,m=ou(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},c.get=function(m,P){return m&&0<(m=this.V(m)).length?String(m[0]):P},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var K=0;K<P.length;K++){var he=P[K];const Ht=encodeURIComponent(String(he)),Pn=this.V(he);for(he=0;he<Pn.length;he++){var wt=Ht;""!==Pn[he]&&(wt+="="+encodeURIComponent(String(Pn[he]))),m.push(wt)}}return this.i=m.join("&")},Qt(su,Gu),su.prototype.g=function(){return new Zd(this.l,this.j)},su.prototype.i=function(m){return function(){return m}}({}),Qt(Zd,es),(c=Zd.prototype).open=function(m,P){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,Af(this)},c.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||T).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bf(this)),this.readyState=0},c.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Af(this)),this.g&&(this.readyState=3,Af(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y_(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?bf(this):Af(this),3==this.readyState&&y_(this)}},c.Ra=function(m){this.g&&(this.response=this.responseText=m,bf(this))},c.Qa=function(m){this.g&&(this.response=m,bf(this))},c.ga=function(){this.g&&bf(this)},c.setRequestHeader=function(m,P){this.u.append(m,P)},c.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var K=P.next();!K.done;)m.push((K=K.value)[0]+": "+K[1]),K=P.next();return m.join("\r\n")},Object.defineProperty(Zd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),Qt(Gi,es);var __=/^https?$/i,Sf=["POST","PUT"];function I_(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,E_(m),Rf(m)}function E_(m){m.A||(m.A=!0,No(m,"complete"),No(m,"error"))}function ng(m){if(m.h&&typeof v<"u"&&(!m.v[1]||4!=va(m)||2!=m.Z()))if(m.u&&4==va(m))e_(m.Ea,0,m);else if(No(m,"readystatechange"),4==va(m)){m.h=!1;try{const Pn=m.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var K;if(!(K=P)){var he;if(he=0===Pn){var wt=String(m.D).match(f_)[1]||null;!wt&&T.self&&T.self.location&&(wt=T.self.location.protocol.slice(0,-1)),he=!__.test(wt?wt.toLowerCase():"")}K=he}if(K)No(m,"complete"),No(m,"success");else{m.m=6;try{var Ht=2<va(m)?m.g.statusText:""}catch{Ht=""}m.l=Ht+" ["+m.Z()+"]",E_(m)}}finally{Rf(m)}}}function Rf(m,P){if(m.g){il(m);const K=m.g,he=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||No(m,"ready");try{K.onreadystatechange=he}catch{}}}function il(m){m.I&&(T.clearTimeout(m.I),m.I=null)}function va(m){return m.g?m.g.readyState:0}function FE(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Jd(m,P,K){return K&&K.internalChannelParams&&K.internalChannelParams[m]||P}function yv(m){this.Aa=0,this.i=[],this.j=new mf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jd("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jd("baseRetryDelayMs",5e3,m),this.cb=Jd("retryDelaySeedMs",1e4,m),this.Wa=Jd("forwardChannelMaxRetries",2,m),this.wa=Jd("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new u_(m&&m.concurrentRequestLimit),this.Da=new XT,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function _v(m){if(C_(m),3==m.G){var P=m.U++,K=nl(m.I);if(zi(K,"SID",m.K),zi(K,"RID",P),zi(K,"TYPE","terminate"),Mf(m,K),(P=new Xu(m,m.j,P)).L=2,P.v=Df(nl(K)),K=!1,T.navigator&&T.navigator.sendBeacon)try{K=T.navigator.sendBeacon(P.v.toString(),"")}catch{}!K&&T.Image&&((new Image).src=P.v,K=!0),K||(P.g=Dv(P.j,null),P.g.ea(P.v)),P.F=Date.now(),If(P)}Tv(m)}function au(m){m.g&&(eh(m),m.g.cancel(),m.g=null)}function C_(m){au(m),m.u&&(T.clearTimeout(m.u),m.u=null),og(m),m.h.cancel(),m.s&&("number"==typeof m.s&&T.clearTimeout(m.s),m.s=null)}function ig(m){if(!d_(m.h)&&!m.s){m.s=!0;var P=m.Ga;af||Ky(),Hd||(af(),Hd=!0),Jm.add(P,m),m.B=0}}function T_(m,P){var K;K=P?P.l:m.U++;const he=nl(m.I);zi(he,"SID",m.K),zi(he,"RID",K),zi(he,"AID",m.T),Mf(m,he),m.m&&m.o&&Rc(he,m.m,m.o),K=new Xu(m,m.j,K,m.B+1),null===m.m&&(K.H=m.o),P&&(m.i=P.D.concat(m.i)),P=D_(m,K,1e3),K.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),gv(m.h,K),uv(K,he,P)}function Mf(m,P){m.H&&Or(m.H,function(K,he){zi(P,he,K)}),m.l&&Yp({},function(K,he){zi(P,he,K)})}function D_(m,P,K){K=Math.min(m.i.length,K);var he=m.l?Ze(m.l.Na,m.l,m):null;e:{var wt=m.i;let Ht=-1;for(;;){const Pn=["count="+K];-1==Ht?0<K?(Ht=wt[0].g,Pn.push("ofs="+Ht)):Ht=0:Pn.push("ofs="+Ht);let Ri=!0;for(let ts=0;ts<K;ts++){let ri=wt[ts].g;const zo=wt[ts].map;if(ri-=Ht,0>ri)Ht=Math.max(0,wt[ts].g-100),Ri=!1;else try{kE(zo,Pn,"req"+ri+"_")}catch{he&&he(zo)}}if(Ri){he=Pn.join("&");break e}}}return m=m.i.splice(0,K),P.D=m,he}function w_(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;af||Ky(),Hd||(af(),Hd=!0),Jm.add(P,m),m.v=0}}function Iv(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=gf(Ze(m.Fa,m),Cv(m,m.v)),m.v++,0))}function eh(m){null!=m.A&&(T.clearTimeout(m.A),m.A=null)}function b_(m){m.g=new Xu(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var P=nl(m.qa);zi(P,"RID","rpc"),zi(P,"SID",m.K),zi(P,"AID",m.T),zi(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&zi(P,"TO",m.ja),zi(P,"TYPE","xmlhttp"),Mf(m,P),m.m&&m.o&&Rc(P,m.m,m.o),m.L&&(m.g.I=m.L);var K=m.g;m=m.ia,K.L=1,K.v=Df(nl(P)),K.m=null,K.P=!0,dv(K,m)}function og(m){null!=m.C&&(T.clearTimeout(m.C),m.C=null)}function Ev(m,P){var K=null;if(m.g==P){og(m),eh(m),m.g=null;var he=2}else{if(!pv(m.h,P))return;K=P.D,h_(m.h,P),he=1}if(0!=m.G)if(P.o)if(1==he){K=P.m?P.m.length:0,P=Date.now()-P.F;var wt=m.B;No(he=Xp(),new i_(he,K)),ig(m)}else w_(m);else if(3==(wt=P.s)||0==wt&&0<P.X||!(1==he&&function VE(m,P){return!(Qp(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=P.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=gf(Ze(m.Ga,m,P),Cv(m,m.B)),m.B++,0)))}(m,P)||2==he&&Iv(m)))switch(K&&0<K.length&&(P=m.h,P.i=P.i.concat(K)),wt){case 1:ol(m,5);break;case 4:ol(m,10);break;case 3:ol(m,6);break;default:ol(m,2)}}function Cv(m,P){let K=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(K*=2),K*P}function ol(m,P){if(m.j.info("Error code "+P),2==P){var K=Ze(m.fb,m),he=m.Xa;const wt=!he;he=new iu(he||"//www.google.com/images/cleardot.gif"),T.location&&"http"==T.location.protocol||Zp(he,"https"),Df(he),wt?function v_(m,P){const K=new mf;if(T.Image){const he=new Image;he.onload=At(rl,K,"TestLoadImage: loaded",!0,P,he),he.onerror=At(rl,K,"TestLoadImage: error",!1,P,he),he.onabort=At(rl,K,"TestLoadImage: abort",!1,P,he),he.ontimeout=At(rl,K,"TestLoadImage: timeout",!1,P,he),T.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=m}else P(!1)}(he.toString(),K):function OE(m,P){new mf;const he=new AbortController,wt=setTimeout(()=>{he.abort(),rl(0,0,!1,P)},1e4);fetch(m,{signal:he.signal}).then(Ht=>{clearTimeout(wt),rl(0,0,!!Ht.ok,P)}).catch(()=>{clearTimeout(wt),rl(0,0,!1,P)})}(he.toString(),K)}else Ps(2);m.G=0,m.l&&m.l.sa(P),Tv(m),C_(m)}function Tv(m){if(m.G=0,m.ka=[],m.l){const P=ru(m.h);(0!=P.length||0!=m.i.length)&&(on(m.ka,P),on(m.ka,m.i),m.h.i.length=0,hn(m.i),m.i.length=0),m.l.ra()}}function A_(m,P,K){var he=K instanceof iu?nl(K):new iu(K);if(""!=he.g)P&&(he.g=P+"."+he.g),Jp(he,he.s);else{var wt=T.location;he=wt.protocol,P=P?P+"."+wt.hostname:wt.hostname,wt=+wt.port;var Ht=new iu(null);he&&Zp(Ht,he),P&&(Ht.g=P),wt&&Jp(Ht,wt),K&&(Ht.l=K),he=Ht}return P=m.ya,(K=m.D)&&P&&zi(he,K,P),zi(he,"VER",m.la),Mf(m,he),he}function Dv(m,P,K){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new Gi(m.Ca&&!m.pa?new su({eb:K}):m.pa)).Ha(m.J),P}function sg(){}function Pf(){}function qs(m,P){es.call(this),this.g=new yv(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!Zn(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!Zn(P)&&(this.g.D=P,null!==(m=this.h)&&P in m&&P in(m=this.h)&&delete m[P]),this.j=new th(this)}function S_(m){qd.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const K in P){m=K;break e}m=void 0}(this.i=m)&&(m=this.i,P=null!==P&&m in P?P[m]:void 0),this.data=P}else this.data=m}function R_(){qp.call(this),this.status=1}function th(m){this.g=m}(c=Gi.prototype).Ha=function(m){this.J=m},c.ea=function(m,P,K,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ku.g(),this.v=function n_(m){return m.h||(m.h=m.i())}(this.o?this.o:Ku),this.g.onreadystatechange=Ze(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(Ht){return void I_(this,Ht)}if(m=K||"",K=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var wt in he)K.set(wt,he[wt]);else{if("function"!=typeof he.keys||"function"!=typeof he.get)throw Error("Unknown input type for opt_headers: "+String(he));for(const Ht of he.keys())K.set(Ht,he.get(Ht))}he=Array.from(K.keys()).find(Ht=>"content-type"==Ht.toLowerCase()),wt=T.FormData&&m instanceof T.FormData,!(0<=Array.prototype.indexOf.call(Sf,P,void 0))||he||wt||K.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ht,Pn]of K)this.g.setRequestHeader(Ht,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{il(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ht){I_(this,Ht)}},c.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,No(this,"complete"),No(this,"abort"),Rf(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rf(this,!0)),Gi.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?ng(this):this.bb())},c.bb=function(){ng(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&0==P.indexOf(m)&&(P=P.substring(m.length)),DE(P)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=yv.prototype).la=8,c.G=1,c.connect=function(m,P,K,he){Ps(0),this.W=m,this.H=P||{},K&&void 0!==he&&(this.H.OSID=K,this.H.OAID=he),this.F=this.X,this.I=A_(this,null,this.W),ig(this)},c.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const wt=new Xu(this,this.j,m);let Ht=this.o;if(this.S&&(Ht?(Ht=Ke(Ht),Ct(Ht,this.S)):Ht=this.S),null!==this.m||this.O||(wt.H=Ht,Ht=null),this.P)e:{for(var P=0,K=0;K<this.i.length;K++){var he=this.i[K];if(void 0===(he="__data__"in he.map&&"string"==typeof(he=he.map.__data__)?he.length:void 0))break;if(4096<(P+=he)){P=K;break e}if(4096===P||K===this.i.length-1){P=K+1;break e}}P=1e3}else P=1e3;P=D_(this,wt,P),zi(K=nl(this.I),"RID",m),zi(K,"CVER",22),this.D&&zi(K,"X-HTTP-Session-Id",this.D),Mf(this,K),Ht&&(this.O?P="headers="+encodeURIComponent(String(tg(Ht)))+"&"+P:this.m&&Rc(K,this.m,Ht)),gv(this.h,wt),this.Ua&&zi(K,"TYPE","init"),this.P?(zi(K,"$req",P),zi(K,"SID","null"),wt.T=!0,uv(wt,K,null)):uv(wt,K,P),this.G=2}}else 3==this.G&&(m?T_(this,m):0==this.i.length||d_(this.h)||T_(this))},c.Fa=function(){if(this.u=null,b_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=gf(Ze(this.ab,this),m)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ps(10),au(this),b_(this))},c.Za=function(){null!=this.C&&(this.C=null,au(this),Iv(this),Ps(19))},c.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ps(2)):(this.j.info("Failed to ping google.com"),Ps(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=sg.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Pf.prototype.g=function(m,P){return new qs(m,P)},Qt(qs,es),qs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qs.prototype.close=function(){_v(this.g)},qs.prototype.o=function(m){var P=this.g;if("string"==typeof m){var K={};K.__data__=m,m=K}else this.u&&((K={}).__data__=sv(m),m=K);P.i.push(new SE(P.Ya++,m)),3==P.G&&ig(P)},qs.prototype.N=function(){this.g.l=null,delete this.j,_v(this.g),delete this.g,qs.aa.N.call(this)},Qt(S_,qd),Qt(R_,qp),Qt(th,sg),th.prototype.ua=function(){No(this.g,"a")},th.prototype.ta=function(m){No(this.g,new S_(m))},th.prototype.sa=function(m){No(this.g,new R_)},th.prototype.ra=function(){No(this.g,"b")},Pf.prototype.createWebChannel=Pf.prototype.g,qs.prototype.send=qs.prototype.o,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,pe=Bt.createWebChannelTransport=function(){return new Pf},Z=Bt.getStatEventTarget=function(){return Xp()},_e=Bt.Event=tu,fe=Bt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yf.NO_ERROR=0,yf.TIMEOUT=8,yf.HTTP_ERROR=6,me=Bt.ErrorCode=yf,s_.COMPLETE="complete",pt=Bt.EventType=s_,r_.EventType=ff,ff.OPEN="a",ff.CLOSE="b",ff.ERROR="c",ff.MESSAGE="d",es.prototype.listen=es.prototype.K,Cn=Bt.WebChannel=r_,Bt.FetchXmlHttpFactory=su,Gi.prototype.listenOnce=Gi.prototype.L,Gi.prototype.getLastError=Gi.prototype.Ka,Gi.prototype.getLastErrorCode=Gi.prototype.Ba,Gi.prototype.getStatus=Gi.prototype.Z,Gi.prototype.getResponseJson=Gi.prototype.Oa,Gi.prototype.getResponseText=Gi.prototype.oa,Gi.prototype.send=Gi.prototype.ea,Gi.prototype.setWithCredentials=Gi.prototype.Ha,pn=Bt.XhrIo=Gi}).apply(typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{});const Ye="@firebase/firestore";class le{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}le.UNAUTHENTICATED=new le(null),le.GOOGLE_CREDENTIALS=new le("google-credentials-uid"),le.FIRST_PARTY=new le("first-party-uid"),le.MOCK_USER=new le("mock-user");let qe="10.14.0";const Ee=new ge.Vy("@firebase/firestore");function Nt(){return Ee.logLevel}function gt(c,...t){if(Ee.logLevel<=ge.$b.DEBUG){const i=t.map(xn);Ee.debug(`Firestore (${qe}): ${c}`,...i)}}function Ut(c,...t){if(Ee.logLevel<=ge.$b.ERROR){const i=t.map(xn);Ee.error(`Firestore (${qe}): ${c}`,...i)}}function un(c,...t){if(Ee.logLevel<=ge.$b.WARN){const i=t.map(xn);Ee.warn(`Firestore (${qe}): ${c}`,...i)}}function xn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Xt(c="Unexpected state"){const t=`FIRESTORE (${qe}) INTERNAL ASSERTION FAILED: `+c;throw Ut(t),new Error(t)}function Ot(c,t){c||Xt()}function Ft(c,t){return c}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ge.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ut{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class Rt{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(le.UNAUTHENTICATED))}shutdown(){}}class Jn{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kn{constructor(t){this.t=t,this.currentUser=le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;Ot(void 0===this.o);let u=this.i;const p=B=>this.i!==u?(u=this.i,i(B)):Promise.resolve();let v=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new ut,t.enqueueRetryable(()=>p(this.currentUser))};const T=()=>{const B=v;t.enqueueRetryable((0,a.A)(function*(){yield B.promise,yield p(s.currentUser)}))},S=B=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=B,this.o&&(this.auth.addAuthTokenListener(this.o),T())};this.t.onInit(B=>S(B)),setTimeout(()=>{if(!this.auth){const B=this.t.getImmediate({optional:!0});B?S(B):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new ut)}},0),T()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ot("string"==typeof s.accessToken),new Rt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new le(t)}}class vn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=le.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gn{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new vn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(le.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wn{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kn{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){Ot(void 0===this.o);const s=p=>{null!=p.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const v=p.token!==this.R;return this.R=p.token,gt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>s(p))};const u=p=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ot("string"==typeof i.token),this.R=i.token,new Wn(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rr(c){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<c;s++)i[s]=Math.floor(256*Math.random());return i}class Mr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=rr(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function An(c,t){return c<t?-1:c>t?1:0}function or(c,t,i){return c.length===t.length&&c.every((s,u)=>i(s,t[u]))}function lr(c){return c+"\0"}class Sn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new de(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new de(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new de(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Sn.fromMillis(Date.now())}static fromDate(t){return Sn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new Sn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?An(this.nanoseconds,t.nanoseconds):An(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yn(t)}static min(){return new yn(new Sn(0,0))}static max(){return new yn(new Sn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xn{constructor(t,i,s){void 0===i?i=0:i>t.length&&Xt(),void 0===s?s=t.length-i:s>t.length-i&&Xt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===Xn.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const p=t.get(u),v=i.get(u);if(p<v)return-1;if(p>v)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Gn extends Xn{construct(t,i,s){return new Gn(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new de(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Gn(i)}static emptyPath(){return new Gn([])}}const Qn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Xn{construct(t,i,s){return new ar(t,i,s)}static isValidIdentifier(t){return Qn.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new de(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<t.length;){const T=t[u];if("\\"===T){if(u+1===t.length)throw new de(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const S=t[u+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new de(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=S,u+=2}else"`"===T?(v=!v,u++):"."!==T||v?(s+=T,u++):(p(),u++)}if(p(),v)throw new de(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ar(i)}static emptyPath(){return new ar([])}}class an{constructor(t){this.path=t}static fromPath(t){return new an(Gn.fromString(t))}static fromName(t){return new an(Gn.fromString(t).popFirst(5))}static empty(){return new an(Gn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Gn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Gn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new an(new Gn(t.slice()))}}class ii{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function St(c){return c.fields.find(t=>2===t.kind)}function et(c){return c.fields.filter(t=>2!==t.kind)}ii.UNKNOWN_ID=-1;class rt{constructor(t,i){this.fieldPath=t,this.kind=i}}class dn{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new dn(0,ze.min())}}function Ae(c,t){const i=c.toTimestamp().seconds,s=c.toTimestamp().nanoseconds+1,u=yn.fromTimestamp(1e9===s?new Sn(i+1,0):new Sn(i,s));return new ze(u,an.empty(),t)}function De(c){return new ze(c.readTime,c.key,-1)}class ze{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new ze(yn.min(),an.empty(),-1)}static max(){return new ze(yn.max(),an.empty(),-1)}}function Mt(c,t){let i=c.readTime.compareTo(t.readTime);return 0!==i?i:(i=an.comparator(c.documentKey,t.documentKey),0!==i?i:An(c.largestBatchId,t.largestBatchId))}const mt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function In(c){return wr.apply(this,arguments)}function wr(){return(wr=(0,a.A)(function*(c){if(c.code!==ht.FAILED_PRECONDITION||c.message!==mt)throw c;gt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new lt((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof lt?i:lt.resolve(i)}catch(i){return lt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):lt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):lt.reject(i)}static resolve(t){return new lt((i,s)=>{i(t)})}static reject(t){return new lt((i,s)=>{s(t)})}static waitFor(t){return new lt((i,s)=>{let u=0,p=0,v=!1;t.forEach(T=>{++u,T.next(()=>{++p,v&&p===u&&i()},S=>s(S))}),v=!0,p===u&&i()})}static or(t){let i=lt.resolve(!1);for(const s of t)i=i.next(u=>u?lt.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(t,i){return new lt((s,u)=>{const p=t.length,v=new Array(p);let T=0;for(let S=0;S<p;S++){const B=S;i(t[B]).next(te=>{v[B]=te,++T,T===p&&s(v)},te=>u(te))}})}static doWhile(t,i){return new lt((s,u)=>{const p=()=>{!0===t()?i().next(()=>{p()},u):s()};p()})}}class cr{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new oi(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Yi(s.target.error);this.V.reject(new oi(t,u))}}static open(t,i,s,u){try{return new cr(i,t.transaction(u,s))}catch(p){throw new oi(i,p)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(gt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Wi(i)}}class $n{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===$n.S((0,Ge.ZQ)())&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return gt("SimpleDb","Removing database:",t),Xr(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Ge.zW)())return!1;if($n.v())return!0;const t=(0,Ge.ZQ)(),i=$n.S(t),s=0<i&&i<10,u=nn(t),p=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||p)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,a.A)(function*(){return i.db||(gt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=v=>{s(v.target.result)},p.onblocked=()=>{u(new oi(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const T=v.target.error;u("VersionError"===T.name?new de(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new de(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new oi(t,T))},p.onupgradeneeded=v=>{gt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',v.oldVersion),i.p.O(v.target.result,p.transaction,v.oldVersion,i.version).next(()=>{gt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var p=this;return(0,a.A)(function*(){const v="readonly"===i;let T=0;for(;;){++T;try{p.db=yield p.M(t);const S=cr.open(p.db,t,v?"readonly":"readwrite",s),B=u(S).next(te=>(S.g(),te)).catch(te=>(S.abort(te),lt.reject(te))).toPromise();return B.catch(()=>{}),yield S.m,B}catch(S){const B=S,te="FirebaseError"!==B.name&&T<3;if(gt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",te),p.close(),!te)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function nn(c){const t=c.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class kr{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Xr(this.B.delete())}}class oi extends de{constructor(t,i){super(ht.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Wr(c){return"IndexedDbTransactionError"===c.name}class Wi{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(gt("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),Xr(s)}add(t){return gt("SimpleDb","ADD",this.store.name,t,t),Xr(this.store.add(t))}get(t){return Xr(this.store.get(t)).next(i=>(void 0===i&&(i=null),gt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return gt("SimpleDb","DELETE",this.store.name,t),Xr(this.store.delete(t))}count(){return gt("SimpleDb","COUNT",this.store.name),Xr(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new lt((v,T)=>{p.onerror=S=>{T(S.target.error)},p.onsuccess=S=>{v(S.target.result)}})}{const p=this.cursor(s),v=[];return this.W(p,(T,S)=>{v.push(S)}).next(()=>v)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new lt((u,p)=>{s.onerror=v=>{p(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(t,i){gt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,v,T)=>T.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new lt((s,u)=>{i.onerror=p=>{const v=Yi(p.target.error);u(v)},i.onsuccess=p=>{const v=p.target.result;v?t(v.primaryKey,v.value).next(T=>{T?v.continue():s()}):s()}})}W(t,i){const s=[];return new lt((u,p)=>{t.onerror=v=>{p(v.target.error)},t.onsuccess=v=>{const T=v.target.result;if(!T)return void u();const S=new kr(T),B=i(T.primaryKey,T.value,S);if(B instanceof lt){const te=B.catch(Ce=>(S.done(),lt.reject(Ce)));s.push(te)}S.isDone?u():null===S.K?T.continue():T.continue(S.K)}}).next(()=>lt.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function Xr(c){return new lt((t,i)=>{c.onsuccess=s=>{t(s.target.result)},c.onerror=s=>{const u=Yi(s.target.error);i(u)}})}let dr=!1;function Yi(c){const t=$n.S((0,Ge.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const s=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dr||(dr=!0,setTimeout(()=>{throw s},0)),s}}return c}class yi{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;gt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,a.A)(function*(){i.task=null;try{gt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Wr(s)?gt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield In(s)}yield i.X(6e4)}))}}class Ne{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,a.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,p=!0;return lt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(v=>{if(null!==v&&!s.has(v))return gt("IndexBackfiller",`Processing collection: ${v}`),this.ne(t,v,u).next(T=>{u-=T,s.add(v)});p=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(p=>{const v=p.changes;return this.localStore.indexManager.updateIndexEntries(t,v).next(()=>this.re(u,p)).next(T=>(gt("IndexBackfiller",`Updating offset: ${T}`),this.localStore.indexManager.updateCollectionGroup(t,i,T))).next(()=>v.size)}))}re(t,i){let s=t;return i.changes.forEach((u,p)=>{const v=De(p);Mt(v,s)>0&&(s=v)}),new ze(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let J=(()=>{class c{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function O(c){return null==c}function q(c){return 0===c&&1/c==-1/0}function we(c){return"number"==typeof c&&Number.isInteger(c)&&!q(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function ae(c){let t="";for(let i=0;i<c.length;i++)t.length>0&&(t=bt(t)),t=Je(c.get(i),t);return bt(t)}function Je(c,t){let i=t;const s=c.length;for(let u=0;u<s;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function bt(c){return c+"\x01\x01"}function ln(c){const t=c.length;if(Ot(t>=2),2===t)return Ot("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Gn.emptyPath();const i=t-2,s=[];let u="";for(let p=0;p<t;){const v=c.indexOf("\x01",p);switch((v<0||v>i)&&Xt(),c.charAt(v+1)){case"\x01":const T=c.substring(p,v);let S;0===u.length?S=T:(u+=T,S=u,u=""),s.push(S);break;case"\x10":u+=c.substring(p,v),u+="\0";break;case"\x11":u+=c.substring(p,v+1);break;default:Xt()}p=v+2}return new Gn(s)}const Jt=["userId","batchId"];function er(c,t){return[c,ae(t)]}function zn(c,t,i){return[c,ae(t),i]}const wi={},Qr=["prefixPath","collectionGroup","readTime","documentId"],hr=["prefixPath","collectionGroup","documentId"],ti=["collectionGroup","readTime","prefixPath","documentId"],Wo=["canonicalId","targetId"],bi=["targetId","path"],li=["path","targetId"],lo=["collectionId","parent"],ui=["indexId","uid"],_i=["uid","sequenceNumber"],Ko=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lo=["indexId","uid","orderedDocumentKey"],Io=["userId","collectionPath","documentId"],Mi=["userId","collectionPath","largestBatchId"],Eo=["userId","collectionGroup","largestBatchId"],is=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qn=[...is,"documentOverlays"],tr=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gs=tr,qo=[...gs,"indexConfiguration","indexState","indexEntries"],os=qo,Ua=[...qo,"globals"];class ss extends mn{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function Yr(c,t){const i=Ft(c);return $n.F(i._e,t)}function sr(c){let t=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t++;return t}function uo(c,t){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t(i,c[i])}function Vi(c){for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}class Ur{constructor(t,i){this.comparator=t,this.root=i||di.EMPTY}insert(t,i){return new Ur(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,di.BLACK,null,null))}remove(t){return new Ur(this.comparator,this.root.remove(t,this.comparator).copy(null,null,di.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vs(this.root,t,this.comparator,!1)}getReverseIterator(){return new vs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vs(this.root,t,this.comparator,!0)}}class vs{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=i?s(t.key,i):1,i&&u&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class di{constructor(t,i,s,u,p){this.key=t,this.value=i,this.color=s??di.RED,this.left=u??di.EMPTY,this.right=p??di.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,p){return new di(t??this.key,i??this.value,s??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const p=s(t,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return di.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const t=this.left.check();if(t!==this.right.check())throw Xt();return t+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(t,i,s,u,p){return this}insert(t,i,s){return new di(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(t){this.comparator=t,this.data=new Ur(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ho(this.data.getIterator())}getIteratorFrom(t){return new ho(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof br)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new br(this.comparator);return i.data=t,i}}class ho{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Zi(c){return c.hasNext()?c.getNext():void 0}class Ei{constructor(t){this.fields=t,t.sort(ar.comparator)}static empty(){return new Ei([])}unionWith(t){let i=new br(ar.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Ei(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return or(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class U extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class G{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new U("Invalid base64 string: "+p):p}}(t);return new G(i)}static fromUint8Array(t){const i=function(u){let p="";for(let v=0;v<u.length;++v)p+=String.fromCharCode(u[v]);return p}(t);return new G(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return An(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}G.EMPTY_BYTE_STRING=new G("");const M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function se(c){if(Ot(!!c),"string"==typeof c){let t=0;const i=M.exec(c);if(Ot(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(c);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:F(c.seconds),nanos:F(c.nanos)}}function F(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Y(c){return"string"==typeof c?G.fromBase64String(c):G.fromUint8Array(c)}function ve(c){var t,i;return"server_timestamp"===(null===(i=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Oe(c){const t=c.mapValue.fields.__previous_value__;return ve(t)?Oe(t):t}function Re(c){const t=se(c.mapValue.fields.__local_write_time__.timestampValue);return new Sn(t.seconds,t.nanos)}class st{constructor(t,i,s,u,p,v,T,S,B){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=T,this.longPollingOptions=S,this.useFetchStreams=B}}class Lt{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Lt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Lt&&t.projectId===this.projectId&&t.database===this.database}}const Gt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jt={nullValue:"NULL_VALUE"};function Wt(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?ve(c)?4:ys(c)?9007199254740991:Ia(c)?10:11:Xt()}function cn(c,t){if(c===t)return!0;const i=Wt(c);if(i!==Wt(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===t.booleanValue;case 4:return Re(c).isEqual(Re(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const v=se(u.timestampValue),T=se(p.timestampValue);return v.seconds===T.seconds&&v.nanos===T.nanos}(c,t);case 5:return c.stringValue===t.stringValue;case 6:return p=t,Y(c.bytesValue).isEqual(Y(p.bytesValue));case 7:return c.referenceValue===t.referenceValue;case 8:return function(u,p){return F(u.geoPointValue.latitude)===F(p.geoPointValue.latitude)&&F(u.geoPointValue.longitude)===F(p.geoPointValue.longitude)}(c,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return F(u.integerValue)===F(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const v=F(u.doubleValue),T=F(p.doubleValue);return v===T?q(v)===q(T):isNaN(v)&&isNaN(T)}return!1}(c,t);case 9:return or(c.arrayValue.values||[],t.arrayValue.values||[],cn);case 10:case 11:return function(u,p){const v=u.mapValue.fields||{},T=p.mapValue.fields||{};if(sr(v)!==sr(T))return!1;for(const S in v)if(v.hasOwnProperty(S)&&(void 0===T[S]||!cn(v[S],T[S])))return!1;return!0}(c,t);default:return Xt()}var p}function En(c,t){return void 0!==(c.values||[]).find(i=>cn(i,t))}function Rn(c,t){if(c===t)return 0;const i=Wt(c),s=Wt(t);if(i!==s)return An(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return An(c.booleanValue,t.booleanValue);case 2:return function(p,v){const T=F(p.integerValue||p.doubleValue),S=F(v.integerValue||v.doubleValue);return T<S?-1:T>S?1:T===S?0:isNaN(T)?isNaN(S)?0:-1:1}(c,t);case 3:return Nn(c.timestampValue,t.timestampValue);case 4:return Nn(Re(c),Re(t));case 5:return An(c.stringValue,t.stringValue);case 6:return function(p,v){const T=Y(p),S=Y(v);return T.compareTo(S)}(c.bytesValue,t.bytesValue);case 7:return function(p,v){const T=p.split("/"),S=v.split("/");for(let B=0;B<T.length&&B<S.length;B++){const te=An(T[B],S[B]);if(0!==te)return te}return An(T.length,S.length)}(c.referenceValue,t.referenceValue);case 8:return function(p,v){const T=An(F(p.latitude),F(v.latitude));return 0!==T?T:An(F(p.longitude),F(v.longitude))}(c.geoPointValue,t.geoPointValue);case 9:return Cr(c.arrayValue,t.arrayValue);case 10:return function(p,v){var T,S,B,te;const At=null===(T=(p.fields||{}).value)||void 0===T?void 0:T.arrayValue,Qt=null===(S=(v.fields||{}).value)||void 0===S?void 0:S.arrayValue,hn=An((null===(B=At?.values)||void 0===B?void 0:B.length)||0,(null===(te=Qt?.values)||void 0===te?void 0:te.length)||0);return 0!==hn?hn:Cr(At,Qt)}(c.mapValue,t.mapValue);case 11:return function(p,v){if(p===Gt.mapValue&&v===Gt.mapValue)return 0;if(p===Gt.mapValue)return 1;if(v===Gt.mapValue)return-1;const T=p.fields||{},S=Object.keys(T),B=v.fields||{},te=Object.keys(B);S.sort(),te.sort();for(let Ce=0;Ce<S.length&&Ce<te.length;++Ce){const Ze=An(S[Ce],te[Ce]);if(0!==Ze)return Ze;const At=Rn(T[S[Ce]],B[te[Ce]]);if(0!==At)return At}return An(S.length,te.length)}(c.mapValue,t.mapValue);default:throw Xt()}}function Nn(c,t){if("string"==typeof c&&"string"==typeof t&&c.length===t.length)return An(c,t);const i=se(c),s=se(t),u=An(i.seconds,s.seconds);return 0!==u?u:An(i.nanos,s.nanos)}function Cr(c,t){const i=c.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=Rn(i[u],s[u]);if(p)return p}return An(i.length,s.length)}function Fr(c){return Vr(c)}function Vr(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const s=se(i);return`time(${s.seconds},${s.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?Y(c.bytesValue).toBase64():"referenceValue"in c?an.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=Vr(p);return s+"]"}(c.arrayValue):"mapValue"in c?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const v of s)p?p=!1:u+=",",u+=`${v}:${Vr(i.fields[v])}`;return u+"}"}(c.mapValue):Xt()}function fr(c,t){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${t.path.canonicalString()}`}}function Ji(c){return!!c&&"integerValue"in c}function Ai(c){return!!c&&"arrayValue"in c}function Xs(c){return!!c&&"nullValue"in c}function Uo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Pi(c){return!!c&&"mapValue"in c}function Ia(c){var t,i;return"__vector__"===(null===(i=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function as(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const t={mapValue:{fields:{}}};return uo(c.mapValue.fields,(i,s)=>t.mapValue.fields[i]=as(s)),t}if(c.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=as(c.arrayValue.values[i]);return t}return Object.assign({},c)}function ys(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}const fi={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Qs(c){return"nullValue"in c?jt:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?fr(Lt.empty(),an.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?Ia(c)?fi:{mapValue:{}}:Xt()}function eo(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?fr(Lt.empty(),an.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?fi:"mapValue"in c?Ia(c)?{mapValue:{}}:Gt:Xt()}function _s(c,t){const i=Rn(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?-1:!c.inclusive&&t.inclusive?1:0}function Xo(c,t){const i=Rn(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?1:!c.inclusive&&t.inclusive?-1:0}class Zr{constructor(t){this.value=t}static empty(){return new Zr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Pi(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=as(i)}setAll(t){let i=ar.emptyPath(),s={},u=[];t.forEach((v,T)=>{if(!i.isImmediateParentOf(T)){const S=this.getFieldsMap(i);this.applyChanges(S,s,u),s={},u=[],i=T.popLast()}v?s[T.lastSegment()]=as(v):u.push(T.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(t){const i=this.field(t.popLast());Pi(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return cn(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];Pi(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){uo(i,(u,p)=>t[u]=p);for(const u of s)delete t[u]}clone(){return new Zr(as(this.value))}}function xr(c){const t=[];return uo(c.fields,(i,s)=>{const u=new ar([i]);if(Pi(s)){const p=xr(s.mapValue).fields;if(0===p.length)t.push(u);else for(const v of p)t.push(u.child(v))}else t.push(u)}),new Ei(t)}class Ar{constructor(t,i,s,u,p,v,T){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=v,this.documentState=T}static newInvalidDocument(t){return new Ar(t,0,yn.min(),yn.min(),yn.min(),Zr.empty(),0)}static newFoundDocument(t,i,s,u){return new Ar(t,1,i,yn.min(),s,u,0)}static newNoDocument(t,i){return new Ar(t,2,i,yn.min(),yn.min(),Zr.empty(),0)}static newUnknownDocument(t,i){return new Ar(t,3,i,yn.min(),yn.min(),Zr.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fo{constructor(t,i){this.position=t,this.inclusive=i}}function Qo(c,t,i){let s=0;for(let u=0;u<c.position.length;u++){const p=t[u],v=c.position[u];if(s=p.field.isKeyField()?an.comparator(an.fromName(v.referenceValue),i.key):Rn(v,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function xs(c,t){if(null===c)return null===t;if(null===t||c.inclusive!==t.inclusive||c.position.length!==t.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!cn(c.position[i],t.position[i]))return!1;return!0}class to{constructor(t,i="asc"){this.field=t,this.dir=i}}function po(c,t){return c.dir===t.dir&&c.field.isEqual(t.field)}class Bo{}class Tr extends Bo{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new Br(t,i,s):"array-contains"===i?new cl(t,s):"in"===i?new $a(t,s):"not-in"===i?new ll(t,s):"array-contains-any"===i?new z(t,s):new Tr(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new Ki(t,s):new ac(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Rn(i,this.value)):null!==i&&Wt(this.value)===Wt(i)&&this.matchesComparison(Rn(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends Bo{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new ur(t,i)}matches(t){return Co(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Co(c){return"and"===c.op}function oc(c){return"or"===c.op}function cs(c){return Ys(c)&&Co(c)}function Ys(c){for(const t of c.filters)if(t instanceof ur)return!1;return!0}function Zs(c){if(c instanceof Tr)return c.field.canonicalString()+c.op.toString()+Fr(c.value);if(cs(c))return c.filters.map(t=>Zs(t)).join(",");{const t=c.filters.map(i=>Zs(i)).join(",");return`${c.op}(${t})`}}function sc(c,t){return c instanceof Tr?(s=c,(u=t)instanceof Tr&&s.op===u.op&&s.field.isEqual(u.field)&&cn(s.value,u.value)):c instanceof ur?function(s,u){return u instanceof ur&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,v,T)=>p&&sc(v,u.filters[T]),!0)}(c,t):void Xt();var s,u}function Ea(c,t){const i=c.filters.concat(t);return ur.create(i,c.op)}function Ca(c){return c instanceof Tr?`${(i=c).field.canonicalString()} ${i.op} ${Fr(i.value)}`:c instanceof ur?function(i){return i.op.toString()+" {"+i.getFilters().map(Ca).join(" ,")+"}"}(c):"Filter";var i}class Br extends Tr{constructor(t,i,s){super(t,i,s),this.key=an.fromName(s.referenceValue)}matches(t){const i=an.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ki extends Tr{constructor(t,i){super(t,"in",i),this.keys=Ba(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class ac extends Tr{constructor(t,i){super(t,"not-in",i),this.keys=Ba(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Ba(c,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>an.fromName(s.referenceValue))}class cl extends Tr{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Ai(i)&&En(i.arrayValue,this.value)}}class $a extends Tr{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&En(this.value.arrayValue,i)}}class ll extends Tr{constructor(t,i){super(t,"not-in",i)}matches(t){if(En(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!En(this.value.arrayValue,i)}}class z extends Tr{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Ai(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>En(this.value.arrayValue,s))}}class j{constructor(t,i=null,s=[],u=[],p=null,v=null,T=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=v,this.endAt=T,this.ue=null}}function R(c,t=null,i=[],s=[],u=null,p=null,v=null){return new j(c,t,i,s,u,p,v)}function ne(c){const t=Ft(c);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Zs(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),O(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Fr(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Fr(s)).join(",")),t.ue=i}return t.ue}function Xe(c,t){if(c.limit!==t.limit||c.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!po(c.orderBy[i],t.orderBy[i]))return!1;if(c.filters.length!==t.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!sc(c.filters[i],t.filters[i]))return!1;return c.collectionGroup===t.collectionGroup&&!!c.path.isEqual(t.path)&&!!xs(c.startAt,t.startAt)&&xs(c.endAt,t.endAt)}function Fn(c){return an.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function ir(c,t){return c.filters.filter(i=>i instanceof Tr&&i.field.isEqual(t))}function qi(c,t,i){let s=jt,u=!0;for(const p of ir(c,t)){let v=jt,T=!0;switch(p.op){case"<":case"<=":v=Qs(p.value);break;case"==":case"in":case">=":v=p.value;break;case">":v=p.value,T=!1;break;case"!=":case"not-in":v=jt}_s({value:s,inclusive:u},{value:v,inclusive:T})<0&&(s=v,u=T)}if(null!==i)for(let p=0;p<c.orderBy.length;++p)if(c.orderBy[p].field.isEqual(t)){const v=i.position[p];_s({value:s,inclusive:u},{value:v,inclusive:i.inclusive})<0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}function Li(c,t,i){let s=Gt,u=!0;for(const p of ir(c,t)){let v=Gt,T=!0;switch(p.op){case">=":case">":v=eo(p.value),T=!1;break;case"==":case"in":case"<=":v=p.value;break;case"<":v=p.value,T=!1;break;case"!=":case"not-in":v=Gt}Xo({value:s,inclusive:u},{value:v,inclusive:T})>0&&(s=v,u=T)}if(null!==i)for(let p=0;p<c.orderBy.length;++p)if(c.orderBy[p].field.isEqual(t)){const v=i.position[p];Xo({value:s,inclusive:u},{value:v,inclusive:i.inclusive})>0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}class si{constructor(t,i=null,s=[],u=[],p=null,v="F",T=null,S=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=v,this.startAt=T,this.endAt=S,this.ce=null,this.le=null,this.he=null}}function Ns(c,t,i,s,u,p,v,T){return new si(c,t,i,s,u,p,v,T)}function To(c){return new si(c)}function vr(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function pi(c){return null!==c.collectionGroup}function ai(c){const t=Ft(c);if(null===t.ce){t.ce=[];const i=new Set;for(const p of t.explicitOrderBy)t.ce.push(p),i.add(p.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(v){let T=new br(ar.comparator);return v.filters.forEach(S=>{S.getFlattenedFilters().forEach(B=>{B.isInequality()&&(T=T.add(B.field))})}),T})(t).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||t.ce.push(new to(p,s))}),i.has(ar.keyField().canonicalString())||t.ce.push(new to(ar.keyField(),s))}return t.ce}function gi(c){const t=Ft(c);return t.le||(t.le=function ja(c,t){if("F"===c.limitType)return R(c.path,c.collectionGroup,t,c.filters,c.limit,c.startAt,c.endAt);{t=t.map(u=>new to(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new fo(c.endAt.position,c.endAt.inclusive):null,s=c.startAt?new fo(c.startAt.position,c.startAt.inclusive):null;return R(c.path,c.collectionGroup,t,c.filters,c.limit,i,s)}}(t,ai(c))),t.le}function Os(c,t){const i=c.filters.concat([t]);return new si(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function ks(c,t,i){return new si(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),t,i,c.startAt,c.endAt)}function Js(c,t){return Xe(gi(c),gi(t))&&c.limitType===t.limitType}function Pc(c){return`${ne(gi(c))}|lt:${c.limitType}`}function so(c){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Ca(u)).join(", ")}]`),O(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Fr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Fr(u)).join(",")),`Target(${s})`}(gi(c))}; limitType=${c.limitType})`}function Fs(c,t){return t.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):an.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(c,t)&&function(s,u){for(const p of ai(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,t)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(c,t)&&(u=t,!((s=c).startAt&&!function(v,T,S){const B=Qo(v,T,S);return v.inclusive?B<=0:B<0}(s.startAt,ai(s),u)||s.endAt&&!function(v,T,S){const B=Qo(v,T,S);return v.inclusive?B>=0:B>0}(s.endAt,ai(s),u)));var s,u}function Ha(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function ul(c){return(t,i)=>{let s=!1;for(const u of ai(c)){const p=za(u,t,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function za(c,t,i){const s=c.field.isKeyField()?an.comparator(t.key,i.key):function(p,v,T){const S=v.data.field(p),B=T.data.field(p);return null!==S&&null!==B?Rn(S,B):Xt()}(c.field,t,i);switch(c.dir){case"asc":return s;case"desc":return-1*s;default:return Xt()}}class ea{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,t))return p}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return void(u[p]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){uo(this.inner,(i,s)=>{for(const[u,p]of s)t(u,p)})}isEmpty(){return Vi(this.inner)}size(){return this.innerSize}}const cc=new Ur(an.comparator);function Ro(){return cc}const xc=new Ur(an.comparator);function Is(...c){let t=xc;for(const i of c)t=t.insert(i.key,i);return t}function dl(c){let t=xc;return c.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function no(){return ta()}function lc(){return ta()}function ta(){return new ea(c=>c.toString(),(c,t)=>c.isEqual(t))}const Ga=new Ur(an.comparator),hl=new br(an.comparator);function gr(...c){let t=hl;for(const i of c)t=t.add(i);return t}const Nc=new br(An);function go(){return Nc}function Es(c,t){if(c.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q(t)?"-0":t}}function Ta(c){return{integerValue:""+c}}function hu(c,t){return we(t)?Ta(t):Es(c,t)}class ls{constructor(){this._=void 0}}function fl(c,t,i){return c instanceof na?function(u,p){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&ve(p)&&(p=Oe(p)),p&&(v.fields.__previous_value__=p),{mapValue:v}}(i,t):c instanceof ra?Vs(c,t):c instanceof ia?Yo(c,t):function(u,p){const v=Da(u,p),T=oa(v)+oa(u.Pe);return Ji(v)&&Ji(u.Pe)?Ta(T):Es(u.serializer,T)}(c,t)}function Cs(c,t,i){return c instanceof ra?Vs(c,t):c instanceof ia?Yo(c,t):i}function Da(c,t){return c instanceof $o?Ji(s=t)||(p=s)&&"doubleValue"in p?t:{integerValue:0}:null;var s,p}class na extends ls{}class ra extends ls{constructor(t){super(),this.elements=t}}function Vs(c,t){const i=pl(t);for(const s of c.elements)i.some(u=>cn(u,s))||i.push(s);return{arrayValue:{values:i}}}class ia extends ls{constructor(t){super(),this.elements=t}}function Yo(c,t){let i=pl(t);for(const s of c.elements)i=i.filter(u=>!cn(u,s));return{arrayValue:{values:i}}}class $o extends ls{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function oa(c){return F(c.integerValue||c.doubleValue)}function pl(c){return Ai(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class D{constructor(t,i){this.field=t,this.transform=i}}class x{constructor(t,i){this.version=t,this.transformResults=i}}class H{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new H}static exists(t){return new H(void 0,t)}static updateTime(t){return new H(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pe(c,t){return void 0!==c.updateTime?t.isFoundDocument()&&t.version.isEqual(c.updateTime):void 0===c.exists||c.exists===t.isFoundDocument()}class kt{}function Zt(c,t){if(!c.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return c.isNoDocument()?new Sr(c.key,H.none()):new Er(c.key,c.data,H.none());{const i=c.data,s=Zr.empty();let u=new br(ar.comparator);for(let p of t.fields)if(!u.has(p)){let v=i.field(p);null===v&&p.length>1&&(p=p.popLast(),v=i.field(p)),null===v?s.delete(p):s.set(p,v),u=u.add(p)}return new Gr(c.key,s,new Ei(u.toArray()),H.none())}}function Vn(c,t,i){c instanceof Er?function(u,p,v){const T=u.value.clone(),S=rn(u.fieldTransforms,p,v.transformResults);T.setAll(S),p.convertToFoundDocument(v.version,T).setHasCommittedMutations()}(c,t,i):c instanceof Gr?function(u,p,v){if(!Pe(u.precondition,p))return void p.convertToUnknownDocument(v.version);const T=rn(u.fieldTransforms,p,v.transformResults),S=p.data;S.setAll(nr(u)),S.setAll(T),p.convertToFoundDocument(v.version,S).setHasCommittedMutations()}(c,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function Nr(c,t,i,s){return c instanceof Er?function(p,v,T,S){if(!Pe(p.precondition,v))return T;const B=p.value.clone(),te=Mn(p.fieldTransforms,S,v);return B.setAll(te),v.convertToFoundDocument(v.version,B).setHasLocalMutations(),null}(c,t,i,s):c instanceof Gr?function(p,v,T,S){if(!Pe(p.precondition,v))return T;const B=Mn(p.fieldTransforms,S,v),te=v.data;return te.setAll(nr(p)),te.setAll(B),v.convertToFoundDocument(v.version,te).setHasLocalMutations(),null===T?null:T.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Ce=>Ce.field))}(c,t,i,s):(T=i,Pe(c.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):T);var v,T}function mi(c,t){let i=null;for(const s of c.fieldTransforms){const u=t.data.field(s.field),p=Da(s.transform,u||null);null!=p&&(null===i&&(i=Zr.empty()),i.set(s.field,p))}return i||null}function Kr(c,t){return c.type===t.type&&!!c.key.isEqual(t.key)&&!!c.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=c.fieldTransforms)&&void 0===u||s&&u&&or(s,u,(p,v)=>function X(c,t){return c.field.isEqual(t.field)&&(u=t.transform,(s=c.transform)instanceof ra&&u instanceof ra||s instanceof ia&&u instanceof ia?or(s.elements,u.elements,cn):s instanceof $o&&u instanceof $o?cn(s.Pe,u.Pe):s instanceof na&&u instanceof na);var s,u}(p,v))))&&(0===c.type?c.value.isEqual(t.value):1!==c.type||c.data.isEqual(t.data)&&c.fieldMask.isEqual(t.fieldMask));var s,u}class Er extends kt{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Gr extends kt{constructor(t,i,s,u,p=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function nr(c){const t=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=c.data.field(i);t.set(i,s)}}),t}function rn(c,t,i){const s=new Map;Ot(c.length===i.length);for(let u=0;u<i.length;u++){const p=c[u],v=p.transform,T=t.data.field(p.field);s.set(p.field,Cs(v,T,i[u]))}return s}function Mn(c,t,i){const s=new Map;for(const u of c){const p=u.transform,v=i.data.field(u.field);s.set(u.field,fl(p,v,t))}return s}class Sr extends kt{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Si extends kt{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jr{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(t.key)&&Vn(p,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=Nr(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=Nr(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=lc();return this.mutations.forEach(u=>{const p=t.get(u.key),v=p.overlayedDocument;let T=this.applyToLocalView(v,p.mutatedFields);T=i.has(u.key)?null:T;const S=Zt(v,T);null!==S&&s.set(u.key,S),v.isValidDocument()||v.convertToNoDocument(yn.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),gr())}isEqual(t){return this.batchId===t.batchId&&or(this.mutations,t.mutations,(i,s)=>Kr(i,s))&&or(this.baseMutations,t.baseMutations,(i,s)=>Kr(i,s))}}class xi{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Ot(t.mutations.length===s.length);let u=function(){return Ga}();const p=t.mutations;for(let v=0;v<p.length;v++)u=u.insert(p[v].key,s[v].version);return new xi(t,i,s,u)}}class mo{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ci{constructor(t,i){this.count=t,this.unchangedNames=i}}var qr,Tn;function Ls(c){switch(c){default:return Xt();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function gl(c){if(void 0===c)return Ut("GRPC error has no .code"),ht.UNKNOWN;switch(c){case qr.OK:return ht.OK;case qr.CANCELLED:return ht.CANCELLED;case qr.UNKNOWN:return ht.UNKNOWN;case qr.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case qr.INTERNAL:return ht.INTERNAL;case qr.UNAVAILABLE:return ht.UNAVAILABLE;case qr.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case qr.NOT_FOUND:return ht.NOT_FOUND;case qr.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case qr.ABORTED:return ht.ABORTED;case qr.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case qr.DATA_LOSS:return ht.DATA_LOSS;default:return Xt()}}(Tn=qr||(qr={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";function hi(){return new TextEncoder}const Do=new Tt([4294967295,4294967295],0);function Wa(c){const t=hi().encode(c),i=new Se;return i.update(t),new Uint8Array(i.digest())}function wa(c){const t=new DataView(c.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),p=t.getUint32(12,!0);return[new Tt([i,s],0),new Tt([u,p],0)]}class Us{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ml(`Invalid padding: ${i}`);if(s<0)throw new ml(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new ml(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new ml(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Tt.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Tt.fromNumber(s)));return 1===u.compare(Do)&&(u=new Tt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=Wa(t),[s,u]=wa(i);for(let p=0;p<this.hashCount;p++){const v=this.Ee(s,u,p);if(!this.de(v))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,p=new Uint8Array(Math.ceil(t/8)),v=new Us(p,u,i);return s.forEach(T=>v.insert(T)),v}insert(t){if(0===this.Ie)return;const i=Wa(t),[s,u]=wa(i);for(let p=0;p<this.hashCount;p++){const v=this.Ee(s,u,p);this.Ae(v)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xi{constructor(t,i,s,u,p){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,sa.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Xi(yn.min(),u,new Ur(An),Ro(),gr())}}class sa{constructor(t,i,s,u,p){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new sa(s,i,gr(),gr(),gr())}}class vo{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class jn{constructor(t,i){this.targetId=t,this.me=i}}class vl{constructor(t,i,s=G.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Ti{constructor(){this.fe=0,this.ge=uc(),this.pe=G.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=gr(),i=gr(),s=gr();return this.ge.forEach((u,p)=>{switch(p){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Xt()}}),new sa(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=uc()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ds{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ro(),this.qe=Ka(),this.Qe=new Ur(An)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Xt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const p=u.target;if(Fn(p))if(0===s){const v=new an(p.path);this.Ue(i,v,Ar.newNoDocument(v,yn.min()))}else Ot(1===s);else{const v=this.Ye(i);if(v!==s){const T=this.Ze(t),S=T?this.Xe(T,t,v):1;0!==S&&(this.je(i),this.Qe=this.Qe.insert(i,2===S?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let v,T;try{v=Y(s).toUint8Array()}catch(S){if(S instanceof U)return un("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw S}try{T=new Us(v,u,p)}catch(S){return un(S instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",S),null}return 0===T.Ie?null:T}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const v=this.Le.tt(),T=`projects/${v.projectId}/databases/${v.database}/documents/${p.path.canonicalString()}`;t.mightContain(T)||(this.Ue(i,p,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((p,v)=>{const T=this.Je(v);if(T){if(p.current&&Fn(T.target)){const S=new an(T.target.path);null!==this.ke.get(S)||this.it(v,S)||this.Ue(v,S,Ar.newNoDocument(S,t))}p.be&&(i.set(v,p.ve()),p.Ce())}});let s=gr();this.qe.forEach((p,v)=>{let T=!0;v.forEachWhile(S=>{const B=this.Je(S);return!B||"TargetPurposeLimboResolution"===B.purpose||(T=!1,!1)}),T&&(s=s.add(p))}),this.ke.forEach((p,v)=>v.setReadTime(t));const u=new Xi(t,i,this.Qe,this.ke,s);return this.ke=Ro(),this.qe=Ka(),this.Qe=new Ur(An),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Ti,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new br(An),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||gt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Ti),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function Ka(){return new Ur(an.comparator)}function uc(){return new Ur(an.comparator)}const Ni={asc:"ASCENDING",desc:"DESCENDING"},fu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ro={and:"AND",or:"OR"};class yo{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function yl(c,t){return c.useProto3Json||O(t)?t:{value:t}}function wo(c,t){return c.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dc(c,t){return c.useProto3Json?t.toBase64():t.toUint8Array()}function Mo(c,t){return wo(c,t.toTimestamp())}function ci(c){return Ot(!!c),yn.fromTimestamp(function(i){const s=se(i);return new Sn(s.seconds,s.nanos)}(c))}function _l(c,t){return Oc(c,t).canonicalString()}function Oc(c,t){const i=(u=c,new Gn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function kc(c){const t=Gn.fromString(c);return Ot(Aa(t)),t}function ba(c,t){return _l(c.databaseId,t.path)}function ws(c,t){const i=kc(t);if(i.get(1)!==c.databaseId.projectId)throw new de(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new de(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new an(Uf(i))}function hc(c,t){return _l(c.databaseId,t)}function oh(c){const t=kc(c);return 4===t.length?Gn.emptyPath():Uf(t)}function sh(c){return new Gn(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Uf(c){return Ot(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Pg(c,t,i){return{name:ba(c,t),fields:i.value.mapValue.fields}}function Fc(c,t,i){const s=ws(c,t.name),u=ci(t.updateTime),p=t.createTime?ci(t.createTime):yn.min(),v=new Zr({mapValue:{fields:t.fields}}),T=Ar.newFoundDocument(s,u,p,v);return i&&T.setHasCommittedMutations(),i?T.setHasCommittedMutations():T}function b(c,t){let i;if(t instanceof Er)i={update:Pg(c,t.key,t.value)};else if(t instanceof Sr)i={delete:ba(c,t.key)};else if(t instanceof Gr)i={update:Pg(c,t.key,t.data),updateMask:bs(t.fieldMask)};else{if(!(t instanceof Si))return Xt();i={verify:ba(c,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(p,v){const T=v.transform;if(T instanceof na)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(T instanceof ra)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:T.elements}};if(T instanceof ia)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:T.elements}};if(T instanceof $o)return{fieldPath:v.field.canonicalString(),increment:T.Pe};throw Xt()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:Mo(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:Xt()),i;var p}function C(c,t){const i=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?H.updateTime(ci(p.updateTime)):void 0!==p.exists?H.exists(p.exists):H.none():H.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(v,T){let S=null;"setToServerValue"in T?(Ot("REQUEST_TIME"===T.setToServerValue),S=new na):"appendMissingElements"in T?S=new ra(T.appendMissingElements.values||[]):"removeAllFromArray"in T?S=new ia(T.removeAllFromArray.values||[]):"increment"in T?S=new $o(v,T.increment):Xt();const B=ar.fromServerFormat(T.fieldPath);return new D(B,S)}(c,u)):[];var p;if(t.update){const u=ws(c,t.update.name),p=new Zr({mapValue:{fields:t.update.fields}});if(t.updateMask){const v=new Ei((t.updateMask.fieldPaths||[]).map(te=>ar.fromServerFormat(te)));return new Gr(u,p,v,i,s)}return new Er(u,p,i,s)}if(t.delete){const u=ws(c,t.delete);return new Sr(u,i)}if(t.verify){const u=ws(c,t.verify);return new Si(u,i)}return Xt()}function $(c,t){return{documents:[hc(c,t.path)]}}function ie(c,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=hc(c,u);const p=function(B){if(0!==B.length)return Bs(ur.create(B,"and"))}(t.filters);p&&(i.structuredQuery.where=p);const v=function(B){if(0!==B.length)return B.map(te=>{return{field:io((Ze=te).field),direction:mr(Ze.dir)};var Ze})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const T=yl(c,t.limit);return null!==T&&(i.structuredQuery.limit=T),t.startAt&&(i.structuredQuery.startAt={before:(B=t.startAt).inclusive,values:B.position}),t.endAt&&(i.structuredQuery.endAt=function(B){return{before:!B.inclusive,values:B.position}}(t.endAt)),{_t:i,parent:u};var B}function Pt(c){let t=oh(c.parent);const i=c.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ot(1===s);const te=i.from[0];te.allDescendants?u=te.collectionId:t=t.child(te.collectionId)}let p=[];i.where&&(p=function(Ce){const Ze=Dn(Ce);return Ze instanceof ur&&cs(Ze)?Ze.getFilters():[Ze]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(Ze=>{return new to(Oi((Qt=Ze).field),function(on){switch(on){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let T=null;i.limit&&(T=function(Ce){let Ze;return Ze="object"==typeof Ce?Ce.value:Ce,O(Ze)?null:Ze}(i.limit));let S=null;var Ce;i.startAt&&(S=new fo((Ce=i.startAt).values||[],!!Ce.before));let B=null;return i.endAt&&(B=function(Ce){return new fo(Ce.values||[],!Ce.before)}(i.endAt)),Ns(t,u,v,p,T,"F",S,B)}function Dn(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Oi(i.unaryFilter.field);return Tr.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Oi(i.unaryFilter.field);return Tr.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Oi(i.unaryFilter.field);return Tr.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Oi(i.unaryFilter.field);return Tr.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}(c):void 0!==c.fieldFilter?Tr.create(Oi((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return ur.create(i.compositeFilter.filters.map(s=>Dn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Xt()}}(i.compositeFilter.op))}(c):Xt();var i}function mr(c){return Ni[c]}function Dr(c){return fu[c]}function Ii(c){return ro[c]}function io(c){return{fieldPath:c.canonicalString()}}function Oi(c){return ar.fromServerFormat(c.fieldPath)}function Bs(c){return c instanceof Tr?function(i){if("=="===i.op){if(Uo(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NAN"}};if(Xs(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Uo(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NAN"}};if(Xs(i.value))return{unaryFilter:{field:io(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(i.field),op:Dr(i.op),value:i.value}}}(c):c instanceof ur?function(i){const s=i.getFilters().map(u=>Bs(u));return 1===s.length?s[0]:{compositeFilter:{op:Ii(i.op),filters:s}}}(c):Xt()}function bs(c){const t=[];return c.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Aa(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class $s{constructor(t,i,s,u,p=yn.min(),v=yn.min(),T=G.EMPTY_BYTE_STRING,S=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=T,this.expectedCount=S}withSequenceNumber(t){return new $s(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Sa{constructor(t){this.ct=t}}function Il(c,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Zu(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:ba(p=c.ct,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:wo(p,v.version.toTimestamp()),createTime:wo(p,v.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:bo(t.version)};else{if(!t.isUnknownDocument())return Xt();s.unknownDocument={path:i.path.toArray(),version:bo(t.version)}}var p,v;return s}function Zu(c){const t=c.toTimestamp();return[t.seconds,t.nanoseconds]}function bo(c){const t=c.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function aa(c){const t=new Sn(c.seconds,c.nanoseconds);return yn.fromTimestamp(t)}function Ra(c,t){const i=(t.baseMutations||[]).map(p=>C(c.ct,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const s=t.mutations.map(p=>C(c.ct,p)),u=Sn.fromMillis(t.localWriteTimeMs);return new Jr(t.batchId,u,i,s)}function jr(c){const t=aa(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?aa(c.lastLimboFreeSnapshotVersion):yn.min();let s;return s=void 0!==c.query.documents?(Ot(1===(p=c.query).documents.length),gi(To(oh(p.documents[0])))):function(p){return gi(Pt(p))}(c.query),new $s(s,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,t,i,G.fromBase64String(c.resumeToken));var p}function El(c,t){const i=bo(t.snapshotVersion),s=bo(t.lastLimboFreeSnapshotVersion);let u;u=Fn(t.target)?$(c.ct,t.target):ie(c.ct,t.target)._t;const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ne(t.target),readTime:i,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function ca(c){const t=Pt({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?ks(t,t.limit,"L"):t}function Bi(c,t){return new mo(t.largestBatchId,C(c.ct,t.overlayMutation))}function Ju(c,t){const i=t.path.lastSegment();return[c,ae(t.path.popLast()),i]}function Cl(c,t,i,s){return{indexId:c,uid:t,sequenceNumber:i,readTime:bo(s.readTime),documentKey:ae(s.documentKey.path),largestBatchId:s.largestBatchId}}class Vc{getBundleMetadata(t,i){return us(t).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:aa(p.createTime),version:p.version};var p})}saveBundleMetadata(t,i){return us(t).put({bundleId:(u=i).id,createTime:bo(ci(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return ed(t).get(i).next(s=>{if(s)return{name:(p=s).name,query:ca(p.bundledQuery),readTime:aa(p.readTime)};var p})}saveNamedQuery(t,i){return ed(t).put({name:(u=i).name,readTime:bo(ci(u.readTime)),bundledQuery:u.bundledQuery});var u}}function us(c){return Yr(c,"bundles")}function ed(c){return Yr(c,"namedQueries")}class Lc{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new Lc(t,i.uid||"")}getOverlay(t,i){return pu(t).get(Ju(this.userId,i)).next(s=>s?Bi(this.serializer,s):null)}getOverlays(t,i){const s=no();return lt.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((p,v)=>{const T=new mo(i,v);u.push(this.ht(t,T))}),lt.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(v=>u.add(ae(v.getCollectionPath())));const p=[];return u.forEach(v=>{const T=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);p.push(pu(t).j("collectionPathOverlayIndex",T))}),lt.waitFor(p)}getOverlaysForCollection(t,i,s){const u=no(),p=ae(i),v=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return pu(t).U("collectionPathOverlayIndex",v).next(T=>{for(const S of T){const B=Bi(this.serializer,S);u.set(B.getKey(),B)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const p=no();let v;const T=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return pu(t).J({index:"collectionGroupOverlayIndex",range:T},(S,B,te)=>{const Ce=Bi(this.serializer,B);p.size()<u||Ce.largestBatchId===v?(p.set(Ce.getKey(),Ce),v=Ce.largestBatchId):te.done()}).next(()=>p)}ht(t,i){return pu(t).put(function(u,p,v){const[T,S,B]=Ju(p,v.mutation.key);return{userId:p,collectionPath:S,documentId:B,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:b(u.ct,v.mutation)}}(this.serializer,this.userId,i))}}function pu(c){return Yr(c,"documentOverlays")}class js{Pt(t){return Yr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=i?.value;return s?G.fromUint8Array(s):G.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class Ma{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(F(t.integerValue));else if("doubleValue"in t){const s=F(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),q(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=se(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(Y(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?ys(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Ia(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Xt()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const p=t.fields||{};this.dt(i,53);const v="value",T=(null===(u=null===(s=p[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(F(T)),this.Vt(v,i),this.Tt(p[v],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),an.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function Bf(c){if(0===c)return 8;let t=0;return!(c>>4)&&(t+=4,c<<=4),!(c>>6)&&(t+=2,c<<=2),!(c>>7)&&(t+=1),t}function gu(c){const t=64-function(s){let u=0;for(let p=0;p<8;++p){const v=Bf(255&s[p]);if(u+=v,8!==v)break}return u}(c);return Math.ceil(t/8)}Ma.vt=new Ma;class td{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=gu(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=gu(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(p){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,p,!1),new Uint8Array(v.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class mu{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Tl{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class fc{constructor(){this.jt=new td,this.Ht=new mu(this.jt),this.Jt=new Tl(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class As{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new As(this.indexId,this.documentKey,this.arrayValue,s)}}function jo(c,t){let i=c.indexId-t.indexId;return 0!==i?i:(i=yr(c.arrayValue,t.arrayValue),0!==i?i:(i=yr(c.directionalValue,t.directionalValue),0!==i?i:an.comparator(c.documentKey,t.documentKey)))}function yr(c,t){for(let i=0;i<c.length&&i<t.length;++i){const s=c[i]-t[i];if(0!==s)return s}return c.length-t.length}class Uc{constructor(t){this.Xt=new br((i,s)=>ar.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Ot(t.collectionGroup===this.collectionId),this.nn)return!1;const i=St(t);if(void 0!==i&&!this.sn(i))return!1;const s=et(t);let u=new Set,p=0,v=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const T=this.Xt.getIterator().getNext();if(!u.has(T.field.canonicalString())){const S=s[p];if(!this.on(T,S)||!this._n(this.en[v++],S))return!1}++p}for(;p<s.length;++p)if(v>=this.en.length||!this._n(this.en[v++],s[p]))return!1;return!0}an(){if(this.nn)return null;let t=new br(ar.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new rt(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new rt(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new rt(s.field,"asc"===s.dir?0:1)));return new ii(ii.UNKNOWN_ID,this.collectionId,i,dn.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Dl(c){var t,i;if(Ot(c instanceof Tr||c instanceof ur),c instanceof Tr){if(c instanceof $a){const u=(null===(i=null===(t=c.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(p=>Tr.create(c.field,"==",p)))||[];return ur.create(u,"or")}return c}const s=c.filters.map(u=>Dl(u));return ur.create(s,c.op)}function nd(c){if(0===c.getFilters().length)return[];const t=rd(Dl(c));return Ot(ah(t)),$f(t)||vu(t)?[t]:t.getFilters()}function $f(c){return c instanceof Tr}function vu(c){return c instanceof ur&&cs(c)}function ah(c){return $f(c)||vu(c)||function(i){if(i instanceof ur&&oc(i)){for(const s of i.getFilters())if(!$f(s)&&!vu(s))return!1;return!0}return!1}(c)}function rd(c){if(Ot(c instanceof Tr||c instanceof ur),c instanceof Tr)return c;if(1===c.filters.length)return rd(c.filters[0]);const t=c.filters.map(s=>rd(s));let i=ur.create(t,c.op);return i=wl(i),ah(i)?i:(Ot(i instanceof ur),Ot(Co(i)),Ot(i.filters.length>1),i.filters.reduce((s,u)=>id(s,u)))}function id(c,t){let i;return Ot(c instanceof Tr||c instanceof ur),Ot(t instanceof Tr||t instanceof ur),i=c instanceof Tr?t instanceof Tr?ur.create([c,t],"and"):pc(c,t):t instanceof Tr?pc(t,c):function(u,p){if(Ot(u.filters.length>0&&p.filters.length>0),Co(u)&&Co(p))return Ea(u,p.getFilters());const v=oc(u)?u:p,T=oc(u)?p:u,S=v.filters.map(B=>id(B,T));return ur.create(S,"or")}(c,t),wl(i)}function pc(c,t){if(Co(t))return Ea(t,c.getFilters());{const i=t.filters.map(s=>id(c,s));return ur.create(i,"or")}}function wl(c){if(Ot(c instanceof Tr||c instanceof ur),c instanceof Tr)return c;const t=c.getFilters();if(1===t.length)return wl(t[0]);if(Ys(c))return c;const i=t.map(u=>wl(u)),s=[];return i.forEach(u=>{u instanceof Tr?s.push(u):u instanceof ur&&(u.op===c.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ur.create(s,c.op)}class Og{constructor(){this.un=new ch}addToCollectionParentIndex(t,i){return this.un.add(i),lt.resolve()}getCollectionParents(t,i){return lt.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return lt.resolve()}deleteFieldIndex(t,i){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,i){return lt.resolve()}getDocumentsMatchingTarget(t,i){return lt.resolve(null)}getIndexType(t,i){return lt.resolve(0)}getFieldIndexes(t,i){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,i){return lt.resolve(ze.min())}getMinOffsetFromCollectionGroup(t,i){return lt.resolve(ze.min())}updateCollectionGroup(t,i,s){return lt.resolve()}updateIndexEntries(t,i){return lt.resolve()}}class ch{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new br(Gn.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new br(Gn.comparator)).toArray()}}const bl=new Uint8Array(0);class kg{constructor(t,i){this.databaseId=i,this.cn=new ch,this.ln=new ea(s=>ne(s),(s,u)=>Xe(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:ae(u)};return Kt(t).put(p)}return lt.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[lr(i),""],!1,!0);return Kt(t).U(u).next(p=>{for(const v of p){if(v.collectionId!==i)break;s.push(ln(v.parent))}return s})}addFieldIndex(t,i){const s=Al(t),u={indexId:(T=i).indexId,collectionGroup:T.collectionGroup,fields:T.fields.map(S=>[S.fieldPath.canonicalString(),S.kind])};var T;delete u.indexId;const p=s.add(u);if(i.indexState){const v=qa(t);return p.next(T=>{v.put(Cl(T,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(t,i){const s=Al(t),u=qa(t),p=Ir(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Al(t),s=Ir(t),u=qa(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return lt.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const p=new Uc(s).an();if(null!=p)return this.addFieldIndex(t,p)}}))}getDocumentsMatchingTarget(t,i){const s=Ir(t);let u=!0;const p=new Map;return lt.forEach(this.hn(i),v=>this.Pn(t,v).next(T=>{u&&(u=!!T),p.set(v,T)})).next(()=>{if(u){let v=gr();const T=[];return lt.forEach(p,(S,B)=>{var Hn;gt("IndexedDbIndexManager",`Using index ${Hn=S,`id=${Hn.indexId}|cg=${Hn.collectionGroup}|f=${Hn.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${ne(i)}`);const te=function(Hn,_r){const zr=St(_r);if(void 0===zr)return null;for(const Or of ir(Hn,zr.fieldPath))switch(Or.op){case"array-contains-any":return Or.value.arrayValue.values||[];case"array-contains":return[Or.value]}return null}(B,S),Ce=function(Hn,_r){const zr=new Map;for(const Or of et(_r))for(const vt of ir(Hn,Or.fieldPath))switch(vt.op){case"==":case"in":zr.set(Or.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return zr.set(Or.fieldPath.canonicalString(),vt.value),Array.from(zr.values())}return null}(B,S),Ze=function(Hn,_r){const zr=[];let Or=!0;for(const vt of et(_r)){const Ke=0===vt.kind?qi(Hn,vt.fieldPath,Hn.startAt):Li(Hn,vt.fieldPath,Hn.startAt);zr.push(Ke.value),Or&&(Or=Ke.inclusive)}return new fo(zr,Or)}(B,S),At=function(Hn,_r){const zr=[];let Or=!0;for(const vt of et(_r)){const Ke=0===vt.kind?Li(Hn,vt.fieldPath,Hn.endAt):qi(Hn,vt.fieldPath,Hn.endAt);zr.push(Ke.value),Or&&(Or=Ke.inclusive)}return new fo(zr,Or)}(B,S),Qt=this.In(S,B,Ze),hn=this.In(S,B,At),on=this.Tn(S,B,Ce),Bn=this.En(S.indexId,te,Qt,Ze.inclusive,hn,At.inclusive,on);return lt.forEach(Bn,Zn=>s.G(Zn,i.limit).next(Hn=>{Hn.forEach(_r=>{const zr=an.fromSegments(_r.documentKey);v.has(zr)||(v=v.add(zr),T.push(zr))})}))}).next(()=>T)}return lt.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:nd(ur.create(t.filters,"and")).map(s=>R(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,p,v,T){const S=(null!=i?i.length:1)*Math.max(s.length,p.length),B=S/(null!=i?i.length:1),te=[];for(let Ce=0;Ce<S;++Ce){const Ze=i?this.dn(i[Ce/B]):bl,At=this.An(t,Ze,s[Ce%B],u),Qt=this.Rn(t,Ze,p[Ce%B],v),hn=T.map(on=>this.An(t,Ze,on,!0));te.push(...this.createRange(At,Qt,hn))}return te}An(t,i,s,u){const p=new As(t,an.empty(),i,s);return u?p:p.Zt()}Rn(t,i,s,u){const p=new As(t,an.empty(),i,s);return u?p.Zt():p}Pn(t,i){const s=new Uc(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(p=>{let v=null;for(const T of p)s.rn(T)&&(!v||T.fields.length>v.fields.length)&&(v=T);return v})}getIndexType(t,i){let s=2;const u=this.hn(i);return lt.forEach(u,p=>this.Pn(t,p).next(v=>{v?0!==s&&v.fields.length<function(S){let B=new br(ar.comparator),te=!1;for(const Ce of S.filters)for(const Ze of Ce.getFlattenedFilters())Ze.field.isKeyField()||("array-contains"===Ze.op||"array-contains-any"===Ze.op?te=!0:B=B.add(Ze.field));for(const Ce of S.orderBy)Ce.field.isKeyField()||(B=B.add(Ce.field));return B.size+(te?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new fc;for(const u of et(t)){const p=i.data.field(u.fieldPath);if(null==p)return null;const v=s.Yt(u.kind);Ma.vt.It(p,v)}return s.zt()}dn(t){const i=new fc;return Ma.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new fc;return Ma.vt.It(fr(this.databaseId,i),s.Yt(function(p){const v=et(p);return 0===v.length?0:v[v.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new fc);let p=0;for(const v of et(t)){const T=s[p++];for(const S of u)if(this.fn(i,v.fieldPath)&&Ai(T))u=this.gn(u,v,T);else{const B=S.Yt(v.kind);Ma.vt.It(T,B)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],p=[];for(const v of s.arrayValue.values||[])for(const T of u){const S=new fc;S.seed(T.zt()),Ma.vt.It(v,S.Yt(i.kind)),p.push(S)}return p}fn(t,i){return!!t.filters.find(s=>s instanceof Tr&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Al(t),u=qa(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const v=[];return lt.forEach(p,T=>u.get([T.indexId,this.uid]).next(S=>{v.push(function(te,Ce){const Ze=Ce?new dn(Ce.sequenceNumber,new ze(aa(Ce.readTime),new an(ln(Ce.documentKey)),Ce.largestBatchId)):dn.empty(),At=te.fields.map(([Qt,hn])=>new rt(ar.fromServerFormat(Qt),hn));return new ii(te.indexId,te.collectionGroup,At,Ze)}(T,S))})).next(()=>v)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:An(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Al(t),p=qa(t);return this.yn(t).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(T=>lt.forEach(T,S=>p.put(Cl(S.indexId,this.uid,v,s)))))}updateIndexEntries(t,i){const s=new Map;return lt.forEach(i,(u,p)=>{const v=s.get(u.collectionGroup);return(v?lt.resolve(v):this.getFieldIndexes(t,u.collectionGroup)).next(T=>(s.set(u.collectionGroup,T),lt.forEach(T,S=>this.wn(t,u,S).next(B=>{const te=this.Sn(p,S);return B.isEqual(te)?lt.resolve():this.bn(t,p,S,B,te)}))))})}Dn(t,i,s,u){return Ir(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return Ir(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=Ir(t);let p=new br(jo);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(v,T)=>{p=p.add(new As(s.indexId,i,T.arrayValue,T.directionalValue))}).next(()=>p)}Sn(t,i){let s=new br(jo);const u=this.Vn(i,t);if(null==u)return s;const p=St(i);if(null!=p){const v=t.data.field(p.fieldPath);if(Ai(v))for(const T of v.arrayValue.values||[])s=s.add(new As(i.indexId,t.key,this.dn(T),u))}else s=s.add(new As(i.indexId,t.key,bl,u));return s}bn(t,i,s,u,p){gt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const v=[];return function(S,B,te,Ce,Ze){const At=S.getIterator(),Qt=B.getIterator();let hn=Zi(At),on=Zi(Qt);for(;hn||on;){let Bn=!1,Zn=!1;if(hn&&on){const Hn=te(hn,on);Hn<0?Zn=!0:Hn>0&&(Bn=!0)}else null!=hn?Zn=!0:Bn=!0;Bn?(Ce(on),on=Zi(Qt)):Zn?(Ze(hn),hn=Zi(At)):(hn=Zi(At),on=Zi(Qt))}}(u,p,jo,T=>{v.push(this.Dn(t,i,s,T))},T=>{v.push(this.vn(t,i,s,T))}),lt.waitFor(v)}yn(t){let i=1;return qa(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((v,T)=>jo(v,T)).filter((v,T,S)=>!T||0!==jo(v,S[T-1]));const u=[];u.push(t);for(const v of s){const T=jo(v,t),S=jo(v,i);if(0===T)u[0]=t.Zt();else if(T>0&&S<0)u.push(v),u.push(v.Zt());else if(S>0)break}u.push(i);const p=[];for(let v=0;v<u.length;v+=2){if(this.Cn(u[v],u[v+1]))return[];p.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,bl,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,bl,[]]))}return p}Cn(t,i){return jo(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(ei)}getMinOffset(t,i){return lt.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||Xt())).next(ei)}}function Kt(c){return Yr(c,"collectionParents")}function Ir(c){return Yr(c,"indexEntries")}function Al(c){return Yr(c,"indexConfiguration")}function qa(c){return Yr(c,"indexState")}function ei(c){Ot(0!==c.length);let t=c[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<c.length;s++){const u=c[s].indexState.offset;Mt(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new ze(t.readTime,t.documentKey,i)}const yu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new oo(t,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ds(c,t,i){const s=c.store("mutations"),u=c.store("documentMutations"),p=[],v=IDBKeyRange.only(i.batchId);let T=0;const S=s.J({range:v},(te,Ce,Ze)=>(T++,Ze.delete()));p.push(S.next(()=>{Ot(1===T)}));const B=[];for(const te of i.mutations){const Ce=zn(t,te.key.path,i.batchId);p.push(u.delete(Ce)),B.push(te.key)}return lt.waitFor(p).next(()=>B)}function Sl(c){if(!c)return 0;let t;if(c.document)t=c.document;else if(c.unknownDocument)t=c.unknownDocument;else{if(!c.noDocument)throw Xt();t=c.noDocument}return JSON.stringify(t).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Bc{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){Ot(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new Bc(p,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gc(t).J({index:"userMutationsIndex",range:s},(u,p,v)=>{i=!1,v.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const p=_u(t),v=gc(t);return v.add({}).next(T=>{Ot("number"==typeof T);const S=new Jr(T,i,s,u),B=function(At,Qt,hn){const on=hn.baseMutations.map(Zn=>b(At.ct,Zn)),Bn=hn.mutations.map(Zn=>b(At.ct,Zn));return{userId:Qt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:on,mutations:Bn}}(this.serializer,this.userId,S),te=[];let Ce=new br((Ze,At)=>An(Ze.canonicalString(),At.canonicalString()));for(const Ze of u){const At=zn(this.userId,Ze.key.path,T);Ce=Ce.add(Ze.key.path.popLast()),te.push(v.put(B)),te.push(p.put(At,wi))}return Ce.forEach(Ze=>{te.push(this.indexManager.addToCollectionParentIndex(t,Ze))}),t.addOnCommittedListener(()=>{this.Fn[T]=S.keys()}),lt.waitFor(te).next(()=>S)})}lookupMutationBatch(t,i){return gc(t).get(i).next(s=>s?(Ot(s.userId===this.userId),Ra(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?lt.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return gc(t).J({index:"userMutationsIndex",range:u},(v,T,S)=>{T.userId===this.userId&&(Ot(T.batchId>=s),p=Ra(this.serializer,T)),S.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return gc(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,v)=>{s=p.batchId,v.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gc(t).U("userMutationsIndex",i).next(s=>s.map(u=>Ra(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=er(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return _u(t).J({range:u},(v,T,S)=>{const[B,te,Ce]=v,Ze=ln(te);if(B===this.userId&&i.path.isEqual(Ze))return gc(t).get(Ce).next(At=>{if(!At)throw Xt();Ot(At.userId===this.userId),p.push(Ra(this.serializer,At))});S.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new br(An);const u=[];return i.forEach(p=>{const v=er(this.userId,p.path),T=IDBKeyRange.lowerBound(v),S=_u(t).J({range:T},(B,te,Ce)=>{const[Ze,At,Qt]=B,hn=ln(At);Ze===this.userId&&p.path.isEqual(hn)?s=s.add(Qt):Ce.done()});u.push(S)}),lt.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,p=er(this.userId,s),v=IDBKeyRange.lowerBound(p);let T=new br(An);return _u(t).J({range:v},(S,B,te)=>{const[Ce,Ze,At]=S,Qt=ln(Ze);Ce===this.userId&&s.isPrefixOf(Qt)?Qt.length===u&&(T=T.add(At)):te.done()}).next(()=>this.xn(t,T))}xn(t,i){const s=[],u=[];return i.forEach(p=>{u.push(gc(t).get(p).next(v=>{if(null===v)throw Xt();Ot(v.userId===this.userId),s.push(Ra(this.serializer,v))}))}),lt.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return ds(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),lt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return lt.resolve();const s=IDBKeyRange.lowerBound(function(v){return[v]}(this.userId)),u=[];return _u(t).J({range:s},(p,v,T)=>{if(p[0]===this.userId){const S=ln(p[1]);u.push(S)}else T.done()}).next(()=>{Ot(0===u.length)})})}containsKey(t,i){return od(t,this.userId,i)}Nn(t){return sd(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function od(c,t,i){const s=er(t,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let v=!1;return _u(c).J({range:p,H:!0},(T,S,B)=>{const[te,Ce,Ze]=T;te===t&&Ce===u&&(v=!0),B.done()}).next(()=>v)}function gc(c){return Yr(c,"mutations")}function _u(c){return Yr(c,"documentMutations")}function sd(c){return Yr(c,"mutationQueues")}class Pa{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pa(0)}static kn(){return new Pa(-1)}}class jf{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new Pa(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>yn.fromTimestamp(new Sn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>ao(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>(Ot(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const p=[];return ao(t).J((v,T)=>{const S=jr(T);S.sequenceNumber<=i&&null===s.get(S.targetId)&&(u++,p.push(this.removeTargetData(t,S)))}).next(()=>lt.waitFor(p)).next(()=>u)}forEachTarget(t,i){return ao(t).J((s,u)=>{const p=jr(u);i(p)})}qn(t){return xa(t).get("targetGlobalKey").next(i=>(Ot(null!==i),i))}Qn(t,i){return xa(t).put("targetGlobalKey",i)}Kn(t,i){return ao(t).put(El(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=ne(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return ao(t).J({range:u,index:"queryTargetsIndex"},(v,T,S)=>{const B=jr(T);Xe(i,B.target)&&(p=B,S.done())}).next(()=>p)}addMatchingKeys(t,i,s){const u=[],p=la(t);return i.forEach(v=>{const T=ae(v.path);u.push(p.put({targetId:s,path:T})),u.push(this.referenceDelegate.addReference(t,s,v))}),lt.waitFor(u)}removeMatchingKeys(t,i,s){const u=la(t);return lt.forEach(i,p=>{const v=ae(p.path);return lt.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(t,s,p)])})}removeMatchingKeysForTargetId(t,i){const s=la(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=la(t);let p=gr();return u.J({range:s,H:!0},(v,T,S)=>{const B=ln(v[1]),te=new an(B);p=p.add(te)}).next(()=>p)}containsKey(t,i){const s=ae(i.path),u=IDBKeyRange.bound([s],[lr(s)],!1,!0);let p=0;return la(t).J({index:"documentTargetsIndex",H:!0,range:u},([v,T],S,B)=>{0!==v&&(p++,B.done())}).next(()=>p>0)}ot(t,i){return ao(t).get(i).next(s=>s?jr(s):null)}}function ao(c){return Yr(c,"targets")}function xa(c){return Yr(c,"targetGlobal")}function la(c){return Yr(c,"targetDocuments")}function Hs([c,t],[i,s]){const u=An(c,i);return 0===u?An(t,s):u}class Xa{constructor(t){this.Un=t,this.buffer=new br(Hs),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Hs(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class lh{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,a.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Wr(s)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield In(s)}yield i.Hn(3e5)}))}}class Hf{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return lt.resolve(J.oe);const s=new Xa(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(yu)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yu):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,p,v,T,S,B;const te=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ce=>(Ce>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ce}`),u=this.params.maximumSequenceNumbersToCollect):u=Ce,v=Date.now(),this.nthSequenceNumber(t,u))).next(Ce=>(s=Ce,T=Date.now(),this.removeTargets(t,s,i))).next(Ce=>(p=Ce,S=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ce=>(B=Date.now(),Nt()<=ge.$b.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-te}ms\n\tDetermined least recently used ${u} in `+(T-v)+`ms\n\tRemoved ${p} targets in `+(S-T)+`ms\n\tRemoved ${Ce} documents in `+(B-S)+`ms\nTotal Duration: ${B-te}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Ce})))}}class Fg{constructor(t,i){this.db=t,this.garbageCollector=function Iu(c,t){return new Hf(c,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return Rl(t,s)}removeReference(t,i,s){return Rl(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return Rl(t,i)}nr(t,i){return function(u,p){let v=!1;return sd(u).Y(T=>od(u,T,p).next(S=>(S&&(v=!0),lt.resolve(!S)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(t,(v,T)=>{if(T<=i){const S=this.nr(t,v).next(B=>{if(!B)return p++,s.getEntry(t,v).next(()=>(s.removeEntry(v,yn.min()),la(t).delete([0,ae(v.path)])))});u.push(S)}}).next(()=>lt.waitFor(u)).next(()=>s.apply(t)).next(()=>p)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return Rl(t,i)}tr(t,i){const s=la(t);let u,p=J.oe;return s.J({index:"documentTargetsIndex"},([v,T],{path:S,sequenceNumber:B})=>{0===v?(p!==J.oe&&i(new an(ln(u)),p),p=B,u=S):p=J.oe}).next(()=>{p!==J.oe&&i(new an(ln(u)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Rl(c,t){return la(c).put((u=c.currentSequenceNumber,{targetId:0,path:ae(t.path),sequenceNumber:u}));var u}class ad{constructor(){this.changes=new ea(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ar.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?lt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class uh{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Qa(t).put(s)}removeEntry(t,i,s){return Qa(t).delete(function(p,v){const T=p.path.toArray();return[T.slice(0,T.length-2),T[T.length-2],Zu(v),T[T.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=Ar.newInvalidDocument(i);return Qa(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(t,i){let s={size:0,document:Ar.newInvalidDocument(i)};return Qa(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(i))},(u,p)=>{s={document:this.ir(i,p),size:Sl(p)}}).next(()=>s)}getEntries(t,i){let s=Ro();return this._r(t,i,(u,p)=>{const v=this.ir(u,p);s=s.insert(u,v)}).next(()=>s)}ar(t,i){let s=Ro(),u=new Ur(an.comparator);return this._r(t,i,(p,v)=>{const T=this.ir(p,v);s=s.insert(p,T),u=u.insert(p,Sl(v))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return lt.resolve();let u=new br(fh);i.forEach(S=>u=u.add(S));const p=IDBKeyRange.bound(mc(u.first()),mc(u.last())),v=u.getIterator();let T=v.getNext();return Qa(t).J({index:"documentKeyIndex",range:p},(S,B,te)=>{const Ce=an.fromSegments([...B.prefixPath,B.collectionGroup,B.documentId]);for(;T&&fh(T,Ce)<0;)s(T,null),T=v.getNext();T&&T.isEqual(Ce)&&(s(T,B),T=v.hasNext()?v.getNext():null),T?te.$(mc(T)):te.done()}).next(()=>{for(;T;)s(T,null),T=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,p){const v=i.path,T=[v.popLast().toArray(),v.lastSegment(),Zu(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],S=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qa(t).U(IDBKeyRange.bound(T,S,!0)).next(B=>{p?.incrementDocumentReadCount(B.length);let te=Ro();for(const Ce of B){const Ze=this.ir(an.fromSegments(Ce.prefixPath.concat(Ce.collectionGroup,Ce.documentId)),Ce);Ze.isFoundDocument()&&(Fs(i,Ze)||u.has(Ze.key))&&(te=te.insert(Ze.key,Ze))}return te})}getAllFromCollectionGroup(t,i,s,u){let p=Ro();const v=hh(i,s),T=hh(i,ze.max());return Qa(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,T,!0)},(S,B,te)=>{const Ce=this.ir(an.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);p=p.insert(Ce.key,Ce),p.size===u&&te.done()}).next(()=>p)}newChangeBuffer(t){return new Vg(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return dh(t).get("remoteDocumentGlobalKey").next(i=>(Ot(!!i),i))}rr(t,i){return dh(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function Ng(c,t){let i;if(t.document)i=Fc(c.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=an.fromSegments(t.noDocument.path),u=aa(t.noDocument.readTime);i=Ar.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xt();{const s=an.fromSegments(t.unknownDocument.path),u=aa(t.unknownDocument.version);i=Ar.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const p=new Sn(u[0],u[1]);return yn.fromTimestamp(p)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(yn.min()))return s}return Ar.newInvalidDocument(t)}}function Eu(c){return new uh(c)}class Vg extends ad{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new ea(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new br((p,v)=>An(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const T=this.lr.get(p);if(i.push(this.cr.removeEntry(t,p,T.readTime)),v.isValidDocument()){const S=Il(this.cr.serializer,v);u=u.add(p.path.popLast());const B=Sl(S);s+=B-T.size,i.push(this.cr.addEntry(t,p,S))}else if(s-=T.size,this.trackRemovals){const S=Il(this.cr.serializer,v.convertToNoDocument(yn.min()));i.push(this.cr.addEntry(t,p,S))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,p))}),i.push(this.cr.updateMetadata(t,s)),lt.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((p,v)=>{this.lr.set(p,{size:v,readTime:s.get(p).readTime})}),s))}}function dh(c){return Yr(c,"remoteDocumentGlobal")}function Qa(c){return Yr(c,"remoteDocumentsV14")}function mc(c){const t=c.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function hh(c,t){const i=t.documentKey.path.toArray();return[c,Zu(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function fh(c,t){const i=c.path.toArray(),s=t.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=An(i[p],s[p]),u)return u;return u=An(i.length,s.length),u||(u=An(i[i.length-2],s[s.length-2]),u||An(i[i.length-1],s[s.length-1]))}class zf{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cd{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&Nr(s.mutation,u,Ei.empty(),Sn.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,gr()).next(()=>s))}getLocalViewOfDocuments(t,i,s=gr()){const u=no();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(p=>{let v=Is();return p.forEach((T,S)=>{v=v.insert(T,S.overlayedDocument)}),v}))}getOverlayedDocuments(t,i){const s=no();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,gr()))}populateOverlays(t,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(t,u).next(p=>{p.forEach((v,T)=>{i.set(v,T)})})}computeViews(t,i,s,u){let p=Ro();const v=ta(),T=ta();return i.forEach((S,B)=>{const te=s.get(B.key);u.has(B.key)&&(void 0===te||te.mutation instanceof Gr)?p=p.insert(B.key,B):void 0!==te?(v.set(B.key,te.mutation.getFieldMask()),Nr(te.mutation,B,te.mutation.getFieldMask(),Sn.now())):v.set(B.key,Ei.empty())}),this.recalculateAndSaveOverlays(t,p).next(S=>(S.forEach((B,te)=>v.set(B,te)),i.forEach((B,te)=>{var Ce;return T.set(B,new zf(te,null!==(Ce=v.get(B))&&void 0!==Ce?Ce:null))}),T))}recalculateAndSaveOverlays(t,i){const s=ta();let u=new Ur((v,T)=>v-T),p=gr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(v=>{for(const T of v)T.keys().forEach(S=>{const B=i.get(S);if(null===B)return;let te=s.get(S)||Ei.empty();te=T.applyToLocalView(B,te),s.set(S,te);const Ce=(u.get(T.batchId)||gr()).add(S);u=u.insert(T.batchId,Ce)})}).next(()=>{const v=[],T=u.getReverseIterator();for(;T.hasNext();){const S=T.getNext(),B=S.key,te=S.value,Ce=lc();te.forEach(Ze=>{if(!p.has(Ze)){const At=Zt(i.get(Ze),s.get(Ze));null!==At&&Ce.set(Ze,At),p=p.add(Ze)}}),v.push(this.documentOverlayCache.saveOverlays(t,B,Ce))}return lt.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return an.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):pi(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var v}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(p=>{const v=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-p.size):lt.resolve(no());let T=-1,S=p;return v.next(B=>lt.forEach(B,(te,Ce)=>(T<Ce.largestBatchId&&(T=Ce.largestBatchId),p.get(te)?lt.resolve():this.remoteDocumentCache.getEntry(t,te).next(Ze=>{S=S.insert(te,Ze)}))).next(()=>this.populateOverlays(t,B,p)).next(()=>this.computeViews(t,S,B,gr())).next(te=>({batchId:T,changes:dl(te)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new an(i)).next(s=>{let u=Is();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const p=i.collectionGroup;let v=Is();return this.indexManager.getCollectionParents(t,p).next(T=>lt.forEach(T,S=>{const B=(Ce=i,Ze=S.child(p),new si(Ze,null,Ce.explicitOrderBy.slice(),Ce.filters.slice(),Ce.limit,Ce.limitType,Ce.startAt,Ce.endAt));var Ce,Ze;return this.getDocumentsMatchingCollectionQuery(t,B,s,u).next(te=>{te.forEach((Ce,Ze)=>{v=v.insert(Ce,Ze)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(v=>(p=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,p,u))).next(v=>{p.forEach((S,B)=>{const te=B.getKey();null===v.get(te)&&(v=v.insert(te,Ar.newInvalidDocument(te)))});let T=Is();return v.forEach((S,B)=>{const te=p.get(S);void 0!==te&&Nr(te.mutation,B,Ei.empty(),Sn.now()),Fs(i,B)&&(T=T.insert(S,B))}),T})}}class Lg{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return lt.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:ci(u.createTime)}),lt.resolve();var u}getNamedQuery(t,i){return lt.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:ca(u.bundledQuery),readTime:ci(u.readTime)}),lt.resolve();var u}}class Ao{constructor(){this.overlays=new Ur(an.comparator),this.Ir=new Map}getOverlay(t,i){return lt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=no();return lt.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,p)=>{this.ht(t,i,p)}),lt.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),lt.resolve()}getOverlaysForCollection(t,i,s){const u=no(),p=i.length+1,v=new an(i.child("")),T=this.overlays.getIteratorFrom(v);for(;T.hasNext();){const S=T.getNext().value,B=S.getKey();if(!i.isPrefixOf(B.path))break;B.path.length===p&&S.largestBatchId>s&&u.set(S.getKey(),S)}return lt.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let p=new Ur((B,te)=>B-te);const v=this.overlays.getIterator();for(;v.hasNext();){const B=v.getNext().value;if(B.getKey().getCollectionGroup()===i&&B.largestBatchId>s){let te=p.get(B.largestBatchId);null===te&&(te=no(),p=p.insert(B.largestBatchId,te)),te.set(B.getKey(),B)}}const T=no(),S=p.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((B,te)=>T.set(B,te)),!(T.size()>=u)););return lt.resolve(T)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new mo(i,s));let p=this.Ir.get(i);void 0===p&&(p=gr(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class $c{constructor(){this.sessionToken=G.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,lt.resolve()}}class vi{constructor(){this.Tr=new br(So.Er),this.dr=new br(So.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new So(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new So(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new an(new Gn([])),s=new So(i,t),u=new So(i,t+1),p=[];return this.dr.forEachInRange([s,u],v=>{this.Vr(v),p.push(v.key)}),p}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new an(new Gn([])),s=new So(i,t),u=new So(i,t+1);let p=gr();return this.dr.forEachInRange([s,u],v=>{p=p.add(v.key)}),p}containsKey(t){const i=new So(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class So{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return an.comparator(t.key,i.key)||An(t.wr,i.wr)}static Ar(t,i){return An(t.wr,i.wr)||an.comparator(t.key,i.key)}}class Ug{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new br(So.Er)}checkEmpty(t){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const p=this.Sr;this.Sr++;const v=new Jr(p,i,s,u);this.mutationQueue.push(v);for(const T of u)this.br=this.br.add(new So(T.key,p)),this.indexManager.addToCollectionParentIndex(t,T.key.path.popLast());return lt.resolve(v)}lookupMutationBatch(t,i){return lt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),p=u<0?0:u;return lt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new So(i,0),u=new So(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],v=>{const T=this.Dr(v.wr);p.push(T)}),lt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new br(An);return i.forEach(u=>{const p=new So(u,0),v=new So(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,v],T=>{s=s.add(T.wr)})}),lt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let p=s;an.isDocumentKey(p)||(p=p.child(""));const v=new So(new an(p),0);let T=new br(An);return this.br.forEachWhile(S=>{const B=S.key.path;return!!s.isPrefixOf(B)&&(B.length===u&&(T=T.add(S.wr)),!0)},v),lt.resolve(this.Cr(T))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Ot(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return lt.forEach(i.mutations,u=>{const p=new So(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new So(i,0),u=this.br.firstAfterOrEqual(s);return lt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return lt.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Bg{constructor(t){this.Mr=t,this.docs=new Ur(an.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,v=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-p,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return lt.resolve(s?s.document.mutableCopy():Ar.newInvalidDocument(i))}getEntries(t,i){let s=Ro();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():Ar.newInvalidDocument(u))}),lt.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let p=Ro();const v=i.path,T=new an(v.child("")),S=this.docs.getIteratorFrom(T);for(;S.hasNext();){const{key:B,value:{document:te}}=S.getNext();if(!v.isPrefixOf(B.path))break;B.path.length>v.length+1||Mt(De(te),s)<=0||(u.has(te.key)||Fs(i,te))&&(p=p.insert(te.key,te.mutableCopy()))}return lt.resolve(p)}getAllFromCollectionGroup(t,i,s,u){Xt()}Or(t,i){return lt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new ph(this)}getSize(t){return lt.resolve(this.size)}}class ph extends ad{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),lt.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class ld{constructor(t){this.persistence=t,this.Nr=new ea(i=>ne(i),Xe),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vi,this.targetCount=0,this.kr=Pa.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),lt.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Pa(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,lt.resolve()}updateTargetData(t,i){return this.Kn(i),lt.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,i,s){let u=0;const p=[];return this.Nr.forEach((v,T)=>{T.sequenceNumber<=i&&null===s.get(T.targetId)&&(this.Nr.delete(v),p.push(this.removeMatchingKeysForTargetId(t,T.targetId)),u++)}),lt.waitFor(p).next(()=>u)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return lt.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),lt.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(v=>{p.push(u.markPotentiallyOrphaned(t,v))}),lt.waitFor(p)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),lt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return lt.resolve(s)}containsKey(t,i){return lt.resolve(this.Br.containsKey(i))}}class ud{constructor(t,i){this.qr={},this.overlays={},this.Qr=new J(0),this.Kr=!1,this.Kr=!0,this.$r=new $c,this.referenceDelegate=t(this),this.Ur=new ld(this),this.indexManager=new Og,this.remoteDocumentCache=new Bg(s=>this.referenceDelegate.Wr(s)),this.serializer=new Sa(i),this.Gr=new Lg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ao,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new Ug(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){gt("MemoryPersistence","Starting transaction:",t);const u=new jc(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(t,i){return lt.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class jc extends mn{constructor(t){super(),this.currentSequenceNumber=t}}class Ss{constructor(t){this.persistence=t,this.Jr=new vi,this.Yr=null}static Zr(t){return new Ss(t)}get Xr(){if(this.Yr)return this.Yr;throw Xt()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),lt.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),lt.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Xr,s=>{const u=an.fromPath(s);return this.ei(t,u).next(p=>{p||i.removeEntry(u,yn.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return lt.or([()=>lt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class Tu{constructor(t){this.serializer=t}O(t,i,s,u){const p=new cr("createOrUpgrade",i);var S;s<1&&u>=1&&(t.createObjectStore("owner"),(S=t).createObjectStore("mutationQueues",{keyPath:"userId"}),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jt,{unique:!0}),S.createObjectStore("documentMutations"),Hc(t),function(S){S.createObjectStore("remoteDocuments")}(t));let v=lt.resolve();return s<3&&u>=3&&(0!==s&&(function(S){S.deleteObjectStore("targetDocuments"),S.deleteObjectStore("targets"),S.deleteObjectStore("targetGlobal")}(t),Hc(t)),v=v.next(()=>function(S){const B=S.store("targetGlobal"),te={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yn.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",te)}(p))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(S,B){return B.store("mutations").U().next(te=>{S.deleteObjectStore("mutations"),S.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jt,{unique:!0});const Ce=B.store("mutations"),Ze=te.map(At=>Ce.put(At));return lt.waitFor(Ze)})}(t,p))),v=v.next(()=>{!function(S){S.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(v=v.next(()=>this.ni(p))),s<6&&u>=6&&(v=v.next(()=>(function(S){S.createObjectStore("remoteDocumentGlobal")}(t),this.ri(p)))),s<7&&u>=7&&(v=v.next(()=>this.ii(p))),s<8&&u>=8&&(v=v.next(()=>this.si(t,p))),s<9&&u>=9&&(v=v.next(()=>{!function(S){S.objectStoreNames.contains("remoteDocumentChanges")&&S.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(v=v.next(()=>this.oi(p))),s<11&&u>=11&&(v=v.next(()=>{(function(S){S.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(S){S.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(v=v.next(()=>{!function(S){const B=S.createObjectStore("documentOverlays",{keyPath:Io});B.createIndex("collectionPathOverlayIndex",Mi,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Eo,{unique:!1})}(t)})),s<13&&u>=13&&(v=v.next(()=>function(S){const B=S.createObjectStore("remoteDocumentsV14",{keyPath:Qr});B.createIndex("documentKeyIndex",hr),B.createIndex("collectionGroupIndex",ti)}(t)).next(()=>this._i(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.ai(t,p))),s<15&&u>=15&&(v=v.next(()=>function(S){S.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),S.createObjectStore("indexState",{keyPath:ui}).createIndex("sequenceNumberIndex",_i,{unique:!1}),S.createObjectStore("indexEntries",{keyPath:Ko}).createIndex("documentKeyIndex",Lo,{unique:!1})}(t))),s<16&&u>=16&&(v=v.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(v=v.next(()=>{!function(S){S.createObjectStore("globals",{keyPath:"name"})}(t)})),v}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=Sl(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>lt.forEach(u,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(T=>lt.forEach(T,S=>{Ot(S.userId===p.userId);const B=Ra(this.serializer,S);return ds(t,p.userId,B).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((v,T)=>{const S=new Gn(v),B=[0,ae(S)];p.push(i.get(B).next(te=>te?lt.resolve():i.put({targetId:0,path:ae(S),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>lt.waitFor(p))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:lo});const s=i.store("collectionParents"),u=new ch,p=v=>{if(u.add(v)){const T=v.lastSegment(),S=v.popLast();return s.put({collectionId:T,parent:ae(S)})}};return i.store("remoteDocuments").J({H:!0},(v,T)=>{const S=new Gn(v);return p(S.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([v,T,S],B)=>{const te=ln(T);return p(te.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const p=jr(u),v=El(this.serializer,p);return i.put(v)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,v)=>{const T=i.store("remoteDocumentsV14"),S=(Ce=v,Ce.document?new an(Gn.fromString(Ce.document.name).popFirst(5)):Ce.noDocument?an.fromSegments(Ce.noDocument.path):Ce.unknownDocument?an.fromSegments(Ce.unknownDocument.path):Xt()).path.toArray(),B={prefixPath:S.slice(0,S.length-2),collectionGroup:S[S.length-2],documentId:S[S.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var Ce;u.push(T.put(B))}).next(()=>lt.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=Eu(this.serializer),p=new ud(Ss.Zr,this.serializer.ct);return s.U().next(v=>{const T=new Map;return v.forEach(S=>{var B;let te=null!==(B=T.get(S.userId))&&void 0!==B?B:gr();Ra(this.serializer,S).keys().forEach(Ce=>te=te.add(Ce)),T.set(S.userId,te)}),lt.forEach(T,(S,B)=>{const te=new le(B),Ce=Lc.lt(this.serializer,te),Ze=p.getIndexManager(te),At=Bc.lt(te,this.serializer,Ze,p.referenceDelegate);return new cd(u,At,Ce,Ze).recalculateAndSaveOverlaysForDocumentKeys(new ss(i,J.oe),S).next()})})}}function Hc(c){c.createObjectStore("targetDocuments",{keyPath:bi}).createIndex("documentTargetsIndex",li,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wo,{unique:!0}),c.createObjectStore("targetGlobal")}const Ml="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dd{constructor(t,i,s,u,p,v,T,S,B,te,Ce=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=v,this.document=T,this.ci=B,this.li=te,this.hi=Ce,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ze=>Promise.resolve(),!dd.D())throw new de(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fg(this,u),this.Ai=i+"main",this.serializer=new Sa(S),this.Ri=new $n(this.Ai,this.hi,new Tu(this.serializer)),this.$r=new js,this.Ur=new jf(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Eu(this.serializer),this.Gr=new Vc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===te&&Ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ht.FAILED_PRECONDITION,Ml);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new J(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,a.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,a.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,a.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Pl(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(Wr(t))return gt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return vc(t).get("owner").next(i=>lt.resolve(this.vi(i)))}Ci(t){return Pl(t).delete(this.clientId)}Fi(){var t=this;return(0,a.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Yr(s,"clientMetadata");return u.U().next(p=>{const v=t.xi(p,18e5),T=p.filter(S=>-1===v.indexOf(S));return lt.forEach(T,S=>u.delete(S.clientId)).next(()=>T)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?lt.resolve(!0):vc(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new de(ht.FAILED_PRECONDITION,Ml);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pl(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&gt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,a.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new ss(i,J.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>Pl(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return Bc.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new kg(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Lc.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){gt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",p=17===(S=this.hi)?Ua:16===S?os:15===S?qo:14===S?gs:13===S?tr:12===S?qn:11===S?is:void Xt();var S;let v;return this.Ri.runTransaction(t,u,p,T=>(v=new ss(T,this.Qr?this.Qr.next():J.oe),"readwrite-primary"===i?this.wi(v).next(S=>!!S||this.Si(v)).next(S=>{if(!S)throw Ut(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new de(ht.FAILED_PRECONDITION,mt);return s(v)}).next(S=>this.Di(v).next(()=>S)):this.Ki(v).next(()=>s(v)))).then(T=>(v.raiseOnCommittedEvent(),T))}Ki(t){return vc(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new de(ht.FAILED_PRECONDITION,Ml)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(t).put("owner",i)}static D(){return $n.D()}bi(t){const i=vc(t);return i.get("owner").next(s=>this.vi(s)?(gt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):lt.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(Ut(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Ge.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return gt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Ut("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Ut("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function vc(c){return Yr(c,"owner")}function Pl(c){return Yr(c,"clientMetadata")}function xl(c,t){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+t+"/"+i+"/"}class Ya{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=gr(),u=gr();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Ya(t,i.fromCache,s,u)}}class Nl{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Gf{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Ge.nr)()?8:nn((0,Ge.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const p={result:null};return this.Yi(t,i).next(v=>{p.result=v}).next(()=>{if(!p.result)return this.Zi(t,i,u,s).next(v=>{p.result=v})}).next(()=>{if(p.result)return;const v=new Nl;return this.Xi(t,i,v).next(T=>{if(p.result=T,this.zi)return this.es(t,i,v,T.size)})}).next(()=>p.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(Nt()<=ge.$b.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),lt.resolve()):(Nt()<=ge.$b.DEBUG&&gt("QueryEngine","Query:",so(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Nt()<=ge.$b.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(i))):lt.resolve())}Yi(t,i){if(vr(i))return lt.resolve(null);let s=gi(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=ks(i,null,"F"),s=gi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(p=>{const v=gr(...p);return this.Ji.getDocuments(t,v).next(T=>this.indexManager.getMinOffset(t,s).next(S=>{const B=this.ts(i,T);return this.ns(i,B,v,S.readTime)?this.Yi(t,ks(i,null,"F")):this.rs(t,B,i,S)}))})))}Zi(t,i,s,u){return vr(i)||u.isEqual(yn.min())?lt.resolve(null):this.Ji.getDocuments(t,s).next(p=>{const v=this.ts(i,p);return this.ns(i,v,s,u)?lt.resolve(null):(Nt()<=ge.$b.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),so(i)),this.rs(t,v,i,Ae(u,-1)).next(T=>T))})}ts(t,i){let s=new br(ul(t));return i.forEach((u,p)=>{Fs(t,p)&&(s=s.add(p))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const p="F"===t.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(t,i,s){return Nt()<=ge.$b.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",so(i)),this.Ji.getDocumentsMatchingQuery(t,i,ze.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(p=>(i.forEach(v=>{p=p.insert(v.key,v)}),p))}}class gh{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new Ur(An),this._s=new ea(p=>ne(p),Xe),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function mh(c,t,i,s){return new gh(c,t,i,s)}function Wf(c,t){return vh.apply(this,arguments)}function vh(){return(vh=(0,a.A)(function*(c,t){const i=Ft(c);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const v=[],T=[];let S=gr();for(const B of u){v.push(B.batchId);for(const te of B.mutations)S=S.add(te.key)}for(const B of p){T.push(B.batchId);for(const te of B.mutations)S=S.add(te.key)}return i.localDocuments.getDocuments(s,S).next(B=>({hs:B,removedBatchIds:v,addedBatchIds:T}))})})})).apply(this,arguments)}function $g(c){const t=Ft(c);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function hd(c,t,i){let s=gr(),u=gr();return i.forEach(p=>s=s.add(p)),t.getEntries(c,s).next(p=>{let v=Ro();return i.forEach((T,S)=>{const B=p.get(T);S.isFoundDocument()!==B.isFoundDocument()&&(u=u.add(T)),S.isNoDocument()&&S.version.isEqual(yn.min())?(t.removeEntry(T,S.readTime),v=v.insert(T,S)):!B.isValidDocument()||S.version.compareTo(B.version)>0||0===S.version.compareTo(B.version)&&B.hasPendingWrites?(t.addEntry(S),v=v.insert(T,S)):gt("LocalStore","Ignoring outdated watch update for ",T,". Current version:",B.version," Watch version:",S.version)}),{Ps:v,Is:u}})}function Rs(c,t){const i=Ft(c);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function yc(c,t){const i=Ft(c);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(p=>p?(u=p,lt.resolve(u)):i.Ur.allocateTargetId(s).next(v=>(u=new $s(t,v,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function Na(c,t,i){return Du.apply(this,arguments)}function Du(){return(Du=(0,a.A)(function*(c,t,i){const s=Ft(c),u=s.os.get(t),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Wr(v))throw v;gt("LocalStore",`Failed to update sequence numbers for target ${t}: ${v}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function _c(c,t,i){const s=Ft(c);let u=yn.min(),p=gr();return s.persistence.runTransaction("Execute query","readwrite",v=>function(S,B,te){const Ce=Ft(S),Ze=Ce._s.get(te);return void 0!==Ze?lt.resolve(Ce.os.get(Ze)):Ce.Ur.getTargetData(B,te)}(s,v,gi(t)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(v,T.targetId).next(S=>{p=S})}).next(()=>s.ss.getDocumentsMatchingQuery(v,t,i?u:yn.min(),i?p:gr())).next(T=>(wu(s,Ha(t),T),{documents:T,Ts:p})))}function fd(c,t){const i=Ft(c),s=Ft(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,t).next(v=>v?v.target:null))}function pd(c,t){const i=Ft(c),s=i.us.get(t)||yn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,Ae(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(wu(i,t,u),u))}function wu(c,t,i){let s=c.us.get(t)||yn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),c.us.set(t,s)}function gd(){return(gd=(0,a.A)(function*(c,t,i,s){const u=Ft(c);let p=gr(),v=Ro();for(const B of i){const te=t.Es(B.metadata.name);B.document&&(p=p.add(te));const Ce=t.ds(B);Ce.setReadTime(t.As(B.metadata.readTime)),v=v.insert(te,Ce)}const T=u.cs.newChangeBuffer({trackRemovals:!0}),S=yield yc(u,(te=s,gi(To(Gn.fromString(`__bundle__/docs/${te}`)))));var te;return u.persistence.runTransaction("Apply bundle documents","readwrite",B=>hd(B,T,v).next(te=>(T.apply(B),te)).next(te=>u.Ur.removeMatchingKeysForTargetId(B,S.targetId).next(()=>u.Ur.addMatchingKeys(B,p,S.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(B,te.Ps,te.Is)).next(()=>te.Ps)))})).apply(this,arguments)}function Xf(c,t){return bu.apply(this,arguments)}function bu(){return(bu=(0,a.A)(function*(c,t,i=gr()){const s=yield yc(c,gi(ca(t.bundledQuery))),u=Ft(c);return u.persistence.runTransaction("Save named query","readwrite",p=>{const v=ci(t.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.Gr.saveNamedQuery(p,t);const T=s.withResumeToken(G.EMPTY_BYTE_STRING,v);return u.os=u.os.insert(T.targetId,T),u.Ur.updateTargetData(p,T).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,t))})})).apply(this,arguments)}function ua(c,t){return`firestore_clients_${c}_${t}`}function Qf(c,t,i){let s=`firestore_mutations_${c}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Ol(c,t){return`firestore_targets_${c}_${t}`}class kl{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let p,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(p=new de(u.error.code,u.error.message))),v?new kl(t,i,u.state,p):(Ut("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Fl{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new de(s.error.code,s.error.message))),p?new Fl(t,s.state,u):(Ut("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ic{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=go();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=we(s.activeTargetIds[v]),p=p.add(s.activeTargetIds[v]);return u?new Ic(t,p):(Ut("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class zc{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new zc(i.clientId,i.onlineState):(Ut("SharedClientState",`Failed to parse online state: ${t}`),null)}}class yh{constructor(){this.activeTargetIds=go()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class md{constructor(t,i,s,u,p){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ur(An),this.started=!1,this.bs=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=ua(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new yh),this.Cs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(S){return`firestore_bundle_loaded_v2_${S}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,a.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const p=t.getItem(ua(t.persistenceKey,u));if(p){const v=Ic.Rs(u,p);v&&(t.Ss=t.Ss.insert(v.clientId,v))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Ol(this.persistenceKey,t));if(u){const p=Fl.Rs(t,u);p&&(s=p.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ol(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return gt("SharedClientState","READ",t,i),i}setItem(t,i){gt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){gt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(gt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,a.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(v){let T=J.oe;if(null!=v)try{const S=JSON.parse(v);Ot("number"==typeof S),T=S}catch(S){Ut("SharedClientState","Failed to read sequence number from WebStorage",S)}return T}(s.newValue);u!==J.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new kl(this.currentUser,t,i,s),p=Qf(this.persistenceKey,this.currentUser,t);this.setItem(p,u.Vs())}Qs(t){const i=Qf(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Ol(this.persistenceKey,t),p=new Fl(t,i,s);this.setItem(u,p.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return Ic.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return kl.Rs(new le(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return Fl.Rs(u,i)}Ls(t){return zc.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,a.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);gt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),p=this.ks(s),v=[],T=[];return p.forEach(S=>{u.has(S)||v.push(S)}),u.forEach(S=>{p.has(S)||T.push(S)}),this.syncEngine.io(v,T).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=go();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Au{constructor(){this.so=new yh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new yh,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vd{_o(t){}shutdown(){}}class _h{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yd=null;function Za(){return null===yd?yd=268435456+Math.round(2147483648*Math.random()):yd++,"0x"+yd.toString(16)}const Gc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jg{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Po="WebChannelConnection";class Ih extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,v){const T=Za(),S=this.xo(i,s.toUriEncodedString());gt("RestConnection",`Sending RPC '${i}' ${T}:`,S,u);const B={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(B,p,v),this.No(i,S,B,u).then(te=>(gt("RestConnection",`Received RPC '${i}' ${T}: `,te),te),te=>{throw un("RestConnection",`RPC '${i}' ${T} failed with error: `,te,"url: ",S,"request:",u),te})}Lo(i,s,u,p,v,T){return this.Mo(i,s,u,p,v)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+qe,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,v)=>i[v]=p),u&&u.headers.forEach((p,v)=>i[v]=p)}xo(i,s){return`${this.Do}/v1/${s}:${Gc[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const p=Za();return new Promise((v,T)=>{const S=new pn;S.setWithCredentials(!0),S.listenOnce(pt.COMPLETE,()=>{try{switch(S.getLastErrorCode()){case me.NO_ERROR:const te=S.getResponseJson();gt(Po,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(te)),v(te);break;case me.TIMEOUT:gt(Po,`RPC '${t}' ${p} timed out`),T(new de(ht.DEADLINE_EXCEEDED,"Request time out"));break;case me.HTTP_ERROR:const Ce=S.getStatus();if(gt(Po,`RPC '${t}' ${p} failed with status:`,Ce,"response text:",S.getResponseText()),Ce>0){let Ze=S.getResponseJson();Array.isArray(Ze)&&(Ze=Ze[0]);const At=Ze?.error;if(At&&At.status&&At.message){const Qt=function(on){const Bn=on.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(Bn)>=0?Bn:ht.UNKNOWN}(At.status);T(new de(Qt,At.message))}else T(new de(ht.UNKNOWN,"Server responded with status "+S.getStatus()))}else T(new de(ht.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{gt(Po,`RPC '${t}' ${p} completed.`)}});const B=JSON.stringify(u);gt(Po,`RPC '${t}' ${p} sending request:`,u),S.send(i,"POST",B,s,15)})}Bo(t,i,s){const u=Za(),p=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],v=pe(),T=Z(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},B=this.longPollingOptions.timeoutSeconds;void 0!==B&&(S.longPollingTimeout=Math.round(1e3*B)),this.useFetchStreams&&(S.useFetchStreams=!0),this.Oo(S.initMessageHeaders,i,s),S.encodeInitMessageHeaders=!0;const te=p.join("");gt(Po,`Creating RPC '${t}' stream ${u}: ${te}`,S);const Ce=v.createWebChannel(te,S);let Ze=!1,At=!1;const Qt=new jg({Io:on=>{At?gt(Po,`Not sending because RPC '${t}' stream ${u} is closed:`,on):(Ze||(gt(Po,`Opening RPC '${t}' stream ${u} transport.`),Ce.open(),Ze=!0),gt(Po,`RPC '${t}' stream ${u} sending:`,on),Ce.send(on))},To:()=>Ce.close()}),hn=(on,Bn,Zn)=>{on.listen(Bn,Hn=>{try{Zn(Hn)}catch(_r){setTimeout(()=>{throw _r},0)}})};return hn(Ce,Cn.EventType.OPEN,()=>{At||(gt(Po,`RPC '${t}' stream ${u} transport opened.`),Qt.yo())}),hn(Ce,Cn.EventType.CLOSE,()=>{At||(At=!0,gt(Po,`RPC '${t}' stream ${u} transport closed`),Qt.So())}),hn(Ce,Cn.EventType.ERROR,on=>{At||(At=!0,un(Po,`RPC '${t}' stream ${u} transport errored:`,on),Qt.So(new de(ht.UNAVAILABLE,"The operation could not be completed")))}),hn(Ce,Cn.EventType.MESSAGE,on=>{var Bn;if(!At){const Zn=on.data[0];Ot(!!Zn);const _r=Zn.error||(null===(Bn=Zn[0])||void 0===Bn?void 0:Bn.error);if(_r){gt(Po,`RPC '${t}' stream ${u} received error:`,_r);const zr=_r.status;let Or=function(at){const Ct=qr[at];if(void 0!==Ct)return gl(Ct)}(zr),vt=_r.message;void 0===Or&&(Or=ht.INTERNAL,vt="Unknown error status: "+zr+" with message "+_r.message),At=!0,Qt.So(new de(Or,vt)),Ce.close()}else gt(Po,`RPC '${t}' stream ${u} received:`,Zn),Qt.bo(Zn)}}),hn(T,_e.STAT_EVENT,on=>{on.stat===fe.PROXY?gt(Po,`RPC '${t}' stream ${u} detected buffering proxy`):on.stat===fe.NOPROXY&&gt(Po,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Qt.wo()},0),Qt}}function Wc(){return typeof window<"u"?window:null}function Ja(){return typeof document<"u"?document:null}function $i(c){return new yo(c,!0)}class Eh{constructor(t,i,s=1e3,u=1.5,p=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&gt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Kc{constructor(t,i,s,u,p,v,T,S){this.ui=t,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=T,this.listener=S,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Eh(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,a.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,a.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,a.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===ht.RESOURCE_EXHAUSTED?(Ut(i.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===ht.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new de(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,a.A)(function*(){t.state=0,t.start()}))}I_(t){return gt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ch extends Kc{constructor(t,i,s,u,p,v){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function E(c,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(B=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:Xt(),u=t.targetChange.targetIds||[],p=function(B,te){return B.useProto3Json?(Ot(void 0===te||"string"==typeof te),G.fromBase64String(te||"")):(Ot(void 0===te||te instanceof Buffer||te instanceof Uint8Array),G.fromUint8Array(te||new Uint8Array))}(c,t.targetChange.resumeToken),v=t.targetChange.cause,T=v&&function(B){const te=void 0===B.code?ht.UNKNOWN:gl(B.code);return new de(te,B.message||"")}(v);i=new vl(s,u,p,T||null)}else if("documentChange"in t){const s=t.documentChange,u=ws(c,s.document.name),p=ci(s.document.updateTime),v=s.document.createTime?ci(s.document.createTime):yn.min(),T=new Zr({mapValue:{fields:s.document.fields}}),S=Ar.newFoundDocument(u,p,v,T);i=new vo(s.targetIds||[],s.removedTargetIds||[],S.key,S)}else if("documentDelete"in t){const s=t.documentDelete,u=ws(c,s.document),p=s.readTime?ci(s.readTime):yn.min(),v=Ar.newNoDocument(u,p);i=new vo([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){const s=t.documentRemove,u=ws(c,s.document);i=new vo([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Xt();{const s=t.filter,{count:u=0,unchangedNames:p}=s,v=new Ci(u,p);i=new jn(s.targetId,v)}}var B;return i}(this.serializer,t),s=function(p){if(!("targetChange"in p))return yn.min();const v=p.targetChange;return v.targetIds&&v.targetIds.length?yn.min():v.readTime?ci(v.readTime):yn.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=sh(this.serializer),i.addTarget=function(p,v){let T;const S=v.target;if(T=Fn(S)?{documents:$(p,S)}:{query:ie(p,S)._t},T.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){T.resumeToken=dc(p,v.resumeToken);const B=yl(p,v.expectedCount);null!==B&&(T.expectedCount=B)}else if(v.snapshotVersion.compareTo(yn.min())>0){T.readTime=wo(p,v.snapshotVersion.toTimestamp());const B=yl(p,v.expectedCount);null!==B&&(T.expectedCount=B)}return T}(this.serializer,t);const s=function Et(c,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xt()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=sh(this.serializer),i.removeTarget=t,this.a_(i)}}class Yf extends Kc{constructor(t,i,s,u,p,v){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,Ot(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function A(c,t){return c&&c.length>0?(Ot(void 0!==t),c.map(i=>function(u,p){let v=ci(u.updateTime?u.updateTime:p);return v.isEqual(yn.min())&&(v=ci(p)),new x(v,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=sh(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>b(this.serializer,s))};this.a_(i)}}class Zf extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new de(ht.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,v])=>this.connection.Mo(t,Oc(i,s),u,p,v)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new de(ht.UNKNOWN,p.toString())})}Lo(t,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,T])=>this.connection.Lo(t,Oc(i,s),u,v,T,p)).catch(v=>{throw"FirebaseError"===v.name?(v.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new de(ht.UNKNOWN,v.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class _d{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ut(i),this.D_=!1):gt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hg{constructor(t,i,s,u,p){var v=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(T=>{s.enqueueAndForget((0,a.A)(function*(){var S;ec(v)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,a.A)(function*(te){const Ce=Ft(te);Ce.L_.add(4),yield da(Ce),Ce.q_.set("Unknown"),Ce.L_.delete(4),yield Vl(Ce)}),function B(te){return S.apply(this,arguments)})(v))}))}),this.q_=new _d(s,u)}}function Vl(c){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,a.A)(function*(c){if(ec(c))for(const t of c.B_)yield t(!0)})).apply(this,arguments)}function da(c){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.A)(function*(c){for(const t of c.B_)yield t(!1)})).apply(this,arguments)}function Su(c,t){const i=Ft(c);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),Ec(i)?Zo(i):V(i).r_()&&Ru(i,t))}function Bl(c,t){const i=Ft(c),s=V(i);i.N_.delete(t),s.r_()&&Th(i,t),0===i.N_.size&&(s.r_()?s.o_():ec(i)&&i.q_.set("Unknown"))}function Ru(c,t){if(c.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}V(c).A_(t)}function Th(c,t){c.Q_.xe(t),V(c).R_(t)}function Zo(c){c.Q_=new Ds({getRemoteKeysForTarget:t=>c.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>c.N_.get(t)||null,tt:()=>c.datastore.serializer.databaseId}),V(c).start(),c.q_.v_()}function Ec(c){return ec(c)&&!V(c).n_()&&c.N_.size>0}function ec(c){return 0===Ft(c).L_.size}function Jf(c){c.Q_=void 0}function ep(c){return $l.apply(this,arguments)}function $l(){return($l=(0,a.A)(function*(c){c.q_.set("Online")})).apply(this,arguments)}function tp(c){return _o.apply(this,arguments)}function _o(){return(_o=(0,a.A)(function*(c){c.N_.forEach((t,i)=>{Ru(c,t)})})).apply(this,arguments)}function Kv(c,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.A)(function*(c,t){Jf(c),Ec(c)?(c.q_.M_(t),Zo(c)):c.q_.set("Unknown")})).apply(this,arguments)}function zg(c,t,i){return Id.apply(this,arguments)}function Id(){return Id=(0,a.A)(function*(c,t,i){if(c.q_.set("Online"),t instanceof vl&&2===t.state&&t.cause)try{yield(s=(0,a.A)(function*(p,v){const T=v.cause;for(const S of v.targetIds)p.N_.has(S)&&(yield p.remoteSyncer.rejectListen(S,T),p.N_.delete(S),p.Q_.removeTarget(S))}),function u(p,v){return s.apply(this,arguments)})(c,t)}catch(s){gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Dh(c,s)}else if(t instanceof vo?c.Q_.Ke(t):t instanceof jn?c.Q_.He(t):c.Q_.We(t),!i.isEqual(yn.min()))try{const s=yield $g(c.localStore);i.compareTo(s)>=0&&(yield function(p,v){const T=p.Q_.rt(v);return T.targetChanges.forEach((S,B)=>{if(S.resumeToken.approximateByteSize()>0){const te=p.N_.get(B);te&&p.N_.set(B,te.withResumeToken(S.resumeToken,v))}}),T.targetMismatches.forEach((S,B)=>{const te=p.N_.get(S);if(!te)return;p.N_.set(S,te.withResumeToken(G.EMPTY_BYTE_STRING,te.snapshotVersion)),Th(p,S);const Ce=new $s(te.target,S,B,te.sequenceNumber);Ru(p,Ce)}),p.remoteSyncer.applyRemoteEvent(T)}(c,i))}catch(s){gt("RemoteStore","Failed to raise snapshot:",s),yield Dh(c,s)}var s}),Id.apply(this,arguments)}function Dh(c,t,i){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,a.A)(function*(c,t,i){if(!Wr(t))throw t;c.L_.add(1),yield da(c),c.q_.set("Offline"),i||(i=()=>$g(c.localStore)),c.asyncQueue.enqueueRetryable((0,a.A)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield i(),c.L_.delete(1),yield Vl(c)}))})).apply(this,arguments)}function Ed(c,t){return t().catch(i=>Dh(c,i,t))}function ji(c){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,a.A)(function*(c){const t=Ft(c),i=ee(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;wh(t);)try{const u=yield Rs(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,qc(t,u)}catch(u){yield Dh(t,u)}tc(t)&&jl(t)})).apply(this,arguments)}function wh(c){return ec(c)&&c.O_.length<10}function qc(c,t){c.O_.push(t);const i=ee(c);i.r_()&&i.V_&&i.m_(t.mutations)}function tc(c){return ec(c)&&!ee(c).n_()&&c.O_.length>0}function jl(c){ee(c).start()}function ha(c){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,a.A)(function*(c){ee(c).p_()})).apply(this,arguments)}function np(c){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,a.A)(function*(c){const t=ee(c);for(const i of c.O_)t.m_(i.mutations)})).apply(this,arguments)}function qv(c,t,i){return xu.apply(this,arguments)}function xu(){return(xu=(0,a.A)(function*(c,t,i){const s=c.O_.shift(),u=xi.from(s,t,i);yield Ed(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield ji(c)})).apply(this,arguments)}function Cd(c,t){return bh.apply(this,arguments)}function bh(){return bh=(0,a.A)(function*(c,t){var i;t&&ee(c).V_&&(yield(i=(0,a.A)(function*(u,p){if(Ls(T=p.code)&&T!==ht.ABORTED){const v=u.O_.shift();ee(u).s_(),yield Ed(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,p)),yield ji(u)}var T}),function s(u,p){return i.apply(this,arguments)})(c,t)),tc(c)&&jl(c)}),bh.apply(this,arguments)}function y(c,t){return h.apply(this,arguments)}function h(){return(h=(0,a.A)(function*(c,t){const i=Ft(c);i.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const s=ec(i);i.L_.add(3),yield da(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield Vl(i)})).apply(this,arguments)}function f(c,t){return I.apply(this,arguments)}function I(){return(I=(0,a.A)(function*(c,t){const i=Ft(c);t?(i.L_.delete(2),yield Vl(i)):t||(i.L_.add(2),yield da(i),i.q_.set("Unknown"))})).apply(this,arguments)}function V(c){return c.K_||(c.K_=function(i,s,u){const p=Ft(i);return p.w_(),new Ch(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{Eo:ep.bind(null,c),Ro:tp.bind(null,c),mo:Kv.bind(null,c),d_:zg.bind(null,c)}),c.B_.push(function(){var t=(0,a.A)(function*(i){i?(c.K_.s_(),Ec(c)?Zo(c):c.q_.set("Unknown")):(yield c.K_.stop(),Jf(c))});return function(i){return t.apply(this,arguments)}}())),c.K_}function ee(c){return c.U_||(c.U_=function(i,s,u){const p=Ft(i);return p.w_(),new Yf(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ha.bind(null,c),mo:Cd.bind(null,c),f_:np.bind(null,c),g_:qv.bind(null,c)}),c.B_.push(function(){var t=(0,a.A)(function*(i){i?(c.U_.s_(),yield ji(c)):(yield c.U_.stop(),c.O_.length>0&&(gt("RemoteStore",`Stopping write stream with ${c.O_.length} pending writes`),c.O_=[]))});return function(i){return t.apply(this,arguments)}}())),c.U_}class We{constructor(t,i,s,u,p){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,p){const v=Date.now()+s,T=new We(t,i,v,u,p);return T.start(s),T}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new de(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yt(c,t){if(Ut("AsyncQueue",`${t}: ${c}`),Wr(c))return new de(ht.UNAVAILABLE,`${t}: ${c}`);throw c}class zt{constructor(t){this.comparator=t?(i,s)=>t(i,s)||an.comparator(i.key,s.key):(i,s)=>an.comparator(i.key,s.key),this.keyedMap=Is(),this.sortedSet=new Ur(this.comparator)}static emptySet(t){return new zt(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof zt)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new zt;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class wn{constructor(){this.W_=new Ur(an.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Xt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class On{constructor(t,i,s,u,p,v,T,S,B){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=T,this.excludesMetadataChanges=S,this.hasCachedResults=B}static fromInitialDocuments(t,i,s,u,p){const v=[];return i.forEach(T=>{v.push({type:0,doc:T})}),new On(t,i,zt.emptySet(i),v,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Js(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Un{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Hi{constructor(){this.queries=co(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=Ft(i),p=u.queries;u.queries=co(),p.forEach((v,T)=>{for(const S of T.j_)S.onError(s)})}(this,new de(ht.ABORTED,"Firestore shutting down"))}}function co(){return new ea(c=>Pc(c),Js)}function zl(c,t){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,a.A)(function*(c,t){const i=Ft(c);let s=3;const u=t.query;let p=i.queries.get(u);p?!p.H_()&&t.J_()&&(s=2):(p=new Un,s=t.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const T=yt(v,`Initialization of query '${so(t.query)}' failed`);return void t.onError(T)}i.queries.set(u,p),p.j_.push(t),t.Z_(i.onlineState),p.z_&&t.X_(p.z_)&&Sh(i)})).apply(this,arguments)}function Td(c,t){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,a.A)(function*(c,t){const i=Ft(c),s=t.query;let u=3;const p=i.queries.get(s);if(p){const v=p.j_.indexOf(t);v>=0&&(p.j_.splice(v,1),0===p.j_.length?u=t.J_()?0:1:!p.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Gg(c,t){const i=Ft(c);let s=!1;for(const u of t){const v=i.queries.get(u.query);if(v){for(const T of v.j_)T.X_(u)&&(s=!0);v.z_=u}}s&&Sh(i)}function rp(c,t,i){const s=Ft(c),u=s.queries.get(t);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(t)}function Sh(c){c.Y_.forEach(t=>{t.next()})}var Dd,nc;(nc=Dd||(Dd={})).ea="default",nc.Cache="cache";class Cc{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new On(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=On.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Dd.Cache}}class ip{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class wd{constructor(t){this.serializer=t}Es(t){return ws(this.serializer,t)}ds(t){return t.metadata.exists?Fc(this.serializer,t.document,!1):Ar.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return ci(t)}}class Rh{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bd(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=Gn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new wd(this.serializer);for(const u of t)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const v of u.metadata.queries){const T=(i.get(v)||gr()).add(p);i.set(v,T)}}return i}complete(){var t=this;return(0,a.A)(function*(){const i=yield function qf(c,t,i,s){return gd.apply(this,arguments)}(t.localStore,new wd(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield Xf(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function bd(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Xv{constructor(t){this.key=t}}class op{constructor(t){this.key=t}}class Wg{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=gr(),this.mutatedKeys=gr(),this.Aa=ul(t),this.Ra=new zt(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new wn,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,v=u,T=!1;const S="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,B="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((te,Ce)=>{const Ze=u.get(te),At=Fs(this.query,Ce)?Ce:null,Qt=!!Ze&&this.mutatedKeys.has(Ze.key),hn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let on=!1;Ze&&At?Ze.data.isEqual(At.data)?Qt!==hn&&(s.track({type:3,doc:At}),on=!0):this.ga(Ze,At)||(s.track({type:2,doc:At}),on=!0,(S&&this.Aa(At,S)>0||B&&this.Aa(At,B)<0)&&(T=!0)):!Ze&&At?(s.track({type:0,doc:At}),on=!0):Ze&&!At&&(s.track({type:1,doc:Ze}),on=!0,(S||B)&&(T=!0)),on&&(At?(v=v.add(At),p=hn?p.add(te):p.delete(te)):(v=v.delete(te),p=p.delete(te)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const te="F"===this.query.limitType?v.last():v.first();v=v.delete(te.key),p=p.delete(te.key),s.track({type:1,doc:te})}return{Ra:v,fa:s,ns:T,mutatedKeys:p}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const p=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const v=t.fa.G_();v.sort((te,Ce)=>function(At,Qt){const hn=on=>{switch(on){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return hn(At)-hn(Qt)}(te.type,Ce.type)||this.Aa(te.doc,Ce.doc)),this.pa(s),u=null!=u&&u;const T=i&&!u?this.ya():[],S=0===this.da.size&&this.current&&!u?1:0,B=S!==this.Ea;return this.Ea=S,0!==v.length||B?{snapshot:new On(this.query,t.Ra,p,v,t.mutatedKeys,0===S,B,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:T}:{wa:T}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=gr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new op(s))}),this.da.forEach(s=>{t.has(s)||i.push(new Xv(s))}),i}ba(t){this.Ta=t.Ts,this.da=gr();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return On.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Mh{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Ph{constructor(t){this.key=t,this.va=!1}}class Qv{constructor(t,i,s,u,p,v){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.Ca={},this.Fa=new ea(T=>Pc(T),Js),this.Ma=new Map,this.xa=new Set,this.Oa=new Ur(an.comparator),this.Na=new Map,this.La=new vi,this.Ba={},this.ka=new Map,this.qa=Pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Kg(c,t){return qg.apply(this,arguments)}function qg(){return(qg=(0,a.A)(function*(c,t,i=!0){const s=Fu(c);let u;const p=s.Fa.get(t);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield Qg(s,t,i,!0),u})).apply(this,arguments)}function gI(c,t){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,a.A)(function*(c,t){const i=Fu(c);yield Qg(i,t,!0,!1)})).apply(this,arguments)}function Qg(c,t,i,s){return xh.apply(this,arguments)}function xh(){return(xh=(0,a.A)(function*(c,t,i,s){const u=yield yc(c.localStore,gi(t)),p=u.targetId,v=c.sharedClientState.addLocalQueryTarget(p,i);let T;return s&&(T=yield Yg(c,t,p,"current"===v,u.resumeToken)),c.isPrimaryClient&&i&&Su(c.remoteStore,u),T})).apply(this,arguments)}function Yg(c,t,i,s,u){return hs.apply(this,arguments)}function hs(){return hs=(0,a.A)(function*(c,t,i,s,u){c.Ka=(Ce,Ze,At)=>{return(Qt=(0,a.A)(function*(on,Bn,Zn,Hn){let _r=Bn.view.ma(Zn);_r.ns&&(_r=yield _c(on.localStore,Bn.query,!1).then(({documents:Ke})=>Bn.view.ma(Ke,_r)));const zr=Hn&&Hn.targetChanges.get(Bn.targetId),Or=Hn&&null!=Hn.targetMismatches.get(Bn.targetId),vt=Bn.view.applyChanges(_r,on.isPrimaryClient,zr,Or);return hp(on,Bn.targetId,vt.wa),vt.snapshot}),function hn(on,Bn,Zn,Hn){return Qt.apply(this,arguments)})(c,Ce,Ze,At);var Qt};const p=yield _c(c.localStore,t,!0),v=new Wg(t,p.Ts),T=v.ma(p.documents),S=sa.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==c.onlineState,u),B=v.applyChanges(T,c.isPrimaryClient,S);hp(c,i,B.wa);const te=new Mh(t,i,v);return c.Fa.set(t,te),c.Ma.has(i)?c.Ma.get(i).push(t):c.Ma.set(i,[t]),B.snapshot}),hs.apply(this,arguments)}function Zg(c,t,i){return sp.apply(this,arguments)}function sp(){return(sp=(0,a.A)(function*(c,t,i){const s=Ft(c),u=s.Fa.get(t),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(v=>!Js(v,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Na(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Bl(s.remoteStore,u.targetId),ku(s,u.targetId)}).catch(In))):(ku(s,u.targetId),yield Na(s.localStore,u.targetId,!0))})).apply(this,arguments)}function ap(c,t){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,a.A)(function*(c,t){const i=Ft(c),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Bl(i.remoteStore,s.targetId))})).apply(this,arguments)}function Ho(){return(Ho=(0,a.A)(function*(c,t,i){const s=iy(c);try{const u=yield function(v,T){const S=Ft(v),B=Sn.now(),te=T.reduce((At,Qt)=>At.add(Qt.key),gr());let Ce,Ze;return S.persistence.runTransaction("Locally write mutations","readwrite",At=>{let Qt=Ro(),hn=gr();return S.cs.getEntries(At,te).next(on=>{Qt=on,Qt.forEach((Bn,Zn)=>{Zn.isValidDocument()||(hn=hn.add(Bn))})}).next(()=>S.localDocuments.getOverlayedDocuments(At,Qt)).next(on=>{Ce=on;const Bn=[];for(const Zn of T){const Hn=mi(Zn,Ce.get(Zn.key).overlayedDocument);null!=Hn&&Bn.push(new Gr(Zn.key,Hn,xr(Hn.value.mapValue),H.exists(!0)))}return S.mutationQueue.addMutationBatch(At,B,Bn,T)}).next(on=>{Ze=on;const Bn=on.applyToLocalDocumentSet(Ce,hn);return S.documentOverlayCache.saveOverlays(At,on.batchId,Bn)})}).then(()=>({batchId:Ze.batchId,changes:dl(Ce)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(v,T,S){let B=v.Ba[v.currentUser.toKey()];B||(B=new Ur(An)),B=B.insert(T,S),v.Ba[v.currentUser.toKey()]=B}(s,u.batchId,i),yield Tc(s,u.changes),yield ji(s.remoteStore)}catch(u){const p=yt(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Ou(c,t){return cp.apply(this,arguments)}function cp(){return(cp=(0,a.A)(function*(c,t){const i=Ft(c);try{const s=yield function pI(c,t){const i=Ft(c),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const T=[];t.targetChanges.forEach((te,Ce)=>{const Ze=u.get(Ce);if(!Ze)return;T.push(i.Ur.removeMatchingKeys(p,te.removedDocuments,Ce).next(()=>i.Ur.addMatchingKeys(p,te.addedDocuments,Ce)));let At=Ze.withSequenceNumber(p.currentSequenceNumber);var hn,on,Bn;null!==t.targetMismatches.get(Ce)?At=At.withResumeToken(G.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):te.resumeToken.approximateByteSize()>0&&(At=At.withResumeToken(te.resumeToken,s)),u=u.insert(Ce,At),on=At,Bn=te,(0===(hn=Ze).resumeToken.approximateByteSize()||on.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&T.push(i.Ur.updateTargetData(p,At))});let S=Ro(),B=gr();if(t.documentUpdates.forEach(te=>{t.resolvedLimboDocuments.has(te)&&T.push(i.persistence.referenceDelegate.updateLimboDocument(p,te))}),T.push(hd(p,v,t.documentUpdates).next(te=>{S=te.Ps,B=te.Is})),!s.isEqual(yn.min())){const te=i.Ur.getLastRemoteSnapshotVersion(p).next(Ce=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));T.push(te)}return lt.waitFor(T).next(()=>v.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,S,B)).next(()=>S)}).then(p=>(i.os=u,p))}(i.localStore,t);t.targetChanges.forEach((u,p)=>{const v=i.Na.get(p);v&&(Ot(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.va=!0:u.modifiedDocuments.size>0?Ot(v.va):u.removedDocuments.size>0&&(Ot(v.va),v.va=!1))}),yield Tc(i,s,t)}catch(s){yield In(s)}})).apply(this,arguments)}function Jg(c,t,i){const s=Ft(c);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,v)=>{const T=v.view.Z_(t);T.snapshot&&u.push(T.snapshot)}),function(v,T){const S=Ft(v);S.onlineState=T;let B=!1;S.queries.forEach((te,Ce)=>{for(const Ze of Ce.j_)Ze.Z_(T)&&(B=!0)}),B&&Sh(S)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function mI(c,t,i){return lp.apply(this,arguments)}function lp(){return(lp=(0,a.A)(function*(c,t,i){const s=Ft(c);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),p=u&&u.key;if(p){let v=new Ur(an.comparator);v=v.insert(p,Ar.newNoDocument(p,yn.min()));const T=gr().add(p),S=new Xi(yn.min(),new Map,new Ur(An),v,T);yield Ou(s,S),s.Oa=s.Oa.remove(p),s.Na.delete(t),pp(s)}else yield Na(s.localStore,t,!1).then(()=>ku(s,t,i)).catch(In)})).apply(this,arguments)}function vI(c,t){return up.apply(this,arguments)}function up(){return(up=(0,a.A)(function*(c,t){const i=Ft(c),s=t.batch.batchId;try{const u=yield function Kf(c,t){const i=Ft(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(T,S,B,te){const Ce=B.batch,Ze=Ce.keys();let At=lt.resolve();return Ze.forEach(Qt=>{At=At.next(()=>te.getEntry(S,Qt)).next(hn=>{const on=B.docVersions.get(Qt);Ot(null!==on),hn.version.compareTo(on)<0&&(Ce.applyToRemoteDocument(hn,B),hn.isValidDocument()&&(hn.setReadTime(B.commitVersion),te.addEntry(hn)))})}),At.next(()=>T.mutationQueue.removeMutationBatch(S,Ce))}(i,s,t,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(T){let S=gr();for(let B=0;B<T.mutationResults.length;++B)T.mutationResults[B].transformResults.length>0&&(S=S.add(T.batch.mutations[B].key));return S}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);nm(i,s,null),tm(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Tc(i,u)}catch(u){yield In(u)}})).apply(this,arguments)}function yI(c,t,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,a.A)(function*(c,t,i){const s=Ft(c);try{const u=yield function(v,T){const S=Ft(v);return S.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let te;return S.mutationQueue.lookupMutationBatch(B,T).next(Ce=>(Ot(null!==Ce),te=Ce.keys(),S.mutationQueue.removeMutationBatch(B,Ce))).next(()=>S.mutationQueue.performConsistencyCheck(B)).next(()=>S.documentOverlayCache.removeOverlaysForBatchId(B,te,T)).next(()=>S.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(B,te)).next(()=>S.localDocuments.getDocuments(B,te))})}(s.localStore,t);nm(s,t,i),tm(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield Tc(s,u)}catch(u){yield In(u)}})).apply(this,arguments)}function em(){return(em=(0,a.A)(function*(c,t){const i=Ft(c);ec(i.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const T=Ft(v);return T.persistence.runTransaction("Get highest unacknowledged batch id","readonly",S=>T.mutationQueue.getHighestUnacknowledgedBatchId(S))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=yt(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function tm(c,t){(c.ka.get(t)||[]).forEach(i=>{i.resolve()}),c.ka.delete(t)}function nm(c,t,i){const s=Ft(c);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(t);p&&(i?p.reject(i):p.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function ku(c,t,i=null){c.sharedClientState.removeLocalQueryTarget(t);for(const s of c.Ma.get(t))c.Fa.delete(s),i&&c.Ca.$a(s,i);c.Ma.delete(t),c.isPrimaryClient&&c.La.gr(t).forEach(s=>{c.La.containsKey(s)||rm(c,s)})}function rm(c,t){c.xa.delete(t.path.canonicalString());const i=c.Oa.get(t);null!==i&&(Bl(c.remoteStore,i),c.Oa=c.Oa.remove(t),c.Na.delete(i),pp(c))}function hp(c,t,i){for(const s of i)s instanceof Xv?(c.La.addReference(s.key,t),fp(c,s)):s instanceof op?(gt("SyncEngine","Document no longer in limbo: "+s.key),c.La.removeReference(s.key,t),c.La.containsKey(s.key)||rm(c,s.key)):Xt()}function fp(c,t){const i=t.key,s=i.path.canonicalString();c.Oa.get(i)||c.xa.has(s)||(gt("SyncEngine","New document in limbo: "+i),c.xa.add(s),pp(c))}function pp(c){for(;c.xa.size>0&&c.Oa.size<c.maxConcurrentLimboResolutions;){const t=c.xa.values().next().value;c.xa.delete(t);const i=new an(Gn.fromString(t)),s=c.qa.next();c.Na.set(s,new Ph(i)),c.Oa=c.Oa.insert(i,s),Su(c.remoteStore,new $s(gi(To(i.path)),s,"TargetPurposeLimboResolution",J.oe))}}function Tc(c,t,i){return gp.apply(this,arguments)}function gp(){return gp=(0,a.A)(function*(c,t,i){const s=Ft(c),u=[],p=[],v=[];var T;s.Fa.isEmpty()||(s.Fa.forEach((T,S)=>{v.push(s.Ka(S,t,i).then(B=>{var te;if((B||i)&&s.isPrimaryClient){const Ce=B?!B.fromCache:null===(te=i?.targetChanges.get(S.targetId))||void 0===te?void 0:te.current;s.sharedClientState.updateQueryState(S.targetId,Ce?"current":"not-current")}if(B){u.push(B);const Ce=Ya.Wi(S.targetId,B);p.push(Ce)}}))}),yield Promise.all(v),s.Ca.d_(u),yield(T=(0,a.A)(function*(B,te){const Ce=Ft(B);try{yield Ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>lt.forEach(te,At=>lt.forEach(At.$i,Qt=>Ce.persistence.referenceDelegate.addReference(Ze,At.targetId,Qt)).next(()=>lt.forEach(At.Ui,Qt=>Ce.persistence.referenceDelegate.removeReference(Ze,At.targetId,Qt)))))}catch(Ze){if(!Wr(Ze))throw Ze;gt("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of te){const At=Ze.targetId;if(!Ze.fromCache){const Qt=Ce.os.get(At),on=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);Ce.os=Ce.os.insert(At,on)}}}),function S(B,te){return T.apply(this,arguments)})(s.localStore,p))}),gp.apply(this,arguments)}function Zv(c,t){return im.apply(this,arguments)}function im(){return(im=(0,a.A)(function*(c,t){const i=Ft(c);if(!i.currentUser.isEqual(t)){gt("SyncEngine","User change. New user:",t.toKey());const s=yield Wf(i.localStore,t);i.currentUser=t,(p=i).ka.forEach(T=>{T.forEach(S=>{S.reject(new de(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Tc(i,s.hs)}var p})).apply(this,arguments)}function II(c,t){const i=Ft(c),s=i.Na.get(t);if(s&&s.va)return gr().add(s.key);{let u=gr();const p=i.Ma.get(t);if(!p)return u;for(const v of p){const T=i.Fa.get(v);u=u.unionWith(T.view.Va)}return u}}function EI(c,t){return om.apply(this,arguments)}function om(){return(om=(0,a.A)(function*(c,t){const i=Ft(c),s=yield _c(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&hp(i,t.targetId,u.wa),u})).apply(this,arguments)}function Jv(c,t){return ey.apply(this,arguments)}function ey(){return(ey=(0,a.A)(function*(c,t){const i=Ft(c);return pd(i.localStore,t).then(s=>Tc(i,s))})).apply(this,arguments)}function ty(c,t,i,s){return sm.apply(this,arguments)}function sm(){return(sm=(0,a.A)(function*(c,t,i,s){const u=Ft(c),p=yield function(T,S){const B=Ft(T),te=Ft(B.mutationQueue);return B.persistence.runTransaction("Lookup mutation documents","readonly",Ce=>te.Mn(Ce,S).next(Ze=>Ze?B.localDocuments.getDocuments(Ce,Ze):lt.resolve(null)))}(u.localStore,t);var S;null!==p?("pending"===i?yield ji(u.remoteStore):"acknowledged"===i||"rejected"===i?(nm(u,t,s||null),tm(u,t),S=t,Ft(Ft(u.localStore).mutationQueue).On(S)):Xt(),yield Tc(u,p)):gt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ny(){return(ny=(0,a.A)(function*(c,t){const i=Ft(c);if(Fu(i),iy(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield ry(i,s.toArray());i.Qa=!0,yield f(i.remoteStore,!0);for(const p of u)Su(i.remoteStore,p)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,v)=>{i.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(ku(i,v),Na(i.localStore,v,!0))),Bl(i.remoteStore,v)}),yield u,yield ry(i,s),function(v){const T=Ft(v);T.Na.forEach((S,B)=>{Bl(T.remoteStore,B)}),T.La.pr(),T.Na=new Map,T.Oa=new Ur(an.comparator)}(i),i.Qa=!1,yield f(i.remoteStore,!1)}})).apply(this,arguments)}function ry(c,t,i){return mp.apply(this,arguments)}function mp(){return(mp=(0,a.A)(function*(c,t,i){const s=Ft(c),u=[],p=[];for(const v of t){let T;const S=s.Ma.get(v);if(S&&0!==S.length){T=yield yc(s.localStore,gi(S[0]));for(const B of S){const te=s.Fa.get(B),Ce=yield EI(s,te);Ce.snapshot&&p.push(Ce.snapshot)}}else{const B=yield fd(s.localStore,v);T=yield yc(s.localStore,B),yield Yg(s,vp(B),v,!1,T.resumeToken)}u.push(T)}return s.Ca.d_(p),u})).apply(this,arguments)}function vp(c){return Ns(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function TI(c){return i=Ft(c).localStore,Ft(Ft(i).persistence).Qi();var i}function Gl(c,t,i,s){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,a.A)(function*(c,t,i,s){const u=Ft(c);if(u.Qa)return void gt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(t);if(p&&p.length>0)switch(i){case"current":case"not-current":{const v=yield pd(u.localStore,Ha(p[0])),T=Xi.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,G.EMPTY_BYTE_STRING);yield Tc(u,v,T);break}case"rejected":yield Na(u.localStore,t,!0),ku(u,t,s);break;default:Xt()}})).apply(this,arguments)}function DI(c,t,i){return yp.apply(this,arguments)}function yp(){return(yp=(0,a.A)(function*(c,t,i){const s=Fu(c);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){gt("SyncEngine","Adding an already active target "+u);continue}const p=yield fd(s.localStore,u),v=yield yc(s.localStore,p);yield Yg(s,vp(p),v.targetId,!1,v.resumeToken),Su(s.remoteStore,v)}for(const u of i)s.Ma.has(u)&&(yield Na(s.localStore,u,!1).then(()=>{Bl(s.remoteStore,u),ku(s,u)}).catch(In))}})).apply(this,arguments)}function Fu(c){const t=Ft(c);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ou.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mI.bind(null,t),t.Ca.d_=Gg.bind(null,t.eventManager),t.Ca.$a=rp.bind(null,t.eventManager),t}function iy(c){const t=Ft(c);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,t),t}let Sd=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var s=this;return(0,a.A)(function*(){s.serializer=$i(i.databaseInfo.databaseId),s.sharedClientState=s.Wa(i),s.persistence=s.Ga(i),yield s.persistence.start(),s.localStore=s.za(i),s.gcScheduler=s.ja(i,s.localStore),s.indexBackfillerScheduler=s.Ha(i,s.localStore)})()}ja(i,s){return null}Ha(i,s){return null}za(i){return mh(this.persistence,new Gf,i.initialUser,this.serializer)}Ga(i){return new ud(Ss.Zr,this.serializer)}Wa(i){return new Au}terminate(){var i=this;return(0,a.A)(function*(){var s,u;null===(s=i.gcScheduler)||void 0===s||s.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class am extends Sd{constructor(t,i,s){super(),this.Ja=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,a.A)(function*(){yield i().call(s,t),yield s.Ja.initialize(s,t),yield iy(s.Ja.syncEngine),yield ji(s.Ja.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return mh(this.persistence,new Gf,t.initialUser,this.serializer)}ja(t,i){return new lh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}Ha(t,i){const s=new Ne(i,this.persistence);return new yi(t.asyncQueue,s)}Ga(t){const i=xl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new dd(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,Wc(),Ja(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new Au}}class bI extends am{constructor(t,i){super(t,i,!1),this.Ja=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,a.A)(function*(){yield i().call(s,t);const u=s.Ja.syncEngine;s.sharedClientState instanceof md&&(s.sharedClientState.syncEngine={no:ty.bind(null,u),ro:Gl.bind(null,u),io:DI.bind(null,u),Qi:TI.bind(null,u),eo:Jv.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,a.A)(function*(v){yield function CI(c,t){return ny.apply(this,arguments)}(s.Ja.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}Wa(t){const i=Wc();if(!md.D(i))throw new de(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=xl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new md(i,t.asyncQueue,s,t.clientId,t.initialUser)}}let Nh=(()=>{class c{initialize(i,s){var u=this;return(0,a.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(s),u.remoteStore=u.createRemoteStore(s),u.eventManager=u.createEventManager(s),u.syncEngine=u.createSyncEngine(s,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=p=>Jg(u.syncEngine,p,1),u.remoteStore.remoteSyncer.handleCredentialChange=Zv.bind(null,u.syncEngine),yield f(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Hi}createDatastore(i){const s=$i(i.databaseInfo.databaseId),u=new Ih(i.databaseInfo);return new Zf(i.authCredentials,i.appCheckCredentials,u,s)}createRemoteStore(i){return u=this.localStore,p=this.datastore,v=i.asyncQueue,T=s=>Jg(this.syncEngine,s,0),S=_h.D()?new _h:new vd,new Hg(u,p,v,T,S);var u,p,v,T,S}createSyncEngine(i,s){return function(p,v,T,S,B,te,Ce){const Ze=new Qv(p,v,T,S,B,te);return Ce&&(Ze.Qa=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}terminate(){var i=this;return(0,a.A)(function*(){var s,u,p;yield(p=(0,a.A)(function*(T){const S=Ft(T);gt("RemoteStore","RemoteStore shutting down."),S.L_.add(5),yield da(S),S.k_.shutdown(),S.q_.set("Unknown")}),function v(T){return p.apply(this,arguments)})(i.remoteStore),null===(s=i.datastore)||void 0===s||s.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();function Oh(c,t=10240){let i=0;return{read:()=>(0,a.A)(function*(){if(i<c.byteLength){const s={value:c.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,a.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _p{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ut("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,i){setTimeout(()=>{this.muted||t(i)},0)}}class cm{constructor(t,i){this.Xa=t,this.serializer=i,this.metadata=new ut,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.aa)}`))},s=>this.metadata.reject(s))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,a.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,a.A)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,a.A)(function*(){const i=yield t.nu();if(null===i)return null;const s=t.eu.decode(i),u=Number(s);isNaN(u)&&t.ru(`length string (${s}) is not valid number`);const p=yield t.iu(u);return new ip(JSON.parse(p),i.length+u)})()}su(){return this.buffer.findIndex(t=>123===t)}nu(){var t=this;return(0,a.A)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const i=t.su();i<0&&t.ru("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}iu(t){var i=this;return(0,a.A)(function*(){for(;i.buffer.length<t;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const s=i.eu.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,a.A)(function*(){const i=yield t.Xa.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class lm{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,a.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new de(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,a.A)(function*(v,T){const S=Ft(v),B={documents:T.map(At=>ba(S.serializer,At))},te=yield S.Lo("BatchGetDocuments",S.serializer.databaseId,Gn.emptyPath(),B,T.length),Ce=new Map;te.forEach(At=>{const Qt=function xg(c,t){return"found"in t?function(s,u){Ot(!!u.found);const p=ws(s,u.found.name),v=ci(u.found.updateTime),T=u.found.createTime?ci(u.found.createTime):yn.min(),S=new Zr({mapValue:{fields:u.found.fields}});return Ar.newFoundDocument(p,v,T,S)}(c,t):"missing"in t?function(s,u){Ot(!!u.missing),Ot(!!u.readTime);const p=ws(s,u.missing),v=ci(u.readTime);return Ar.newNoDocument(p,v)}(c,t):Xt()}(S.serializer,At);Ce.set(Qt.key.toString(),Qt)});const Ze=[];return T.forEach(At=>{const Qt=Ce.get(At.toString());Ot(!!Qt),Ze.push(Qt)}),Ze}),function p(v,T){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sr(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,a.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=an.fromPath(u);t.mutations.push(new Si(p,t.precondition(p)))}),yield(s=(0,a.A)(function*(p,v){const T=Ft(p),S={writes:v.map(B=>b(T.serializer,B))};yield T.Mo("Commit",T.serializer.databaseId,Gn.emptyPath(),S)}),function u(p,v){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Xt();i=yn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new de(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(yn.min())?H.exists(!1):H.updateTime(i):H.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(yn.min()))throw new de(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return H.updateTime(i)}return H.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Rd{constructor(t,i,s,u,p){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this._u=s.maxAttempts,this.t_=new Eh(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,a.A)(function*(){const i=new lm(t.datastore),s=t.cu(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(p=>{t.lu(p)}))}).catch(u=>{t.lu(u)})}))}cu(t){try{const i=this.updateFunction(t);return!O(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Ls(i)}return!1}}class Ip{constructor(t,i,s,u,p){var v=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=le.UNAUTHENTICATED,this.clientId=Mr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=p,this.authCredentials.start(s,function(){var T=(0,a.A)(function*(S){gt("FirestoreClient","Received user=",S.uid),yield v.authCredentialListener(S),v.user=S});return function(S){return T.apply(this,arguments)}}()),this.appCheckCredentials.start(s,T=>(gt("FirestoreClient","Received new app check token=",T),this.appCheckCredentialListener(T,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=yt(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function kh(c,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,a.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield t.initialize(i);let s=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,a.A)(function*(p){s.isEqual(p)||(yield Wf(t.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=t}),Vu.apply(this,arguments)}function Fh(c,t){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress();const i=yield Vh(c);gt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,c.configuration),c.setCredentialChangeListener(s=>y(t.remoteStore,s)),c.setAppCheckTokenChangeListener((s,u)=>y(t.remoteStore,u)),c._onlineComponents=t})).apply(this,arguments)}function Vh(c){return Md.apply(this,arguments)}function Md(){return(Md=(0,a.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kh(c,c._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(u=t).name?u.code===ht.FAILED_PRECONDITION||u.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw t;un("Error using user provided cache. Falling back to memory cache: "+t),yield kh(c,new Sd)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield kh(c,new Sd);var u;return c._offlineComponents})).apply(this,arguments)}function Kl(c){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,a.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Fh(c,c._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield Fh(c,new Nh))),c._onlineComponents})).apply(this,arguments)}function AI(c){return Vh(c).then(t=>t.persistence)}function ql(c){return Vh(c).then(t=>t.localStore)}function Pd(c){return Kl(c).then(t=>t.remoteStore)}function um(c){return Kl(c).then(t=>t.syncEngine)}function xd(c){return hm.apply(this,arguments)}function hm(){return(hm=(0,a.A)(function*(c){const t=yield Kl(c),i=t.eventManager;return i.onListen=Kg.bind(null,t.syncEngine),i.onUnlisten=Zg.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=gI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=ap.bind(null,t.syncEngine),i})).apply(this,arguments)}function sy(c,t,i={}){const s=new ut;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(p,v,T,S,B){const te=new _p({next:Ze=>{te.Za(),v.enqueueAndForget(()=>Td(p,Ce));const At=Ze.docs.has(T);!At&&Ze.fromCache?B.reject(new de(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):At&&Ze.fromCache&&S&&"server"===S.source?B.reject(new de(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ze)},error:Ze=>B.reject(Ze)}),Ce=new Cc(To(T.path),te,{includeMetadataChanges:!0,_a:!0});return zl(p,Ce)}(yield xd(c),c.asyncQueue,t,i,s)})),s.promise}function pm(c,t,i={}){const s=new ut;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function(p,v,T,S,B){const te=new _p({next:Ze=>{te.Za(),v.enqueueAndForget(()=>Td(p,Ce)),Ze.fromCache&&"server"===S.source?B.reject(new de(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ze)},error:Ze=>B.reject(Ze)}),Ce=new Cc(T,te,{includeMetadataChanges:!0,_a:!0});return zl(p,Ce)}(yield xd(c),c.asyncQueue,t,i,s)})),s.promise}function Cp(c){const t={};return void 0!==c.timeoutSeconds&&(t.timeoutSeconds=c.timeoutSeconds),t}const mm=new Map;function vm(c,t,i){if(!i)throw new de(ht.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${t}.`)}function ym(c,t,i,s){if(!0===t&&!0===s)throw new de(ht.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function Tp(c){if(!an.isDocumentKey(c))throw new de(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function _m(c){if(an.isDocumentKey(c))throw new de(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Dc(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const t=(s=c).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof c?"a function":Xt()}function Hr(c,t){if("_delegate"in c&&(c=c._delegate),!(c instanceof t)){if(t.name===c.constructor.name)throw new de(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dc(c);throw new de(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return c}function $h(c,t){if(t<=0)throw new de(ht.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${t}.`)}class Im{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new de(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new de(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ym("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cp(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new de(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new de(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new de(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nd{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new de(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new sn;switch(s.type){case"firstParty":return new gn(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,a.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=mm.get(i);s&&(gt("ComponentProvider","Removing Datastore"),mm.delete(i),s.terminate())}(this),Promise.resolve()}}class xo{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xo(this.firestore,t,this._query)}}class ki{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ki(this.firestore,t,this._key)}}class fa extends xo{constructor(t,i,s){super(t,i,To(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ki(this.firestore,null,new an(t))}withConverter(t){return new fa(this.firestore,t,this._path)}}function Dp(c,t,...i){if(c=(0,Ge.Ku)(c),vm("collection","path",t),c instanceof Nd){const s=Gn.fromString(t,...i);return _m(s),new fa(c,null,s)}{if(!(c instanceof ki||c instanceof fa))throw new de(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(Gn.fromString(t,...i));return _m(s),new fa(c.firestore,null,s)}}function wp(c,t,...i){if(c=(0,Ge.Ku)(c),1===arguments.length&&(t=Mr.newId()),vm("doc","path",t),c instanceof Nd){const s=Gn.fromString(t,...i);return Tp(s),new ki(c,null,new an(s))}{if(!(c instanceof ki||c instanceof fa))throw new de(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=c._path.child(Gn.fromString(t,...i));return Tp(s),new ki(c.firestore,c instanceof fa?c.converter:null,new an(s))}}function ay(c,t){return c=(0,Ge.Ku)(c),t=(0,Ge.Ku)(t),(c instanceof ki||c instanceof fa)&&(t instanceof ki||t instanceof fa)&&c.firestore===t.firestore&&c.path===t.path&&c.converter===t.converter}function cy(c,t){return c=(0,Ge.Ku)(c),t=(0,Ge.Ku)(t),c instanceof xo&&t instanceof xo&&c.firestore===t.firestore&&Js(c._query,t._query)&&c.converter===t.converter}class jh{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Eh(this,"async_queue_retry"),this.Vu=()=>{const s=Ja();s&&gt("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=t;const i=Ja();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const i=Ja();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,a.A)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(i){if(!Wr(i))throw i;gt("AsyncQueue","Operation failed with retryable error: "+i)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const i=this.mu.then(()=>(this.du=!0,t().catch(s=>{throw this.Eu=s,this.du=!1,Ut("INTERNAL UNHANDLED ERROR: ",function(v){let T=v.message||"";return v.stack&&(T=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),T}(s)),s}).then(s=>(this.du=!1,s))));return this.mu=i,i}enqueueAfterDelay(t,i,s){this.fu(),this.Ru.indexOf(t)>-1&&(i=0);const u=We.createAndSchedule(this,t,i,s,p=>this.yu(p));return this.Tu.push(u),u}fu(){this.Eu&&Xt()}verifyOperationInProgress(){}wu(){var t=this;return(0,a.A)(function*(){let i;do{i=t.mu,yield i}while(i!==t.mu)})()}Su(t){for(const i of this.Tu)if(i.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const i=this.Tu.indexOf(t);this.Tu.splice(i,1)}}function Hh(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class ly{constructor(){this._progressObserver={},this._taskCompletionResolver=new ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Di extends Nd{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new jh,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,a.A)(function*(){if(t._firestoreClient){const i=t._firestoreClient.terminate();t._queue=new jh(i),t._firestoreClient=void 0,yield i}})()}}function Qi(c){if(c._terminated)throw new de(ht.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||dy(c),c._firestoreClient}function dy(c){var t,i,s;const u=c._freezeSettings(),p=(S=(null===(t=c._app)||void 0===t?void 0:t.options.appId)||"",new st(c._databaseId,S,c._persistenceKey,(te=u).host,te.ssl,te.experimentalForceLongPolling,te.experimentalAutoDetectLongPolling,Cp(te.experimentalLongPollingOptions),te.useFetchStreams));var S,te;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(s=u.localCache)||void 0===s)&&s._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new Ip(c._authCredentials,c._appCheckCredentials,c._queue,p,c._componentsProvider&&function(T){const S=T?._online.build();return{_offline:T?._offline.build(S),_online:S}}(c._componentsProvider))}function wc(){return(wc=(0,a.A)(function*(c){un("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=c._freezeSettings();kd(c,Nh.provider,{build:i=>new bI(i,t.cacheSizeBytes)})})).apply(this,arguments)}function kd(c,t,i){if((c=Hr(c,Di))._firestoreClient||c._terminated)throw new de(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(c._componentsProvider||c._getSettings().localCache)throw new de(ht.FAILED_PRECONDITION,"SDK cache is already specified.");c._componentsProvider={_online:t,_offline:i},dy(c)}class bc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new bc(G.fromBase64String(t))}catch(i){throw new de(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new bc(G.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Qc{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new de(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ms{constructor(t){this._methodName=t}}class Xl{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new de(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new de(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return An(this._lat,t._lat)||An(this._long,t._long)}}class Gh{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,t._values)}}const py=/^__.*__$/;class gy{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Er(t,this.data,i,this.fieldTransforms)}}class FI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function VI(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class Cm{constructor(t,i,s,u,p,v){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.vu(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Cm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.Ou(t),u}Nu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Fu({path:s,xu:!1});return u.vu(),u}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Zc(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(VI(this.Cu)&&py.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class Tm{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||$i(t)}Qu(t,i,s,u=!1){return new Cm({Cu:t,methodName:i,qu:s,path:ar.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(c){const t=c._freezeSettings(),i=$i(c._databaseId);return new Tm(c._databaseId,!!t.ignoreUndefinedProperties,i)}function Dm(c,t,i,s,u,p={}){const v=c.Qu(p.merge||p.mergeFields?2:0,t,i,u);Fd("Data must be an object, but it was:",v,s);const T=my(s,v);let S,B;if(p.merge)S=new Ei(v.fieldMask),B=v.fieldTransforms;else if(p.mergeFields){const te=[];for(const Ce of p.mergeFields){const Ze=Wh(t,Ce,i);if(!v.contains(Ze))throw new de(ht.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);vy(te,Ze)||te.push(Ze)}S=new Ei(te),B=v.fieldTransforms.filter(Ce=>S.covers(Ce.field))}else S=null,B=v.fieldTransforms;return new gy(new Zr(T),S,B)}class bp extends Ms{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bp}}function wm(c,t,i){return new Cm({Cu:3,qu:t.settings.qu,methodName:c._methodName,xu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class bm extends Ms{_toFieldTransform(t){return new D(t.path,new na)}isEqual(t){return t instanceof bm}}class Am extends Ms{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=wm(this,t,!0),s=this.Ku.map(p=>Lu(p,i)),u=new ra(s);return new D(t.path,u)}isEqual(t){return t instanceof Am&&(0,Ge.bD)(this.Ku,t.Ku)}}class Sm extends Ms{constructor(t,i){super(t),this.Ku=i}_toFieldTransform(t){const i=wm(this,t,!0),s=this.Ku.map(p=>Lu(p,i)),u=new ia(s);return new D(t.path,u)}isEqual(t){return t instanceof Sm&&(0,Ge.bD)(this.Ku,t.Ku)}}class Rm extends Ms{constructor(t,i){super(t),this.$u=i}_toFieldTransform(t){const i=new $o(t.serializer,hu(t.serializer,this.$u));return new D(t.path,i)}isEqual(t){return t instanceof Rm&&this.$u===t.$u}}function Mm(c,t,i,s){const u=c.Qu(1,t,i);Fd("Data must be an object, but it was:",u,s);const p=[],v=Zr.empty();uo(s,(S,B)=>{const te=Sp(t,S,i);B=(0,Ge.Ku)(B);const Ce=u.Nu(te);if(B instanceof bp)p.push(te);else{const Ze=Lu(B,Ce);null!=Ze&&(p.push(te),v.set(te,Ze))}});const T=new Ei(p);return new FI(v,T,u.fieldTransforms)}function Ap(c,t,i,s,u,p){const v=c.Qu(1,t,i),T=[Wh(t,s,i)],S=[u];if(p.length%2!=0)throw new de(ht.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<p.length;Ze+=2)T.push(Wh(t,p[Ze])),S.push(p[Ze+1]);const B=[],te=Zr.empty();for(let Ze=T.length-1;Ze>=0;--Ze)if(!vy(B,T[Ze])){const At=T[Ze];let Qt=S[Ze];Qt=(0,Ge.Ku)(Qt);const hn=v.Nu(At);if(Qt instanceof bp)B.push(At);else{const on=Lu(Qt,hn);null!=on&&(B.push(At),te.set(At,on))}}const Ce=new Ei(B);return new FI(te,Ce,v.fieldTransforms)}function Pm(c,t,i,s=!1){return Lu(i,c.Qu(s?4:3,t))}function Lu(c,t){if(xm(c=(0,Ge.Ku)(c)))return Fd("Unsupported field value:",t,c),my(c,t);if(c instanceof Ms)return function(s,u){if(!VI(u.Cu))throw u.Bu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,t),null;if(void 0===c&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),c instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(s,u){const p=[];let v=0;for(const T of s){let S=Lu(T,u.Lu(v));null==S&&(S={nullValue:"NULL_VALUE"}),p.push(S),v++}return{arrayValue:{values:p}}}(c,t)}return function(s,u){if(null===(s=(0,Ge.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return hu(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Sn.fromDate(s);return{timestampValue:wo(u.serializer,p)}}if(s instanceof Sn){const p=new Sn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wo(u.serializer,p)}}if(s instanceof Xl)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bc)return{bytesValue:dc(u.serializer,s._byteString)};if(s instanceof ki){const p=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(p))throw u.Bu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:_l(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Gh)return T=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(S=>{if("number"!=typeof S)throw T.Bu("VectorValues must only contain numeric values.");return Es(T.serializer,S)})}}}}};var T;throw u.Bu(`Unsupported field value: ${Dc(s)}`)}(c,t)}function my(c,t){const i={};return Vi(c)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uo(c,(s,u)=>{const p=Lu(u,t.Mu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function xm(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Sn||c instanceof Xl||c instanceof bc||c instanceof ki||c instanceof Ms||c instanceof Gh)}function Fd(c,t,i){if(!xm(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Dc(i);throw t.Bu("an object"===s?c+" a custom object":c+" "+s)}var u}function Wh(c,t,i){if((t=(0,Ge.Ku)(t))instanceof Qc)return t._internalPath;if("string"==typeof t)return Sp(c,t);throw Zc("Field path arguments must be of type string or ",c,!1,void 0,i)}const Nm=new RegExp("[~\\*/\\[\\]]");function Sp(c,t,i){if(t.search(Nm)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new Qc(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Zc(c,t,i,s,u){const p=s&&!s.isEmpty(),v=void 0!==u;let T=`Function ${t}() called with invalid data`;i&&(T+=" (via `toFirestore()`)"),T+=". ";let S="";return(p||v)&&(S+=" (found",p&&(S+=` in field ${s}`),v&&(S+=` in document ${u}`),S+=")"),new de(ht.INVALID_ARGUMENT,T+c+S)}function vy(c,t){return c.some(i=>i.isEqual(t))}class Kh{constructor(t,i,s,u,p){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(qh("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class yy extends Kh{data(){return super.data()}}function qh(c,t){return"string"==typeof t?Sp(c,t):t instanceof Qc?t._internalPath:t._delegate._internalPath}function _y(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new de(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Om{}class Xh extends Om{}function Ql(c,t,...i){let s=[];t instanceof Om&&s.push(t),s=s.concat(i),function(p){const v=p.filter(S=>S instanceof Qh).length,T=p.filter(S=>S instanceof Vd).length;if(v>1||v>0&&T>0)throw new de(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)c=u._apply(c);return c}class Vd extends Xh{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new Vd(t,i,s)}_apply(t){const i=this._parse(t);return GI(t._query,i),new xo(t.firestore,t.converter,Os(t._query,i))}_parse(t){const i=Yc(t.firestore);return function(p,v,T,S,B,te,Ce){let Ze;if(B.isKeyField()){if("array-contains"===te||"array-contains-any"===te)throw new de(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${te}' queries on documentId().`);if("in"===te||"not-in"===te){zI(Ce,te);const At=[];for(const Qt of Ce)At.push(xp(S,p,Qt));Ze={arrayValue:{values:At}}}else Ze=xp(S,p,Ce)}else"in"!==te&&"not-in"!==te&&"array-contains-any"!==te||zI(Ce,te),Ze=Pm(T,"where",Ce,"in"===te||"not-in"===te);return Tr.create(B,te,Ze)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class Qh extends Om{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Qh(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:ur.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,p){let v=u;const T=p.getFlattenedFilters();for(const S of T)GI(v,S),v=Os(v,S)}(t._query,i),new xo(t.firestore,t.converter,Os(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class km extends Xh{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new km(t,i)}_apply(t){const i=function(u,p,v){if(null!==u.startAt)throw new de(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new de(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new to(p,v)}(t._query,this._field,this._direction);return new xo(t.firestore,t.converter,function(u,p){const v=u.explicitOrderBy.concat([p]);return new si(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class Yh extends Xh{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Yh(t,i,s)}_apply(t){return new xo(t.firestore,t.converter,ks(t._query,this._limit,this._limitType))}}class Mp extends Xh{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Mp(t,i,s)}_apply(t){const i=HI(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(p=i,new si((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class Pp extends Xh{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Pp(t,i,s)}_apply(t){const i=HI(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(p=i,new si((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function HI(c,t,i,s){if(i[0]=(0,Ge.Ku)(i[0]),i[0]instanceof Kh)return function(p,v,T,S,B){if(!S)throw new de(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${T}().`);const te=[];for(const Ce of ai(p))if(Ce.field.isKeyField())te.push(fr(v,S.key));else{const Ze=S.data.field(Ce.field);if(ve(Ze))throw new de(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const At=Ce.field.canonicalString();throw new de(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${At}' (used as the orderBy) does not exist.`)}te.push(Ze)}return new fo(te,B)}(c._query,c.firestore._databaseId,t,i[0]._document,s);{const u=Yc(c.firestore);return function(v,T,S,B,te,Ce){const Ze=v.explicitOrderBy;if(te.length>Ze.length)throw new de(ht.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const At=[];for(let Qt=0;Qt<te.length;Qt++){const hn=te[Qt];if(Ze[Qt].field.isKeyField()){if("string"!=typeof hn)throw new de(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof hn}`);if(!pi(v)&&-1!==hn.indexOf("/"))throw new de(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${hn}' contains a slash.`);const on=v.path.child(Gn.fromString(hn));if(!an.isDocumentKey(on))throw new de(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${on}' is not because it contains an odd number of segments.`);const Bn=new an(on);At.push(fr(T,Bn))}else{const on=Pm(S,B,hn);At.push(on)}}return new fo(At,Ce)}(c._query,c.firestore._databaseId,u,t,i,s)}}function xp(c,t,i){if("string"==typeof(i=(0,Ge.Ku)(i))){if(""===i)throw new de(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pi(t)&&-1!==i.indexOf("/"))throw new de(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Gn.fromString(i));if(!an.isDocumentKey(s))throw new de(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return fr(c,new an(s))}if(i instanceof ki)return fr(c,i._key);throw new de(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dc(i)}.`)}function zI(c,t){if(!Array.isArray(c)||0===c.length)throw new de(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GI(c,t){const i=function(u,p){for(const v of u)for(const T of v.getFlattenedFilters())if(p.indexOf(T.op)>=0)return T.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new de(ht.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Iy{convertValue(t,i="none"){switch(Wt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return F(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Y(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Xt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return uo(t,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(t){var i,s,u;const p=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>F(v.doubleValue));return new Gh(p)}convertGeoPoint(t){return new Xl(F(t.latitude),F(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Oe(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Re(t));default:return null}}convertTimestamp(t){const i=se(t);return new Sn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Gn.fromString(t);Ot(Aa(s));const u=new Lt(s.get(1),s.get(3)),p=new an(s.popFirst(5));return u.isEqual(i)||Ut(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function Vm(c,t,i){let s;return s=c?i&&(i.merge||i.mergeFields)?c.toFirestore(t,i):c.toFirestore(t):t,s}class KI extends Iy{constructor(t){super(),this.firestore=t}convertBytes(t){return new bc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ki(this.firestore,null,i)}}class Uu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jc extends Kh{constructor(t,i,s,u,p,v){super(t,i,s,u,v),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(qh("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Ld extends Jc{data(t={}){return super.data(t)}}class pa{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Ld(this._firestore,this._userDataWriter,s.key,s,new Uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(T=>({type:"added",doc:new Ld(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Uu(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(T=>p||3!==T.type).map(T=>{const S=new Ld(u._firestore,u._userDataWriter,T.doc.key,T.doc,new Uu(u._snapshot.mutatedKeys.has(T.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,te=-1;return 0!==T.type&&(B=v.indexOf(T.doc.key),v=v.delete(T.doc.key)),1!==T.type&&(v=v.add(T.doc),te=v.indexOf(T.doc.key)),{type:ga(T.type),doc:S,oldIndex:B,newIndex:te}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ga(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}function zs(c,t){return c instanceof Jc&&t instanceof Jc?c._firestore===t._firestore&&c._key.isEqual(t._key)&&(null===c._document?null===t._document:c._document.isEqual(t._document))&&c._converter===t._converter:c instanceof pa&&t instanceof pa&&c._firestore===t._firestore&&cy(c.query,t.query)&&c.metadata.isEqual(t.metadata)&&c._snapshot.isEqual(t._snapshot)}class Bu extends Iy{constructor(t){super(),this.firestore=t}convertBytes(t){return new bc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ki(this.firestore,null,i)}}function YI(c,t,i){c=Hr(c,ki);const s=Hr(c.firestore,Di),u=Vm(c.converter,t,i);return Yl(s,[Dm(Yc(s),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,H.none())])}function Zh(c,t,i,...s){c=Hr(c,ki);const u=Hr(c.firestore,Di),p=Yc(u);let v;return v="string"==typeof(t=(0,Ge.Ku)(t))||t instanceof Qc?Ap(p,"updateDoc",c._key,t,i,s):Mm(p,"updateDoc",c._key,t),Yl(u,[v.toMutation(c._key,H.exists(!0))])}function wy(c,...t){var i,s,u;c=(0,Ge.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof t[v]||Hh(t[v])||(p=t[v],v++);const T={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(Hh(t[v])){const Ce=t[v];t[v]=null===(i=Ce.next)||void 0===i?void 0:i.bind(Ce),t[v+1]=null===(s=Ce.error)||void 0===s?void 0:s.bind(Ce),t[v+2]=null===(u=Ce.complete)||void 0===u?void 0:u.bind(Ce)}let S,B,te;if(c instanceof ki)B=Hr(c.firestore,Di),te=To(c._key.path),S={next:Ce=>{t[v]&&t[v](Np(B,c,Ce))},error:t[v+1],complete:t[v+2]};else{const Ce=Hr(c,xo);B=Hr(Ce.firestore,Di),te=Ce._query;const Ze=new Bu(B);S={next:At=>{t[v]&&t[v](new pa(B,Ze,Ce,At))},error:t[v+1],complete:t[v+2]},_y(c._query)}return function(Ze,At,Qt,hn){const on=new _p(hn),Bn=new Cc(At,on,Qt);return Ze.asyncQueue.enqueueAndForget((0,a.A)(function*(){return zl(yield xd(Ze),Bn)})),()=>{on.Za(),Ze.asyncQueue.enqueueAndForget((0,a.A)(function*(){return Td(yield xd(Ze),Bn)}))}}(Qi(B),te,T,S)}function Yl(c,t){return function(s,u){const p=new ut;return s.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function RT(c,t,i){return Ho.apply(this,arguments)}(yield um(s),u,p)})),p.promise}(Qi(c),t)}function Np(c,t,i){const s=i.docs.get(t._key),u=new Bu(c);return new Jc(c,u,t._key,s,new Uu(i.hasPendingWrites,i.fromCache),t.converter)}const Hm={maxAttempts:5};class zm{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Yc(t)}set(t,i,s){this._verifyNotCommitted();const u=Gs(t,this._firestore),p=Vm(u.converter,i,s),v=Dm(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,H.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const p=Gs(t,this._firestore);let v;return v="string"==typeof(i=(0,Ge.Ku)(i))||i instanceof Qc?Ap(this._dataReader,"WriteBatch.update",p._key,i,s,u):Mm(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(v.toMutation(p._key,H.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Gs(t,this._firestore);return this._mutations=this._mutations.concat(new Sr(i._key,H.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gs(c,t){if((c=(0,Ge.Ku)(c)).firestore!==t)throw new de(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class Ry extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=Yc(i)}get(i){const s=Gs(i,this._firestore),u=new KI(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return Xt();const v=p[0];if(v.isFoundDocument())return new Kh(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new Kh(this._firestore,u,s._key,null,s.converter);throw Xt()})}set(i,s,u){const p=Gs(i,this._firestore),v=Vm(p.converter,s,u),T=Dm(this._dataReader,"Transaction.set",p._key,v,null!==p.converter,u);return this._transaction.set(p._key,T),this}update(i,s,u,...p){const v=Gs(i,this._firestore);let T;return T="string"==typeof(s=(0,Ge.Ku)(s))||s instanceof Qc?Ap(this._dataReader,"Transaction.update",v._key,s,u,p):Mm(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,T),this}delete(i){const s=Gs(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Gs(t,this._firestore),s=new Bu(this._firestore);return super.get(t).then(u=>new Jc(this._firestore,s,i._key,u._document,new Uu(!1,!1),i.converter))}}function Lp(c,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new de("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return t}function qm(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function $u(){if(!function pr(){return typeof atob<"u"}())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){qe=ct.SDK_VERSION,(0,ct._registerComponent)(new Ie.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const v=s.getProvider("app").getImmediate(),T=new Di(new kn(s.getProvider("auth-internal")),new Kn(s.getProvider("app-check-internal")),function(B,te){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new de(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lt(B.options.projectId,te)}(v,u),v);return p=Object.assign({useFetchStreams:i},p),T._setSettings(p),T},"PUBLIC").setMultipleInstances(!0)),(0,ct.registerVersion)(Ye,"4.7.3",t),(0,ct.registerVersion)(Ye,"4.7.3","esm2017")}();class Bd{constructor(t){this._delegate=t}static fromBase64String(t){return $u(),new Bd(bc.fromBase64String(t))}static fromUint8Array(t){return qm(),new Bd(bc.fromUint8Array(t))}toBase64(){return $u(),this._delegate.toBase64()}toUint8Array(){return qm(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Up(c){return function aE(c,t){if("object"!=typeof c||null===c)return!1;const i=c;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(c,["next","error","complete"])}class Bp{enableIndexedDbPersistence(t,i){return function xI(c,t){un("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings();return kd(c,Nh.provider,{build:s=>new am(s,i.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function NI(c){return wc.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function OI(c){if(c._initialized&&!c._terminated)throw new de(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ut;return c._queue.enqueueAndForgetEvenWhileRestricted((0,a.A)(function*(){try{yield(i=(0,a.A)(function*(u){if(!$n.D())return Promise.resolve();const p=u+"main";yield $n.delete(p)}),function s(u){return i.apply(this,arguments)})(xl(c._databaseId,c._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class Jl{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Lt||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&un("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function Em(c,t,i,s={}){var u;const p=(c=Hr(c,Nd))._getSettings(),v=`${t}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==v&&un("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},p),{host:v,ssl:!1})),s.mockUserToken){let T,S;if("string"==typeof s.mockUserToken)T=s.mockUserToken,S=le.MOCK_USER;else{T=(0,Ge.Fy)(s.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const B=s.mockUserToken.sub||s.mockUserToken.user_id;if(!B)throw new de(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new le(B)}c._authCredentials=new Jn(new Rt(T,S))}}(this._delegate,t,i,s)}enableNetwork(){return function kT(c){return function fm(c){return c.asyncQueue.enqueue((0,a.A)(function*(){const t=yield AI(c),i=yield Pd(c);return t.setNetworkEnabled(!0),function(u){const p=Ft(u);return p.L_.delete(0),Vl(p)}(i)}))}(Qi(c=Hr(c,Di)))}(this._delegate)}disableNetwork(){return function FT(c){return function oy(c){return c.asyncQueue.enqueue((0,a.A)(function*(){const t=yield AI(c),i=yield Pd(c);return t.setNetworkEnabled(!1),(s=(0,a.A)(function*(p){const v=Ft(p);v.L_.add(0),yield da(v),v.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(Qi(c=Hr(c,Di)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,ym("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OT(c){return function(i){const s=new ut;return i.asyncQueue.enqueueAndForget((0,a.A)(function*(){return function _I(c,t){return em.apply(this,arguments)}(yield um(i),s)})),s.promise}(Qi(c=Hr(c,Di)))}(this._delegate)}onSnapshotsInSync(t){return function Ud(c,t){return function RI(c,t){const i=new _p(t);return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield xd(c),p=i,Ft(u).Y_.add(p),void p.next();var u,p})),()=>{i.Za(),c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return u=yield xd(c),p=i,void Ft(u).Y_.delete(p);var u,p}))}}(Qi(c=Hr(c,Di)),Hh(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new jd(this,Dp(this._delegate,t))}catch(i){throw fs(i,"collection()","Firestore.collection()")}}doc(t){try{return new Ws(this,wp(this._delegate,t))}catch(i){throw fs(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ps(this,function Od(c,t){if(c=Hr(c,Nd),vm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new de(ht.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(c,null,(s=t,new si(Gn.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw fs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function My(c,t,i){c=Hr(c,Di);const s=Object.assign(Object.assign({},Hm),i);return function(p){if(p.maxAttempts<1)throw new de(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,v,T){const S=new ut;return p.asyncQueue.enqueueAndForget((0,a.A)(function*(){const B=yield function dm(c){return Kl(c).then(t=>t.datastore)}(p);new Rd(p.asyncQueue,B,T,v,S).au()})),S.promise}(Qi(c),u=>t(new Ry(c,u)),s)}(this._delegate,i=>t(new Xm(this,i)))}batch(){return Qi(this._delegate),new $p(new zm(this._delegate,t=>Yl(this._delegate,t)))}loadBundle(t){return function VT(c,t){const i=Qi(c=Hr(c,Di)),s=new ly;return function PT(c,t,i,s){const u=function(v,T){let S;return S="string"==typeof v?hi().encode(v):v,te=function(te){if(te instanceof Uint8Array)return Oh(te,void 0);if(te instanceof ArrayBuffer)return Oh(new Uint8Array(te),void 0);if(te instanceof ReadableStream)return te.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(S),new cm(te,T);var te}(i,$i(t));c.asyncQueue.enqueueAndForget((0,a.A)(function*(){!function MT(c,t,i){const s=Ft(c);var u;(u=(0,a.A)(function*(v,T,S){try{const B=yield T.getMetadata();if(yield function(Qt,hn){const on=Ft(Qt),Bn=ci(hn.createTime);return on.persistence.runTransaction("hasNewerBundle","readonly",Zn=>on.Gr.getBundleMetadata(Zn,hn.id)).then(Zn=>!!Zn&&Zn.createTime.compareTo(Bn)>=0)}(v.localStore,B))return yield T.close(),S._completeWith({taskState:"Success",documentsLoaded:(Qt=B).totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}),Promise.resolve(new Set);S._updateProgress(bd(B));const te=new Rh(B,v.localStore,T.serializer);let Ce=yield T.Ua();for(;Ce;){const At=yield te.la(Ce);At&&S._updateProgress(At),Ce=yield T.Ua()}const Ze=yield te.complete();return yield Tc(v,Ze.Ia,void 0),yield function(Qt,hn){const on=Ft(Qt);return on.persistence.runTransaction("Save bundle","readwrite",Bn=>on.Gr.saveBundleMetadata(Bn,hn))}(v.localStore,B),S._completeWith(Ze.progress),Promise.resolve(Ze.Pa)}catch(B){return un("SyncEngine",`Loading bundle failed with ${B}`),S._failWith(B),Promise.resolve(new Set)}var Qt}),function p(v,T,S){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield um(c),u,s)}))}(i,c._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function hy(c,t){return function xT(c,t){return c.asyncQueue.enqueue((0,a.A)(function*(){return function(s,u){const p=Ft(s);return p.persistence.runTransaction("Get named query","readonly",v=>p.Gr.getNamedQuery(v,u))}(yield ql(c),t)}))}(Qi(c=Hr(c,Di)),t).then(i=>i?new xo(c,null,i.query):null)}(this._delegate,t).then(i=>i?new ps(this,i):null)}}class $d extends Iy{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bd(new bc(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return Ws.forKey(i,this.firestore,null)}}class Xm{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new $d(t)}get(t){const i=ju(t);return this._delegate.get(i).then(s=>new nf(this._firestore,new Jc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=ju(t);return s?(Lp("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=ju(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=ju(t);return this._delegate.delete(i),this}}class $p{constructor(t){this._delegate=t}set(t,i,s){const u=ju(t);return s?(Lp("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const p=ju(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(t){const i=ju(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class el{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new Ld(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new rf(this._firestore,s),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=el.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let p=u.get(i);return p||(p=new el(t,new $d(t),i),u.set(i,p)),p}}el.INSTANCES=new WeakMap;class Ws{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new $d(t)}static forPath(t,i,s){if(t.length%2!=0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ws(i,new ki(i._delegate,s,new an(t)))}static forKey(t,i,s){return new Ws(i,new ki(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new jd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new jd(this.firestore,Dp(this._delegate,t))}catch(i){throw fs(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Ge.Ku)(t))instanceof ki&&ay(this._delegate,t)}set(t,i){i=Lp("DocumentReference.set",i);try{return i?YI(this._delegate,t,i):YI(this._delegate,t)}catch(s){throw fs(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?Zh(this._delegate,t):Zh(this._delegate,t,i,...s)}catch(u){throw fs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function Bm(c){return Yl(Hr(c.firestore,Di),[new Sr(c._key,H.none())])}(this._delegate)}onSnapshot(...t){const i=jp(t),s=By(t,u=>new nf(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return wy(this._delegate,i,s)}get(t){let i;return i="cache"===t?.source?function QI(c){c=Hr(c,ki);const t=Hr(c.firestore,Di),i=Qi(t),s=new Bu(t);return function SI(c,t){const i=new ut;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(p,v,T){try{const S=yield function(te,Ce){const Ze=Ft(te);return Ze.persistence.runTransaction("read document","readonly",At=>Ze.localDocuments.getDocument(At,Ce))}(p,v);S.isFoundDocument()?T.resolve(S):S.isNoDocument()?T.resolve(null):T.reject(new de(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(S){const B=yt(S,`Failed to get document '${v} from cache`);T.reject(B)}}),function u(p,v,T){return s.apply(this,arguments)})(yield ql(c),t,i);var s})),i.promise}(i,c._key).then(u=>new Jc(t,s,c._key,u,new Uu(null!==u&&u.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===t?.source?function $T(c){c=Hr(c,ki);const t=Hr(c.firestore,Di);return sy(Qi(t),c._key,{source:"server"}).then(i=>Np(t,c,i))}(this._delegate):function Cy(c){c=Hr(c,ki);const t=Hr(c.firestore,Di);return sy(Qi(t),c._key).then(i=>Np(t,c,i))}(this._delegate),i.then(s=>new nf(this.firestore,new Jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new Ws(this.firestore,this._delegate.withConverter(t?el.getInstance(this.firestore,t):null))}}function fs(c,t,i){return c.message=c.message.replace(t,i),c}function jp(c){for(const t of c)if("object"==typeof t&&!Up(t))return t;return{}}function By(c,t){var i,s;let u;return u=Up(c[0])?c[0]:Up(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:p=>{u.next&&u.next(t(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class nf{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new Ws(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return zs(this._delegate,t._delegate)}}class rf extends nf{data(t){const i=this._delegate.data(t);return this._delegate._converter||function Ln(c){c||Xt()}(void 0!==i),i}}class ps{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new $d(t)}where(t,i,s){try{return new ps(this.firestore,Ql(this._delegate,function LT(c,t,i){const s=t,u=qh("where",c);return Vd._create(u,s,i)}(t,i,s)))}catch(u){throw fs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new ps(this.firestore,Ql(this._delegate,function LI(c,t="asc"){const i=t,s=qh("orderBy",c);return km._create(s,i)}(t,i)))}catch(s){throw fs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ps(this.firestore,Ql(this._delegate,function UI(c){return $h("limit",c),Yh._create("limit",c,"F")}(t)))}catch(i){throw fs(i,"limit()","Query.limit()")}}limitToLast(t){try{return new ps(this.firestore,Ql(this._delegate,function BI(c){return $h("limitToLast",c),Yh._create("limitToLast",c,"L")}(t)))}catch(i){throw fs(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ps(this.firestore,Ql(this._delegate,function $I(...c){return Mp._create("startAt",c,!0)}(...t)))}catch(i){throw fs(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ps(this.firestore,Ql(this._delegate,function jI(...c){return Mp._create("startAfter",c,!1)}(...t)))}catch(i){throw fs(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ps(this.firestore,Ql(this._delegate,function Fm(...c){return Pp._create("endBefore",c,!1)}(...t)))}catch(i){throw fs(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ps(this.firestore,Ql(this._delegate,function BT(...c){return Pp._create("endAt",c,!0)}(...t)))}catch(i){throw fs(i,"endAt()","Query.endAt()")}}isEqual(t){return cy(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function Ty(c){c=Hr(c,xo);const t=Hr(c.firestore,Di),i=Qi(t),s=new Bu(t);return function Uh(c,t){const i=new ut;return c.asyncQueue.enqueueAndForget((0,a.A)(function*(){return(s=(0,a.A)(function*(p,v,T){try{const S=yield _c(p,v,!0),B=new Wg(v,S.Ts),te=B.ma(S.documents),Ce=B.applyChanges(te,!1);T.resolve(Ce.snapshot)}catch(S){const B=yt(S,`Failed to execute query '${v} against cache`);T.reject(B)}}),function u(p,v,T){return s.apply(this,arguments)})(yield ql(c),t,i);var s})),i.promise}(i,c._query).then(u=>new pa(t,s,c,u))}(this._delegate):"server"===t?.source?function Dy(c){c=Hr(c,xo);const t=Hr(c.firestore,Di),i=Qi(t),s=new Bu(t);return pm(i,c._query,{source:"server"}).then(u=>new pa(t,s,c,u))}(this._delegate):function jT(c){c=Hr(c,xo);const t=Hr(c.firestore,Di),i=Qi(t),s=new Bu(t);return _y(c._query),pm(i,c._query).then(u=>new pa(t,s,c,u))}(this._delegate),i.then(s=>new Qm(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=jp(t),s=By(t,u=>new Qm(this.firestore,new pa(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return wy(this._delegate,i,s)}withConverter(t){return new ps(this.firestore,this._delegate.withConverter(t?el.getInstance(this.firestore,t):null))}}class cE{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new rf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Qm{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new rf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new cE(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new rf(this._firestore,s))})}isEqual(t){return zs(this._delegate,t._delegate)}}class jd extends ps{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ws(this.firestore,t):null}doc(t){try{return new Ws(this.firestore,void 0===t?wp(this._delegate):wp(this._delegate,t))}catch(i){throw fs(i,"doc()","CollectionReference.doc()")}}add(t){return function $m(c,t){const i=Hr(c.firestore,Di),s=wp(c),u=Vm(c.converter,t);return Yl(i,[Dm(Yc(c.firestore),"addDoc",s._key,u,null!==c.converter,{}).toMutation(s._key,H.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new Ws(this.firestore,i))}isEqual(t){return ay(this._delegate,t._delegate)}withConverter(t){return new jd(this.firestore,this._delegate.withConverter(t?el.getInstance(this.firestore,t):null))}}function ju(c){return Hr(c,ki)}class Hp{constructor(...t){this._delegate=new Qc(...t)}static documentId(){return new Hp(ar.keyField().canonicalString())}isEqual(t){return(t=(0,Ge.Ku)(t))instanceof Qc&&this._delegate._internalPath.isEqual(t._internalPath)}}class eu{constructor(t){this._delegate=t}static serverTimestamp(){const t=function rE(){return new bm("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new eu(t)}static delete(){const t=function Gm(){return new bp("deleteField")}();return t._methodName="FieldValue.delete",new eu(t)}static arrayUnion(...t){const i=function Py(...c){return new Am("arrayUnion",c)}(...t);return i._methodName="FieldValue.arrayUnion",new eu(i)}static arrayRemove(...t){const i=function xy(...c){return new Sm("arrayRemove",c)}(...t);return i._methodName="FieldValue.arrayRemove",new eu(i)}static increment(t){const i=function Ny(c){return new Rm("increment",c)}(t);return i._methodName="FieldValue.increment",new eu(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const lE={Firestore:Jl,GeoPoint:Xl,Timestamp:Sn,Blob:Bd,Transaction:Xm,WriteBatch:$p,DocumentReference:Ws,DocumentSnapshot:nf,Query:ps,QueryDocumentSnapshot:rf,QuerySnapshot:Qm,CollectionReference:jd,FieldPath:Hp,FieldValue:eu,setLogLevel:function tf(c){!function $t(c){Ee.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};function hE(c,t){return function dE(c,t=Ue.E){return new L.c(i=>{let s;return null!=t?t.schedule(()=>{s=c.onSnapshot({includeMetadataChanges:!0},i)}):s=c.onSnapshot({includeMetadataChanges:!0},i),()=>{s?.()}})}(c,t)}function zp(c,t){return hE(c,t).pipe((0,Me.T)(i=>({payload:i,type:"query"})))}!function Ks(c){(function uE(c,t){c.INTERNAL.registerComponent(new Ie.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},lE)))})(c,(t,i)=>new Jl(t,i,new Bp)),c.registerVersion("@firebase/firestore-compat","0.3.38")}(dt.A),N(762);class $y{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:p}=Kp(s,i);return new zy(u,p,this.afs)}snapshotChanges(){return function Ym(c,t){return hE(c,t).pipe((0,oe.Z)(void 0),Le(),(0,Me.T)(i=>{const[s,u]=i;return u.exists?s?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Me.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,He.H)(this.ref.get(t)).pipe(ce.U0)}}function Gp(c,t){return zp(c,t).pipe((0,oe.Z)(void 0),Le(),(0,Me.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),v=p.map(T=>({type:T.type,payload:T}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((T,S)=>{const B=p.find(Ce=>Ce.doc.ref.isEqual(T.ref)),te=s?.payload.docs.find(Ce=>Ce.ref.isEqual(T.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(T.metadata)||!B&&te&&JSON.stringify(te.metadata)===JSON.stringify(T.metadata)||v.push({type:"modified",payload:{oldIndex:S,newIndex:S,type:"modified",doc:T}})}),v}))}function jy(c,t,i){return Gp(c,i).pipe((0,nt.S)((s,u)=>function Hy(c,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(c=function fE(c,t){switch(t.type){case"added":if(!c[t.newIndex]||!c[t.newIndex].doc.ref.isEqual(t.doc.ref))return Zm(c,t.newIndex,0,t);break;case"modified":if(null==c[t.oldIndex]||c[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=c.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return Zm(c,t.newIndex,1,t)}break;case"removed":if(c[t.oldIndex]&&c[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Zm(c,t.oldIndex,1)}return c}(c,s))}),c}(s,u.map(p=>p.payload),t),[]),(0,Qe.F)(),(0,Me.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function Zm(c,t,i,...s){const u=c.slice();return u.splice(t,i,...s),u}function Wp(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class zy{ref;query;afs;constructor(t,i,s){this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=Gp(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,Me.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,oe.Z)(void 0),Le(),(0,Ve.p)(([s,u])=>u.length>0||!s),(0,Me.T)(([,s])=>s),ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,nt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=Wp(t);return jy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return zp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ce.U0)}get(t){return(0,He.H)(this.query.get(t)).pipe(ce.U0)}add(t){return this.ref.add(t)}doc(t){return new $y(this.ref.doc(t),this.afs)}}class pE{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Gp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,Ve.p)(i=>i.length>0),ce.U0):Gp(this.query,this.afs.schedulers.outsideAngular).pipe(ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,nt.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=Wp(t);return jy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return zp(this.query,this.afs.schedulers.outsideAngular).pipe((0,Me.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ce.U0)}get(t){return(0,He.H)(this.query.get(t)).pipe(ce.U0)}}const gE=new re.nKC("angularfire2.enableFirestorePersistence"),mE=new re.nKC("angularfire2.firestore.persistenceSettings"),vE=new re.nKC("angularfire2.firestore.settings"),Ac=new re.nKC("angularfire2.firestore.use-emulator");function Kp(c,t=i=>i){return{query:t(c),ref:c}}let yE=(()=>{class c{schedulers;firestore;persistenceEnabled$;constructor(i,s,u,p,v,T,S,B,te,Ce,Ze,At,Qt,hn,on,Bn,Zn){this.schedulers=S;const Hn=(0,Te.iB)(i,T,s),_r=te;Ce&&(0,Q.gF)(Hn,T,Ze,Qt,hn,on,At,Bn),[this.firestore,this.persistenceEnabled$]=(0,Te.BM)(`${Hn.name}.firestore`,"AngularFirestore",Hn.name,()=>{const zr=T.runOutsideAngular(()=>Hn.firestore());if(p&&zr.settings(p),_r&&zr.useEmulator(..._r),u&&!(0,be.Vy)(v)){const Or=()=>{try{return(0,He.H)(zr.enablePersistence(B||void 0).then(()=>!0,()=>!1))}catch(vt){return typeof console<"u"&&console.warn(vt),(0,ye.of)(!1)}};return[zr,T.runOutsideAngular(Or)]}return[zr,(0,ye.of)(!1)]},[p,_r,u])}collection(i,s){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:p,query:v}=Kp(u,s),T=this.schedulers.ngZone.run(()=>p);return new zy(T,v,this)}collectionGroup(i,s){const u=s||(v=>v),p=this.firestore.collectionGroup(i);return new pE(u(p),this)}doc(i){let s;s="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>s);return new $y(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||c)(re.KVO(Te.rx),re.KVO(Te.uP,8),re.KVO(gE,8),re.KVO(vE,8),re.KVO(re.Agw),re.KVO(re.SKi),re.KVO(ce.u0),re.KVO(mE,8),re.KVO(Ac,8),re.KVO(Q.DS,8),re.KVO(Q.CP,8),re.KVO(Q.yy,8),re.KVO(Q.ZP,8),re.KVO(Q.$z,8),re.KVO(Q.AU,8),re.KVO(Q.UB,8),re.KVO(ce.Jv,8))};static \u0275prov=re.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})(),Gy=(()=>{class c{constructor(i,s){this.afAuth=i,this.firestore=s}isAuthenticated(){var i=this;return(0,a.A)(function*(){return null!==(yield i.afAuth.currentUser)})()}saveUserData(i,s){var u=this;return(0,a.A)(function*(){return u.firestore.collection("users").doc(i).set(s)})()}login(i,s){var u=this;return(0,a.A)(function*(){return u.afAuth.signInWithEmailAndPassword(i,s)})()}register(i,s){var u=this;return(0,a.A)(function*(){return u.afAuth.createUserWithEmailAndPassword(i,s)})()}getUserData(){return new L.c(i=>{this.afAuth.currentUser.then(s=>{s?this.firestore.collection("users").doc(s.uid).valueChanges().subscribe(u=>{u?i.next(u):i.error(new Error("No se encontraron datos para este usuario."))},u=>i.error(u)):i.error(new Error("No hay usuario autenticado"))})})}cambiarContrasena(i){var s=this;return(0,a.A)(function*(){const u=yield s.afAuth.currentUser;if(!u)throw new Error("No hay usuario autenticado para cambiar la contrase\xf1a.");yield u.updatePassword(i),console.log("Contrase\xf1a cambiada exitosamente.")})()}logout(){var i=this;return(0,a.A)(function*(){try{yield i.afAuth.signOut(),console.log("Sesi\xf3n cerrada exitosamente.")}catch(s){throw console.error("Error al cerrar sesi\xf3n:",s),s}})()}static{this.\u0275fac=function(s){return new(s||c)(re.KVO(Q.DS),re.KVO(yE))}}static{this.\u0275prov=re.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})()},3656:(fn,ft,N)=>{"use strict";var a=N(345),L=N(4742),re=N(4964),Q=N(467),be=N(4438),ce=N(6430);let Te=(()=>{class Me{constructor(Qe,Ve){this.authService=Qe,this.router=Ve}canActivate(){var Qe=this;return(0,Q.A)(function*(){const Ve=yield Qe.authService.isAuthenticated();return Ve||Qe.router.navigate(["/login"]),Ve})()}static{this.\u0275fac=function(Ve){return new(Ve||Me)(be.KVO(ce.u),be.KVO(re.Ix))}}static{this.\u0275prov=be.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ue=[{path:"",loadChildren:()=>N.e(5075).then(N.bind(N,5075)).then(Me=>Me.HomePageModule)},{path:"home",loadChildren:()=>N.e(5075).then(N.bind(N,5075)).then(Me=>Me.HomePageModule)},{path:"login",loadChildren:()=>N.e(3485).then(N.bind(N,3485)).then(Me=>Me.LoginPageModule)},{path:"registro-estudiantil",loadChildren:()=>N.e(1555).then(N.bind(N,1555)).then(Me=>Me.RegistroEstudiantilPageModule)},{path:"cambio-pass",loadChildren:()=>N.e(4846).then(N.bind(N,4846)).then(Me=>Me.CambioPassPageModule),canActivate:[Te]},{path:"perfil",loadChildren:()=>N.e(1849).then(N.bind(N,1849)).then(Me=>Me.PerfilPageModule),canActivate:[Te]}];let He=(()=>{class Me{static{this.\u0275fac=function(Ve){return new(Ve||Me)}}static{this.\u0275mod=be.$C({type:Me})}static{this.\u0275inj=be.G2t({imports:[re.iI.forRoot(Ue,{preloadingStrategy:re.Kp}),re.iI]})}}return Me})(),ye=(()=>{class Me{constructor(){}static{this.\u0275fac=function(Ve){return new(Ve||Me)}}static{this.\u0275cmp=be.VBU({type:Me,selectors:[["app-root"]],decls:2,vars:0,template:function(Ve,_t){1&Ve&&(be.j41(0,"ion-app"),be.nrm(1,"ion-router-outlet"),be.k0s())},dependencies:[L.U1,L.Rg]})}}return Me})();var oe=N(9253),ke=N(1182);const Be_firebaseConfig={apiKey:"AIzaSyCW5JNt6GvyBEWX7EdfwqtfAL1MXFUt4wo",authDomain:"presente-3c41a.firebaseapp.com",projectId:"presente-3c41a",storageBucket:"presente-3c41a.appspot.com",messagingSenderId:"123759871867",appId:"1:123759871867:web:d1f5db7e9e52436c609fde",measurementId:"G-C1WF8DBVQ8"};let Le=(()=>{class Me{static{this.\u0275fac=function(Ve){return new(Ve||Me)}}static{this.\u0275mod=be.$C({type:Me,bootstrap:[ye]})}static{this.\u0275inj=be.G2t({imports:[a.Bb,L.bv.forRoot(),He,oe.bf.initializeApp(Be_firebaseConfig),ke.X8]})}}return Me})();a.sG().bootstrapModule(Le).catch(Me=>console.log(Me))},4412:(fn,ft,N)=>{"use strict";N.d(ft,{t:()=>L});var a=N(1413);class L extends a.B{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const be=super._subscribe(Q);return!be.closed&&Q.next(this._value),be}getValue(){const{hasError:Q,thrownError:be,_value:ce}=this;if(Q)throw be;return this._throwIfClosed(),ce}next(Q){super.next(this._value=Q)}}},1985:(fn,ft,N)=>{"use strict";N.d(ft,{c:()=>Ue});var a=N(7707),L=N(8359),re=N(3494),Q=N(1203),be=N(1026),ce=N(8071),Te=N(9786);let Ue=(()=>{class ke{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const Me=new ke;return Me.source=this,Me.operator=Le,Me}subscribe(Le,Me,nt){const Qe=function oe(ke){return ke&&ke instanceof a.vU||function ye(ke){return ke&&(0,ce.T)(ke.next)&&(0,ce.T)(ke.error)&&(0,ce.T)(ke.complete)}(ke)&&(0,L.Uv)(ke)}(Le)?Le:new a.Ms(Le,Me,nt);return(0,Te.Y)(()=>{const{operator:Ve,source:_t}=this;Qe.add(Ve?Ve.call(Qe,_t):_t?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Le){try{return this._subscribe(Le)}catch(Me){Le.error(Me)}}forEach(Le,Me){return new(Me=He(Me))((nt,Qe)=>{const Ve=new a.Ms({next:_t=>{try{Le(_t)}catch(dt){Qe(dt),Ve.unsubscribe()}},error:Qe,complete:nt});this.subscribe(Ve)})}_subscribe(Le){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Le)}[re.s](){return this}pipe(...Le){return(0,Q.m)(Le)(this)}toPromise(Le){return new(Le=He(Le))((Me,nt)=>{let Qe;this.subscribe(Ve=>Qe=Ve,Ve=>nt(Ve),()=>Me(Qe))})}}return ke.create=Be=>new ke(Be),ke})();function He(ke){var Be;return null!==(Be=ke??be.$.Promise)&&void 0!==Be?Be:Promise}},1413:(fn,ft,N)=>{"use strict";N.d(ft,{B:()=>Te});var a=N(1985),L=N(8359);const Q=(0,N(1853).L)(He=>function(){He(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=N(7908),ce=N(9786);let Te=(()=>{class He extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ke=new Ue(this,this);return ke.operator=oe,ke}_throwIfClosed(){if(this.closed)throw new Q}next(oe){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(oe)}})}error(oe){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ke}=this;for(;ke.length;)ke.shift().error(oe)}})}complete(){(0,ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ke,isStopped:Be,observers:Le}=this;return ke||Be?L.Kn:(this.currentObservers=null,Le.push(oe),new L.yU(()=>{this.currentObservers=null,(0,be.o)(Le,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ke,thrownError:Be,isStopped:Le}=this;ke?oe.error(Be):Le&&oe.complete()}asObservable(){const oe=new a.c;return oe.source=this,oe}}return He.create=(ye,oe)=>new Ue(ye,oe),He})();class Ue extends Te{constructor(ye,oe){super(),this.destination=ye,this.source=oe}next(ye){var oe,ke;null===(ke=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ke||ke.call(oe,ye)}error(ye){var oe,ke;null===(ke=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ke||ke.call(oe,ye)}complete(){var ye,oe;null===(oe=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===oe||oe.call(ye)}_subscribe(ye){var oe,ke;return null!==(ke=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ye))&&void 0!==ke?ke:L.Kn}}},7707:(fn,ft,N)=>{"use strict";N.d(ft,{Ms:()=>nt,vU:()=>ke});var a=N(8071),L=N(8359),re=N(1026),Q=N(5334),be=N(5343);const ce=He("C",void 0,void 0);function He(ct,Ie,ge){return{kind:ct,value:Ie,error:ge}}var ye=N(9270),oe=N(9786);class ke extends L.yU{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,L.Uv)(Ie)&&Ie.add(this)):this.destination=dt}static create(Ie,ge,Ge){return new nt(Ie,ge,Ge)}next(Ie){this.isStopped?_t(function Ue(ct){return He("N",ct,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?_t(function Te(ct){return He("E",void 0,ct)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?_t(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Le(ct,Ie){return Be.call(ct,Ie)}class Me{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:ge}=this;if(ge.next)try{ge.next(Ie)}catch(Ge){Qe(Ge)}}error(Ie){const{partialObserver:ge}=this;if(ge.error)try{ge.error(Ie)}catch(Ge){Qe(Ge)}else Qe(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(ge){Qe(ge)}}}class nt extends ke{constructor(Ie,ge,Ge){let it;if(super(),(0,a.T)(Ie)||!Ie)it={next:Ie??void 0,error:ge??void 0,complete:Ge??void 0};else{let $e;this&&re.$.useDeprecatedNextContext?($e=Object.create(Ie),$e.unsubscribe=()=>this.unsubscribe(),it={next:Ie.next&&Le(Ie.next,$e),error:Ie.error&&Le(Ie.error,$e),complete:Ie.complete&&Le(Ie.complete,$e)}):it=Ie}this.destination=new Me(it)}}function Qe(ct){re.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(ct):(0,Q.m)(ct)}function _t(ct,Ie){const{onStoppedNotification:ge}=re.$;ge&&ye.f.setTimeout(()=>ge(ct,Ie))}const dt={closed:!0,next:be.l,error:function Ve(ct){throw ct},complete:be.l}},8359:(fn,ft,N)=>{"use strict";N.d(ft,{Kn:()=>ce,yU:()=>be,Uv:()=>Te});var a=N(8071);const re=(0,N(1853).L)(He=>function(oe){He(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ke,Be)=>`${Be+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var Q=N(7908);class be{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Le of oe)Le.remove(this);else oe.remove(this);const{initialTeardown:ke}=this;if((0,a.T)(ke))try{ke()}catch(Le){ye=Le instanceof re?Le.errors:[Le]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Le of Be)try{Ue(Le)}catch(Me){ye=ye??[],Me instanceof re?ye=[...ye,...Me.errors]:ye.push(Me)}}if(ye)throw new re(ye)}}add(ye){var oe;if(ye&&ye!==this)if(this.closed)Ue(ye);else{if(ye instanceof be){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ye)}}_hasParent(ye){const{_parentage:oe}=this;return oe===ye||Array.isArray(oe)&&oe.includes(ye)}_addParent(ye){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ye),oe):oe?[oe,ye]:ye}_removeParent(ye){const{_parentage:oe}=this;oe===ye?this._parentage=null:Array.isArray(oe)&&(0,Q.o)(oe,ye)}remove(ye){const{_finalizers:oe}=this;oe&&(0,Q.o)(oe,ye),ye instanceof be&&ye._removeParent(this)}}be.EMPTY=(()=>{const He=new be;return He.closed=!0,He})();const ce=be.EMPTY;function Te(He){return He instanceof be||He&&"closed"in He&&(0,a.T)(He.remove)&&(0,a.T)(He.add)&&(0,a.T)(He.unsubscribe)}function Ue(He){(0,a.T)(He)?He():He.unsubscribe()}},1026:(fn,ft,N)=>{"use strict";N.d(ft,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(fn,ft,N)=>{"use strict";N.d(ft,{z:()=>ye});var a=N(1985),L=N(3073),re=N(8455),Q=N(3669),be=N(6450),ce=N(3794),Te=N(8496),Ue=N(4360),He=N(5225);function ye(...Be){const Le=(0,ce.lI)(Be),Me=(0,ce.ms)(Be),{args:nt,keys:Qe}=(0,L.D)(Be);if(0===nt.length)return(0,re.H)([],Le);const Ve=new a.c(function oe(Be,Le,Me=Q.D){return nt=>{ke(Le,()=>{const{length:Qe}=Be,Ve=new Array(Qe);let _t=Qe,dt=Qe;for(let ct=0;ct<Qe;ct++)ke(Le,()=>{const Ie=(0,re.H)(Be[ct],Le);let ge=!1;Ie.subscribe((0,Ue._)(nt,Ge=>{Ve[ct]=Ge,ge||(ge=!0,dt--),dt||nt.next(Me(Ve.slice()))},()=>{--_t||nt.complete()}))},nt)},nt)}}(nt,Le,Qe?_t=>(0,Te.e)(Qe,_t):Q.D));return Me?Ve.pipe((0,be.I)(Me)):Ve}function ke(Be,Le,Me){Be?(0,He.N)(Me,Be,Le):Le()}},8793:(fn,ft,N)=>{"use strict";N.d(ft,{x:()=>be});var a=N(6365),re=N(3794),Q=N(8455);function be(...ce){return function L(){return(0,a.U)(1)}()((0,Q.H)(ce,(0,re.lI)(ce)))}},983:(fn,ft,N)=>{"use strict";N.d(ft,{w:()=>L});const L=new(N(1985).c)(be=>be.complete())},8455:(fn,ft,N)=>{"use strict";N.d(ft,{H:()=>Ie});var a=N(8750),L=N(941),re=N(6745),ce=N(1985),Ue=N(4761),He=N(8071),ye=N(5225);function ke(ge,Ge){if(!ge)throw new Error("Iterable cannot be null");return new ce.c(it=>{(0,ye.N)(it,Ge,()=>{const $e=ge[Symbol.asyncIterator]();(0,ye.N)(it,Ge,()=>{$e.next().then(Tt=>{Tt.done?it.complete():it.next(Tt.value)})},0,!0)})})}var Be=N(5055),Le=N(9858),Me=N(7441),nt=N(5397),Qe=N(7953),Ve=N(591),_t=N(5196);function Ie(ge,Ge){return Ge?function ct(ge,Ge){if(null!=ge){if((0,Be.l)(ge))return function Q(ge,Ge){return(0,a.Tg)(ge).pipe((0,re._)(Ge),(0,L.Q)(Ge))}(ge,Ge);if((0,Me.X)(ge))return function Te(ge,Ge){return new ce.c(it=>{let $e=0;return Ge.schedule(function(){$e===ge.length?it.complete():(it.next(ge[$e++]),it.closed||this.schedule())})})}(ge,Ge);if((0,Le.y)(ge))return function be(ge,Ge){return(0,a.Tg)(ge).pipe((0,re._)(Ge),(0,L.Q)(Ge))}(ge,Ge);if((0,Qe.T)(ge))return ke(ge,Ge);if((0,nt.x)(ge))return function oe(ge,Ge){return new ce.c(it=>{let $e;return(0,ye.N)(it,Ge,()=>{$e=ge[Ue.l](),(0,ye.N)(it,Ge,()=>{let Tt,Se;try{({value:Tt,done:Se}=$e.next())}catch(Vt){return void it.error(Vt)}Se?it.complete():it.next(Tt)},0,!0)}),()=>(0,He.T)($e?.return)&&$e.return()})}(ge,Ge);if((0,_t.U)(ge))return function dt(ge,Ge){return ke((0,_t.C)(ge),Ge)}(ge,Ge)}throw(0,Ve.L)(ge)}(ge,Ge):(0,a.Tg)(ge)}},3726:(fn,ft,N)=>{"use strict";N.d(ft,{R:()=>ye});var a=N(8750),L=N(1985),re=N(1397),Q=N(7441),be=N(8071),ce=N(6450);const Te=["addListener","removeListener"],Ue=["addEventListener","removeEventListener"],He=["on","off"];function ye(Me,nt,Qe,Ve){if((0,be.T)(Qe)&&(Ve=Qe,Qe=void 0),Ve)return ye(Me,nt,Qe).pipe((0,ce.I)(Ve));const[_t,dt]=function Le(Me){return(0,be.T)(Me.addEventListener)&&(0,be.T)(Me.removeEventListener)}(Me)?Ue.map(ct=>Ie=>Me[ct](nt,Ie,Qe)):function ke(Me){return(0,be.T)(Me.addListener)&&(0,be.T)(Me.removeListener)}(Me)?Te.map(oe(Me,nt)):function Be(Me){return(0,be.T)(Me.on)&&(0,be.T)(Me.off)}(Me)?He.map(oe(Me,nt)):[];if(!_t&&(0,Q.X)(Me))return(0,re.Z)(ct=>ye(ct,nt,Qe))((0,a.Tg)(Me));if(!_t)throw new TypeError("Invalid event target");return new L.c(ct=>{const Ie=(...ge)=>ct.next(1<ge.length?ge:ge[0]);return _t(Ie),()=>dt(Ie)})}function oe(Me,nt){return Qe=>Ve=>Me[Qe](nt,Ve)}},8750:(fn,ft,N)=>{"use strict";N.d(ft,{Tg:()=>Be});var a=N(1635),L=N(7441),re=N(9858),Q=N(1985),be=N(5055),ce=N(7953),Te=N(591),Ue=N(5397),He=N(5196),ye=N(8071),oe=N(5334),ke=N(3494);function Be(ct){if(ct instanceof Q.c)return ct;if(null!=ct){if((0,be.l)(ct))return function Le(ct){return new Q.c(Ie=>{const ge=ct[ke.s]();if((0,ye.T)(ge.subscribe))return ge.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ct);if((0,L.X)(ct))return function Me(ct){return new Q.c(Ie=>{for(let ge=0;ge<ct.length&&!Ie.closed;ge++)Ie.next(ct[ge]);Ie.complete()})}(ct);if((0,re.y)(ct))return function nt(ct){return new Q.c(Ie=>{ct.then(ge=>{Ie.closed||(Ie.next(ge),Ie.complete())},ge=>Ie.error(ge)).then(null,oe.m)})}(ct);if((0,ce.T)(ct))return Ve(ct);if((0,Ue.x)(ct))return function Qe(ct){return new Q.c(Ie=>{for(const ge of ct)if(Ie.next(ge),Ie.closed)return;Ie.complete()})}(ct);if((0,He.U)(ct))return function _t(ct){return Ve((0,He.C)(ct))}(ct)}throw(0,Te.L)(ct)}function Ve(ct){return new Q.c(Ie=>{(function dt(ct,Ie){var ge,Ge,it,$e;return(0,a.sH)(this,void 0,void 0,function*(){try{for(ge=(0,a.xN)(ct);!(Ge=yield ge.next()).done;)if(Ie.next(Ge.value),Ie.closed)return}catch(Tt){it={error:Tt}}finally{try{Ge&&!Ge.done&&($e=ge.return)&&(yield $e.call(ge))}finally{if(it)throw it.error}}Ie.complete()})})(ct,Ie).catch(ge=>Ie.error(ge))})}},7673:(fn,ft,N)=>{"use strict";N.d(ft,{of:()=>re});var a=N(3794),L=N(8455);function re(...Q){const be=(0,a.lI)(Q);return(0,L.H)(Q,be)}},4360:(fn,ft,N)=>{"use strict";N.d(ft,{_:()=>L});var a=N(7707);function L(Q,be,ce,Te,Ue){return new re(Q,be,ce,Te,Ue)}class re extends a.vU{constructor(be,ce,Te,Ue,He,ye){super(be),this.onFinalize=He,this.shouldUnsubscribe=ye,this._next=ce?function(oe){try{ce(oe)}catch(ke){be.error(ke)}}:super._next,this._error=Ue?function(oe){try{Ue(oe)}catch(ke){be.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(oe){be.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},9901:(fn,ft,N)=>{"use strict";N.d(ft,{U:()=>re});var a=N(9974),L=N(4360);function re(Q){return(0,a.N)((be,ce)=>{let Te=!1;be.subscribe((0,L._)(ce,Ue=>{Te=!0,ce.next(Ue)},()=>{Te||ce.next(Q),ce.complete()}))})}},3294:(fn,ft,N)=>{"use strict";N.d(ft,{F:()=>Q});var a=N(3669),L=N(9974),re=N(4360);function Q(ce,Te=a.D){return ce=ce??be,(0,L.N)((Ue,He)=>{let ye,oe=!0;Ue.subscribe((0,re._)(He,ke=>{const Be=Te(ke);(oe||!ce(ye,Be))&&(oe=!1,ye=Be,He.next(ke))}))})}function be(ce,Te){return ce===Te}},5964:(fn,ft,N)=>{"use strict";N.d(ft,{p:()=>re});var a=N(9974),L=N(4360);function re(Q,be){return(0,a.N)((ce,Te)=>{let Ue=0;ce.subscribe((0,L._)(Te,He=>Q.call(be,He,Ue++)&&Te.next(He)))})}},1594:(fn,ft,N)=>{"use strict";N.d(ft,{$:()=>Te});var a=N(9350),L=N(5964),re=N(6697),Q=N(9901),be=N(3774),ce=N(3669);function Te(Ue,He){const ye=arguments.length>=2;return oe=>oe.pipe(Ue?(0,L.p)((ke,Be)=>Ue(ke,Be,oe)):ce.D,(0,re.s)(1),ye?(0,Q.U)(He):(0,be.v)(()=>new a.G))}},6354:(fn,ft,N)=>{"use strict";N.d(ft,{T:()=>re});var a=N(9974),L=N(4360);function re(Q,be){return(0,a.N)((ce,Te)=>{let Ue=0;ce.subscribe((0,L._)(Te,He=>{Te.next(Q.call(be,He,Ue++))}))})}},6365:(fn,ft,N)=>{"use strict";N.d(ft,{U:()=>re});var a=N(1397),L=N(3669);function re(Q=1/0){return(0,a.Z)(L.D,Q)}},1397:(fn,ft,N)=>{"use strict";N.d(ft,{Z:()=>Ue});var a=N(6354),L=N(8750),re=N(9974),Q=N(5225),be=N(4360),Te=N(8071);function Ue(He,ye,oe=1/0){return(0,Te.T)(ye)?Ue((ke,Be)=>(0,a.T)((Le,Me)=>ye(ke,Le,Be,Me))((0,L.Tg)(He(ke,Be))),oe):("number"==typeof ye&&(oe=ye),(0,re.N)((ke,Be)=>function ce(He,ye,oe,ke,Be,Le,Me,nt){const Qe=[];let Ve=0,_t=0,dt=!1;const ct=()=>{dt&&!Qe.length&&!Ve&&ye.complete()},Ie=Ge=>Ve<ke?ge(Ge):Qe.push(Ge),ge=Ge=>{Le&&ye.next(Ge),Ve++;let it=!1;(0,L.Tg)(oe(Ge,_t++)).subscribe((0,be._)(ye,$e=>{Be?.($e),Le?Ie($e):ye.next($e)},()=>{it=!0},void 0,()=>{if(it)try{for(Ve--;Qe.length&&Ve<ke;){const $e=Qe.shift();Me?(0,Q.N)(ye,Me,()=>ge($e)):ge($e)}ct()}catch($e){ye.error($e)}}))};return He.subscribe((0,be._)(ye,Ie,()=>{dt=!0,ct()})),()=>{nt?.()}}(ke,Be,He,oe)))}},941:(fn,ft,N)=>{"use strict";N.d(ft,{Q:()=>Q});var a=N(5225),L=N(9974),re=N(4360);function Q(be,ce=0){return(0,L.N)((Te,Ue)=>{Te.subscribe((0,re._)(Ue,He=>(0,a.N)(Ue,be,()=>Ue.next(He),ce),()=>(0,a.N)(Ue,be,()=>Ue.complete(),ce),He=>(0,a.N)(Ue,be,()=>Ue.error(He),ce)))})}},2816:(fn,ft,N)=>{"use strict";N.d(ft,{S:()=>Q});var a=N(9974),L=N(4360);function Q(be,ce){return(0,a.N)(function re(be,ce,Te,Ue,He){return(ye,oe)=>{let ke=Te,Be=ce,Le=0;ye.subscribe((0,L._)(oe,Me=>{const nt=Le++;Be=ke?be(Be,Me,nt):(ke=!0,Me),Ue&&oe.next(Be)},He&&(()=>{ke&&oe.next(Be),oe.complete()})))}}(be,ce,arguments.length>=2,!0))}},9172:(fn,ft,N)=>{"use strict";N.d(ft,{Z:()=>Q});var a=N(8793),L=N(3794),re=N(9974);function Q(...be){const ce=(0,L.lI)(be);return(0,re.N)((Te,Ue)=>{(ce?(0,a.x)(be,Te,ce):(0,a.x)(be,Te)).subscribe(Ue)})}},6745:(fn,ft,N)=>{"use strict";N.d(ft,{_:()=>L});var a=N(9974);function L(re,Q=0){return(0,a.N)((be,ce)=>{ce.add(re.schedule(()=>be.subscribe(ce),Q))})}},5558:(fn,ft,N)=>{"use strict";N.d(ft,{n:()=>Q});var a=N(8750),L=N(9974),re=N(4360);function Q(be,ce){return(0,L.N)((Te,Ue)=>{let He=null,ye=0,oe=!1;const ke=()=>oe&&!He&&Ue.complete();Te.subscribe((0,re._)(Ue,Be=>{He?.unsubscribe();let Le=0;const Me=ye++;(0,a.Tg)(be(Be,Me)).subscribe(He=(0,re._)(Ue,nt=>Ue.next(ce?ce(Be,nt,Me,Le++):nt),()=>{He=null,ke()}))},()=>{oe=!0,ke()}))})}},6697:(fn,ft,N)=>{"use strict";N.d(ft,{s:()=>Q});var a=N(983),L=N(9974),re=N(4360);function Q(be){return be<=0?()=>a.w:(0,L.N)((ce,Te)=>{let Ue=0;ce.subscribe((0,re._)(Te,He=>{++Ue<=be&&(Te.next(He),be<=Ue&&Te.complete())}))})}},8141:(fn,ft,N)=>{"use strict";N.d(ft,{M:()=>be});var a=N(8071),L=N(9974),re=N(4360),Q=N(3669);function be(ce,Te,Ue){const He=(0,a.T)(ce)||Te||Ue?{next:ce,error:Te,complete:Ue}:ce;return He?(0,L.N)((ye,oe)=>{var ke;null===(ke=He.subscribe)||void 0===ke||ke.call(He);let Be=!0;ye.subscribe((0,re._)(oe,Le=>{var Me;null===(Me=He.next)||void 0===Me||Me.call(He,Le),oe.next(Le)},()=>{var Le;Be=!1,null===(Le=He.complete)||void 0===Le||Le.call(He),oe.complete()},Le=>{var Me;Be=!1,null===(Me=He.error)||void 0===Me||Me.call(He,Le),oe.error(Le)},()=>{var Le,Me;Be&&(null===(Le=He.unsubscribe)||void 0===Le||Le.call(He)),null===(Me=He.finalize)||void 0===Me||Me.call(He)}))}):Q.D}},3774:(fn,ft,N)=>{"use strict";N.d(ft,{v:()=>Q});var a=N(9350),L=N(9974),re=N(4360);function Q(ce=be){return(0,L.N)((Te,Ue)=>{let He=!1;Te.subscribe((0,re._)(Ue,ye=>{He=!0,Ue.next(ye)},()=>He?Ue.complete():Ue.error(ce())))})}function be(){return new a.G}},6780:(fn,ft,N)=>{"use strict";N.d(ft,{R:()=>be});var a=N(8359);class L extends a.yU{constructor(Te,Ue){super()}schedule(Te,Ue=0){return this}}const re={setInterval(ce,Te,...Ue){const{delegate:He}=re;return He?.setInterval?He.setInterval(ce,Te,...Ue):setInterval(ce,Te,...Ue)},clearInterval(ce){const{delegate:Te}=re;return(Te?.clearInterval||clearInterval)(ce)},delegate:void 0};var Q=N(7908);class be extends L{constructor(Te,Ue){super(Te,Ue),this.scheduler=Te,this.work=Ue,this.pending=!1}schedule(Te,Ue=0){var He;if(this.closed)return this;this.state=Te;const ye=this.id,oe=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(oe,ye,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(He=this.id)&&void 0!==He?He:this.requestAsyncId(oe,this.id,Ue),this}requestAsyncId(Te,Ue,He=0){return re.setInterval(Te.flush.bind(Te,this),He)}recycleAsyncId(Te,Ue,He=0){if(null!=He&&this.delay===He&&!1===this.pending)return Ue;null!=Ue&&re.clearInterval(Ue)}execute(Te,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Te,Ue);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ue){let ye,He=!1;try{this.work(Te)}catch(oe){He=!0,ye=oe||new Error("Scheduled action threw falsy error")}if(He)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ue}=this,{actions:He}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.o)(He,this),null!=Te&&(this.id=this.recycleAsyncId(Ue,Te,null)),this.delay=null,super.unsubscribe()}}}},9687:(fn,ft,N)=>{"use strict";N.d(ft,{q:()=>re});var a=N(6129);class L{constructor(be,ce=L.now){this.schedulerActionCtor=be,this.now=ce}schedule(be,ce=0,Te){return new this.schedulerActionCtor(this,be).schedule(Te,ce)}}L.now=a.U.now;class re extends L{constructor(be,ce=L.now){super(be,ce),this.actions=[],this._active=!1}flush(be){const{actions:ce}=this;if(this._active)return void ce.push(be);let Te;this._active=!0;do{if(Te=be.execute(be.state,be.delay))break}while(be=ce.shift());if(this._active=!1,Te){for(;be=ce.shift();)be.unsubscribe();throw Te}}}},3236:(fn,ft,N)=>{"use strict";N.d(ft,{E:()=>re});var a=N(6780);const re=new(N(9687).q)(a.R)},6129:(fn,ft,N)=>{"use strict";N.d(ft,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(fn,ft,N)=>{"use strict";N.d(ft,{f:()=>a});const a={setTimeout(L,re,...Q){const{delegate:be}=a;return be?.setTimeout?be.setTimeout(L,re,...Q):setTimeout(L,re,...Q)},clearTimeout(L){const{delegate:re}=a;return(re?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4761:(fn,ft,N)=>{"use strict";N.d(ft,{l:()=>L});const L=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(fn,ft,N)=>{"use strict";N.d(ft,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(fn,ft,N)=>{"use strict";N.d(ft,{G:()=>L});const L=(0,N(1853).L)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(fn,ft,N)=>{"use strict";N.d(ft,{R0:()=>ce,ms:()=>Q,lI:()=>be});var a=N(8071);function re(Te){return Te[Te.length-1]}function Q(Te){return(0,a.T)(re(Te))?Te.pop():void 0}function be(Te){return function L(Te){return Te&&(0,a.T)(Te.schedule)}(re(Te))?Te.pop():void 0}function ce(Te,Ue){return"number"==typeof re(Te)?Te.pop():Ue}},3073:(fn,ft,N)=>{"use strict";N.d(ft,{D:()=>be});const{isArray:a}=Array,{getPrototypeOf:L,prototype:re,keys:Q}=Object;function be(Te){if(1===Te.length){const Ue=Te[0];if(a(Ue))return{args:Ue,keys:null};if(function ce(Te){return Te&&"object"==typeof Te&&L(Te)===re}(Ue)){const He=Q(Ue);return{args:He.map(ye=>Ue[ye]),keys:He}}}return{args:Te,keys:null}}},7908:(fn,ft,N)=>{"use strict";function a(L,re){if(L){const Q=L.indexOf(re);0<=Q&&L.splice(Q,1)}}N.d(ft,{o:()=>a})},1853:(fn,ft,N)=>{"use strict";function a(L){const Q=L(be=>{Error.call(be),be.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}N.d(ft,{L:()=>a})},8496:(fn,ft,N)=>{"use strict";function a(L,re){return L.reduce((Q,be,ce)=>(Q[be]=re[ce],Q),{})}N.d(ft,{e:()=>a})},9786:(fn,ft,N)=>{"use strict";N.d(ft,{Y:()=>re,l:()=>Q});var a=N(1026);let L=null;function re(be){if(a.$.useDeprecatedSynchronousErrorHandling){const ce=!L;if(ce&&(L={errorThrown:!1,error:null}),be(),ce){const{errorThrown:Te,error:Ue}=L;if(L=null,Te)throw Ue}}else be()}function Q(be){a.$.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=be)}},5225:(fn,ft,N)=>{"use strict";function a(L,re,Q,be=0,ce=!1){const Te=re.schedule(function(){Q(),ce?L.add(this.schedule(null,be)):this.unsubscribe()},be);if(L.add(Te),!ce)return Te}N.d(ft,{N:()=>a})},3669:(fn,ft,N)=>{"use strict";function a(L){return L}N.d(ft,{D:()=>a})},7441:(fn,ft,N)=>{"use strict";N.d(ft,{X:()=>a});const a=L=>L&&"number"==typeof L.length&&"function"!=typeof L},7953:(fn,ft,N)=>{"use strict";N.d(ft,{T:()=>L});var a=N(8071);function L(re){return Symbol.asyncIterator&&(0,a.T)(re?.[Symbol.asyncIterator])}},8071:(fn,ft,N)=>{"use strict";function a(L){return"function"==typeof L}N.d(ft,{T:()=>a})},5055:(fn,ft,N)=>{"use strict";N.d(ft,{l:()=>re});var a=N(3494),L=N(8071);function re(Q){return(0,L.T)(Q[a.s])}},5397:(fn,ft,N)=>{"use strict";N.d(ft,{x:()=>re});var a=N(4761),L=N(8071);function re(Q){return(0,L.T)(Q?.[a.l])}},9858:(fn,ft,N)=>{"use strict";N.d(ft,{y:()=>L});var a=N(8071);function L(re){return(0,a.T)(re?.then)}},5196:(fn,ft,N)=>{"use strict";N.d(ft,{C:()=>re,U:()=>Q});var a=N(1635),L=N(8071);function re(be){return(0,a.AQ)(this,arguments,function*(){const Te=be.getReader();try{for(;;){const{value:Ue,done:He}=yield(0,a.N3)(Te.read());if(He)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(Ue)}}finally{Te.releaseLock()}})}function Q(be){return(0,L.T)(be?.getReader)}},9974:(fn,ft,N)=>{"use strict";N.d(ft,{N:()=>re,S:()=>L});var a=N(8071);function L(Q){return(0,a.T)(Q?.lift)}function re(Q){return be=>{if(L(be))return be.lift(function(ce){try{return Q(ce,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(fn,ft,N)=>{"use strict";N.d(ft,{I:()=>Q});var a=N(6354);const{isArray:L}=Array;function Q(be){return(0,a.T)(ce=>function re(be,ce){return L(ce)?be(...ce):be(ce)}(be,ce))}},5343:(fn,ft,N)=>{"use strict";function a(){}N.d(ft,{l:()=>a})},1203:(fn,ft,N)=>{"use strict";N.d(ft,{F:()=>L,m:()=>re});var a=N(3669);function L(...Q){return re(Q)}function re(Q){return 0===Q.length?a.D:1===Q.length?Q[0]:function(ce){return Q.reduce((Te,Ue)=>Ue(Te),ce)}}},5334:(fn,ft,N)=>{"use strict";N.d(ft,{m:()=>re});var a=N(1026),L=N(9270);function re(Q){L.f.setTimeout(()=>{const{onUnhandledError:be}=a.$;if(!be)throw Q;be(Q)})}},591:(fn,ft,N)=>{"use strict";function a(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ft,{L:()=>a})},8996:(fn,ft,N)=>{var a={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function L(re){if(!N.o(a,re))return Promise.resolve().then(()=>{var ce=new Error("Cannot find module '"+re+"'");throw ce.code="MODULE_NOT_FOUND",ce});var Q=a[re],be=Q[0];return Promise.all(Q.slice(1).map(N.e)).then(()=>N(be))}L.keys=()=>Object.keys(a),L.id=8996,fn.exports=L},177:(fn,ft,N)=>{"use strict";N.d(ft,{AJ:()=>Lt,MD:()=>st,N0:()=>Fr,QT:()=>re,Sm:()=>nt,T3:()=>is,VF:()=>be,Vy:()=>Wt,Xr:()=>En,ZD:()=>Q,_b:()=>ae,aZ:()=>Ve,bT:()=>ti,fw:()=>Qe,hb:()=>Le,hj:()=>He,qQ:()=>Te});var a=N(4438);let L=null;function re(){return L}function Q(D){L??=D}class be{}const Te=new a.nKC("");let Ue=(()=>{class D{historyGo(x){throw new Error("")}static{this.\u0275fac=function(H){return new(H||D)}}static{this.\u0275prov=a.jDH({token:D,factory:()=>(0,a.WQX)(ye),providedIn:"platform"})}}return D})();const He=new a.nKC("");let ye=(()=>{class D extends Ue{constructor(){super(),this._doc=(0,a.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(x){const H=re().getGlobalEventTarget(this._doc,"window");return H.addEventListener("popstate",x,!1),()=>H.removeEventListener("popstate",x)}onHashChange(x){const H=re().getGlobalEventTarget(this._doc,"window");return H.addEventListener("hashchange",x,!1),()=>H.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,H,Pe){this._history.pushState(x,H,Pe)}replaceState(x,H,Pe){this._history.replaceState(x,H,Pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}static{this.\u0275fac=function(H){return new(H||D)}}static{this.\u0275prov=a.jDH({token:D,factory:()=>new D,providedIn:"platform"})}}return D})();function oe(D,X){if(0==D.length)return X;if(0==X.length)return D;let x=0;return D.endsWith("/")&&x++,X.startsWith("/")&&x++,2==x?D+X.substring(1):1==x?D+X:D+"/"+X}function ke(D){const X=D.match(/#|\?|$/),x=X&&X.index||D.length;return D.slice(0,x-("/"===D[x-1]?1:0))+D.slice(x)}function Be(D){return D&&"?"!==D[0]?"?"+D:D}let Le=(()=>{class D{historyGo(x){throw new Error("")}static{this.\u0275fac=function(H){return new(H||D)}}static{this.\u0275prov=a.jDH({token:D,factory:()=>(0,a.WQX)(nt),providedIn:"root"})}}return D})();const Me=new a.nKC("");let nt=(()=>{class D extends Le{constructor(x,H){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=H??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return oe(this._baseHref,x)}path(x=!1){const H=this._platformLocation.pathname+Be(this._platformLocation.search),Pe=this._platformLocation.hash;return Pe&&x?`${H}${Pe}`:H}pushState(x,H,Pe,kt){const Zt=this.prepareExternalUrl(Pe+Be(kt));this._platformLocation.pushState(x,H,Zt)}replaceState(x,H,Pe,kt){const Zt=this.prepareExternalUrl(Pe+Be(kt));this._platformLocation.replaceState(x,H,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(H){return new(H||D)(a.KVO(Ue),a.KVO(Me,8))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),Qe=(()=>{class D extends Le{constructor(x,H){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=H&&(this._baseHref=H)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){const H=this._platformLocation.hash??"#";return H.length>0?H.substring(1):H}prepareExternalUrl(x){const H=oe(this._baseHref,x);return H.length>0?"#"+H:H}pushState(x,H,Pe,kt){let Zt=this.prepareExternalUrl(Pe+Be(kt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.pushState(x,H,Zt)}replaceState(x,H,Pe,kt){let Zt=this.prepareExternalUrl(Pe+Be(kt));0==Zt.length&&(Zt=this._platformLocation.pathname),this._platformLocation.replaceState(x,H,Zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}static{this.\u0275fac=function(H){return new(H||D)(a.KVO(Ue),a.KVO(Me,8))}}static{this.\u0275prov=a.jDH({token:D,factory:D.\u0275fac})}}return D})(),Ve=(()=>{class D{constructor(x){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const H=this._locationStrategy.getBaseHref();this._basePath=function Ie(D){if(new RegExp("^(https?:)?//").test(D)){const[,x]=D.split(/\/\/[^\/]+/);return x}return D}(ke(ct(H))),this._locationStrategy.onPopState(Pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Pe.state,type:Pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,H=""){return this.path()==this.normalize(x+Be(H))}normalize(x){return D.stripTrailingSlash(function dt(D,X){if(!D||!X.startsWith(D))return X;const x=X.substring(D.length);return""===x||["/",";","?","#"].includes(x[0])?x:X}(this._basePath,ct(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,H="",Pe=null){this._locationStrategy.pushState(Pe,"",x,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Be(H)),Pe)}replaceState(x,H="",Pe=null){this._locationStrategy.replaceState(Pe,"",x,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Be(H)),Pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription??=this.subscribe(H=>{this._notifyUrlChangeListeners(H.url,H.state)}),()=>{const H=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(H,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",H){this._urlChangeListeners.forEach(Pe=>Pe(x,H))}subscribe(x,H,Pe){return this._subject.subscribe({next:x,error:H,complete:Pe})}static{this.normalizeQueryParams=Be}static{this.joinWithSlash=oe}static{this.stripTrailingSlash=ke}static{this.\u0275fac=function(H){return new(H||D)(a.KVO(Le))}}static{this.\u0275prov=a.jDH({token:D,factory:()=>function _t(){return new Ve((0,a.KVO)(Le))}(),providedIn:"root"})}}return D})();function ct(D){return D.replace(/\/index.html$/,"")}function ae(D,X){X=encodeURIComponent(X);for(const x of D.split(";")){const H=x.indexOf("="),[Pe,kt]=-1==H?[x,""]:[x.slice(0,H),x.slice(H+1)];if(Pe.trim()===X)return decodeURIComponent(kt)}return null}let ti=(()=>{class D{constructor(x,H){this._viewContainer=x,this._context=new Wo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=H}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){bi("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){bi("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,H){return!0}static{this.\u0275fac=function(H){return new(H||D)(a.rXU(a.c1b),a.rXU(a.C4Q))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return D})();class Wo{constructor(){this.$implicit=null,this.ngIf=null}}function bi(D,X){if(X&&!X.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,a.Tbb)(X)}'.`)}let is=(()=>{class D{constructor(x){this._viewContainerRef=x,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(x){if(this._shouldRecreateView(x)){const H=this._viewContainerRef;if(this._viewRef&&H.remove(H.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Pe=this._createContextForwardProxy();this._viewRef=H.createEmbeddedView(this.ngTemplateOutlet,Pe,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(x){return!!x.ngTemplateOutlet||!!x.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(x,H,Pe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,H,Pe),get:(x,H,Pe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,H,Pe)}})}static{this.\u0275fac=function(H){return new(H||D)(a.rXU(a.c1b))}}static{this.\u0275dir=a.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.OA$]})}}return D})(),st=(()=>{class D{static{this.\u0275fac=function(H){return new(H||D)}}static{this.\u0275mod=a.$C({type:D})}static{this.\u0275inj=a.G2t({})}}return D})();const Lt="browser",Gt="server";function Wt(D){return D===Gt}let En=(()=>{class D{static{this.\u0275prov=(0,a.jDH)({token:D,providedIn:"root",factory:()=>function jt(D){return D===Lt}((0,a.WQX)(a.Agw))?new Rn((0,a.WQX)(Te),window):new Cr})}}return D})();class Rn{constructor(X,x){this.document=X,this.window=x,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(X){this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){const x=function Nn(D,X){const x=D.getElementById(X)||D.getElementsByName(X)[0];if(x)return x;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const H=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let Pe=H.currentNode;for(;Pe;){const kt=Pe.shadowRoot;if(kt){const Zt=kt.getElementById(X)||kt.querySelector(`[name="${X}"]`);if(Zt)return Zt}Pe=H.nextNode()}}return null}(this.document,X);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(X){this.window.history.scrollRestoration=X}scrollToElement(X){const x=X.getBoundingClientRect(),H=x.left+this.window.pageXOffset,Pe=x.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(H-kt[0],Pe-kt[1])}}class Cr{setOffset(X){}getScrollPosition(){return[0,0]}scrollToPosition(X){}scrollToAnchor(X){}setHistoryScrollRestoration(X){}}class Fr{}},4438:(fn,ft,N)=>{"use strict";function a(e,n){return Object.is(e,n)}N.d(ft,{iLQ:()=>tI,sZ2:()=>Ad,hnV:()=>fA,Hbi:()=>AN,o8S:()=>du,BIS:()=>Sd,gRc:()=>RA,Ql9:()=>Qx,Ocv:()=>rN,Z63:()=>Ar,aKT:()=>Cc,uvJ:()=>go,zcH:()=>co,bkB:()=>ha,$GK:()=>sr,nKC:()=>Jt,zZn:()=>_o,_q3:()=>K0,MKu:()=>q0,xe9:()=>$0,Co$:()=>yD,Vns:()=>Nf,SKi:()=>y,Xx1:()=>Rn,Agw:()=>Fu,PLl:()=>yp,sFG:()=>y_,_9s:()=>Zd,czy:()=>Zh,kdw:()=>Cr,C4Q:()=>lf,NYb:()=>Hx,giA:()=>dA,xvI:()=>vx,RxE:()=>rA,c1b:()=>eh,gXe:()=>po,mal:()=>V_,L39:()=>iO,EWP:()=>sO,a0P:()=>fO,Ol2:()=>HE,w6W:()=>RS,oH4:()=>wA,Rfq:()=>St,WQX:()=>Re,naY:()=>hN,QuC:()=>gi,fpN:()=>bN,HJs:()=>pO,N4e:()=>ia,vPA:()=>eD,O8t:()=>aO,H3F:()=>iA,H8p:()=>ta,KH2:()=>Ag,TgB:()=>qc,wOt:()=>de,WHO:()=>lA,e01:()=>uA,H5H:()=>m0,mq5:()=>Tw,JZv:()=>lr,LfX:()=>J,plB:()=>Rc,jNT:()=>V0,zjR:()=>hA,TL$:()=>TI,Tbb:()=>Qn,Vt3:()=>BE,GFd:()=>vD,OA$:()=>Oi,Jv_:()=>Nb,aNF:()=>Ob,R7$:()=>Lp,BMQ:()=>n0,AVh:()=>l0,wni:()=>sb,VBU:()=>Fn,FsC:()=>Ns,jDH:()=>dr,G2t:()=>yi,$C:()=>Li,EJ8:()=>To,rXU:()=>$u,nrm:()=>p0,eu8:()=>g0,bVm:()=>W_,qex:()=>G_,k0s:()=>z_,j41:()=>H_,RV6:()=>Iw,xGo:()=>Kc,KVO:()=>ve,kS0:()=>_d,QTQ:()=>Bd,bIt:()=>_0,lsd:()=>lb,XpG:()=>qw,SdG:()=>Qw,NAR:()=>Xw,Y8G:()=>a0,mGM:()=>cb,Njj:()=>qa,eBV:()=>Al,n$t:()=>Vd,DNE:()=>GE,EFF:()=>_b,JRh:()=>T0,DH7:()=>Rb,mxI:()=>b0,R50:()=>w0,GBs:()=>ab});let L=null,re=!1,Q=1;const be=Symbol("SIGNAL");function ce(e){const n=L;return L=e,n}const ye={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oe(e){if(re)throw new Error("");if(null===L)return;L.consumerOnSignalRead(e);const n=L.nextProducerIndex++;Ge(L),n<L.producerNode.length&&L.producerNode[n]!==e&&ge(L)&&Ie(L.producerNode[n],L.producerIndexOfThis[n]),L.producerNode[n]!==e&&(L.producerNode[n]=e,L.producerIndexOfThis[n]=ge(L)?ct(e,L,n):0),L.producerLastReadVersion[n]=e.version}function Be(e){if((!ge(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Q)){if(!e.producerMustRecompute(e)&&!_t(e))return e.dirty=!1,void(e.lastCleanEpoch=Q);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Q}}function Le(e){if(void 0===e.liveConsumerNode)return;const n=re;re=!0;try{for(const r of e.liveConsumerNode)r.dirty||nt(r)}finally{re=n}}function Me(){return!1!==L?.consumerAllowSignalWrites}function nt(e){e.dirty=!0,Le(e),e.consumerMarkedDirty?.(e)}function Qe(e){return e&&(e.nextProducerIndex=0),ce(e)}function Ve(e,n){if(ce(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ge(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function _t(e){Ge(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Be(r),o!==r.version))return!0}return!1}function dt(e){if(Ge(e),ge(e))for(let n=0;n<e.producerNode.length;n++)Ie(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ct(e,n,r){if(it(e),0===e.liveConsumerNode.length&&$e(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=ct(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Ie(e,n){if(it(e),1===e.liveConsumerNode.length&&$e(e))for(let o=0;o<e.producerNode.length;o++)Ie(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],l=e.liveConsumerNode[n];Ge(l),l.producerIndexOfThis[o]=n}}function ge(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ge(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function it(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function $e(e){return void 0!==e.producerNode}const Se=Symbol("UNSET"),Vt=Symbol("COMPUTING"),Bt=Symbol("ERRORED"),pn={...ye,value:Se,dirty:!0,error:null,equal:a,producerMustRecompute:e=>e.value===Se||e.value===Vt,producerRecomputeValue(e){if(e.value===Vt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Vt;const r=Qe(e);let o;try{o=e.computation()}catch(l){o=Bt,e.error=l}finally{Ve(e,r)}n!==Se&&n!==Bt&&o!==Bt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let Cn=function Yt(){throw new Error};function pt(){Cn()}let fe=null;function Ye(e,n){Me()||pt(),e.equal(e.value,n)||(e.value=n,function Nt(e){e.version++,function ke(){Q++}(),Le(e),fe?.()}(e))}const Ee={...ye,equal:a,value:void 0};var xn=N(4412),Xt=N(1413),Ot=N(8359),Ln=N(6354);const ht="https://g.co/ng/security#xss";class de extends Error{constructor(n,r){super(function ut(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function gn(e){return{toString:e}.toString()}const Kn="__parameters__";function An(e,n,r){return gn(()=>{const o=function Mr(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(n);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return _.annotation=g,_;function _(w,k,W){const ue=w.hasOwnProperty(Kn)?w[Kn]:Object.defineProperty(w,Kn,{value:[]})[Kn];for(;ue.length<=W;)ue.push(null);return(ue[W]=ue[W]||[]).push(g),w}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const lr=globalThis;function Xn(e){for(let n in e)if(e[n]===Xn)return n;throw Error("Could not find renamed property on target object.")}function Gn(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Qn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Qn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ar(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const ii=Xn({__forward_ref__:Xn});function St(e){return e.__forward_ref__=St,e.toString=function(){return Qn(this())},e}function et(e){return Fe(e)?e():e}function Fe(e){return"function"==typeof e&&e.hasOwnProperty(ii)&&e.__forward_ref__===St}function dr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ne(e){return O(e,ae)||O(e,bt)}function J(e){return null!==Ne(e)}function O(e,n){return e.hasOwnProperty(n)?e[n]:null}function we(e){return e&&(e.hasOwnProperty(Je)||e.hasOwnProperty(ln))?e[Je]:null}const ae=Xn({\u0275prov:Xn}),Je=Xn({\u0275inj:Xn}),bt=Xn({ngInjectableDef:Xn}),ln=Xn({ngInjectorDef:Xn});class Jt{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=dr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ui(e){return e&&!!e.\u0275providers}const _i=Xn({\u0275cmp:Xn}),Ko=Xn({\u0275dir:Xn}),Lo=Xn({\u0275pipe:Xn}),Io=Xn({\u0275mod:Xn}),Mi=Xn({\u0275fac:Xn}),Eo=Xn({__NG_ELEMENT_ID__:Xn}),is=Xn({__NG_ENV_ID__:Xn});function qn(e){return"string"==typeof e?e:null==e?"":String(e)}function Yr(e,n){throw new de(-201,!1)}var sr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(sr||{});let uo;function ms(){return uo}function Vi(e){const n=uo;return uo=e,n}function Ur(e,n,r){const o=Ne(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&sr.Optional?null:void 0!==n?n:void Yr()}const br={},ho="__NG_DI_FLAG__",Zi="ngTempTokenPath",U=/\n/gm,G="__source";let M;function F(e){const n=M;return M=e,n}function Y(e,n=sr.Default){if(void 0===M)throw new de(-203,!1);return null===M?Ur(e,void 0,n):M.get(e,n&sr.Optional?null:void 0,n)}function ve(e,n=sr.Default){return(ms()||Y)(et(e),n)}function Re(e,n=sr.Default){return ve(e,st(n))}function st(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Lt(e){const n=[];for(let r=0;r<e.length;r++){const o=et(e[r]);if(Array.isArray(o)){if(0===o.length)throw new de(900,!1);let l,d=sr.Default;for(let g=0;g<o.length;g++){const _=o[g],w=jt(_);"number"==typeof w?-1===w?l=_.token:d|=w:l=_}n.push(ve(l,d))}else n.push(ve(o))}return n}function Gt(e,n){return e[ho]=n,e.prototype[ho]=n,e}function jt(e){return e[ho]}const Rn=Gt(An("Optional"),8),Cr=Gt(An("SkipSelf"),4);function Vr(e,n){return e.hasOwnProperty(Mi)?e[Mi]:null}function Ji(e,n){e.forEach(r=>Array.isArray(r)?Ji(r,n):n(r))}function Ai(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Xs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function fi(e,n,r){let o=eo(e,n);return o>=0?e[1|o]=r:(o=~o,function as(e,n,r,o){let l=e.length;if(l==n)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>n;)e[l]=e[l-2],l--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function Qs(e,n){const r=eo(e,n);if(r>=0)return e[1|r]}function eo(e,n){return function Xo(e,n,r){let o=0,l=e.length>>r;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<r];if(n===g)return d<<r;g>n?l=d:o=d+1}return~(l<<r)}(e,n,1)}const Zr={},xr=[],Ar=new Jt(""),fo=new Jt("",-1),Qo=new Jt("");class xs{get(n,r=br){if(r===br){const o=new Error(`NullInjectorError: No provider for ${Qn(n)}!`);throw o.name="NullInjectorError",o}return r}}var to=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(to||{}),po=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(po||{}),Bo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Bo||{});function Tr(e,n,r){let o=e.length;for(;;){const l=e.indexOf(n,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=n.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}r=l+1}}function ur(e,n,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const d=r[o++],g=r[o++],_=r[o++];e.setAttribute(n,g,_,d)}else{const d=l,g=r[++o];oc(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function Co(e){return 3===e||4===e||6===e}function oc(e){return 64===e.charCodeAt(0)}function cs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?r=l:0===r||Ys(e,r,l,null,-1===r||2===r?n[++o]:null)}}return e}function Ys(e,n,r,o,l){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const _=e[d++];if("number"==typeof _){if(_===n){g=-1;break}if(_>n){g=d-1;break}}}for(;d<e.length;){const _=e[d];if("number"==typeof _)break;if(_===r){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const Zs="ng-template";function sc(e,n,r,o){let l=0;if(o){for(;l<n.length&&"string"==typeof n[l];l+=2)if("class"===n[l]&&-1!==Tr(n[l+1].toLowerCase(),r,0))return!0}else if(Ea(e))return!1;if(l=n.indexOf(1,l),l>-1){let d;for(;++l<n.length&&"string"==typeof(d=n[l]);)if(d.toLowerCase()===r)return!0}return!1}function Ea(e){return 4===e.type&&e.value!==Zs}function Ca(e,n,r){return n===(4!==e.type||r?e.value:Zs)}function Br(e,n,r){let o=4;const l=e.attrs,d=null!==l?function $a(e){for(let n=0;n<e.length;n++)if(Co(e[n]))return n;return e.length}(l):0;let g=!1;for(let _=0;_<n.length;_++){const w=n[_];if("number"!=typeof w){if(!g)if(4&o){if(o=2|1&o,""!==w&&!Ca(e,w,r)||""===w&&1===n.length){if(Ki(o))return!1;g=!0}}else if(8&o){if(null===l||!sc(e,l,w,r)){if(Ki(o))return!1;g=!0}}else{const k=n[++_],W=ac(w,l,Ea(e),r);if(-1===W){if(Ki(o))return!1;g=!0;continue}if(""!==k){let ue;if(ue=W>d?"":l[W+1].toLowerCase(),2&o&&k!==ue){if(Ki(o))return!1;g=!0}}}}else{if(!g&&!Ki(o)&&!Ki(w))return!1;if(g&&Ki(w))continue;g=!1,o=w|1&o}}return Ki(o)||g}function Ki(e){return!(1&e)}function ac(e,n,r,o){if(null===n)return-1;let l=0;if(o||!r){let d=!1;for(;l<n.length;){const g=n[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=n[++l];for(;"string"==typeof _;)_=n[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function ll(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function Ba(e,n,r=!1){for(let o=0;o<n.length;o++)if(Br(e,n[o],r))return!0;return!1}function z(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function j(e,n){return e?":not("+n.trim()+")":n}function R(e){let n=e[0],r=1,o=2,l="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const _=e[++r];l+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!Ki(g)&&(n+=j(d,l),l=""),o=g,d=d||!Ki(o);r++}return""!==l&&(n+=j(d,l)),n}function Fn(e){return gn(()=>{const n=ja(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===to.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||po.Emulated,styles:e.styles||xr,_:null,schemas:e.schemas||null,tView:null,id:""};Os(r);const o=e.dependencies;return r.directiveDefs=ks(o,!1),r.pipeDefs=ks(o,!0),r.id=function Pc(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function ir(e){return vr(e)||pi(e)}function qi(e){return null!==e}function Li(e){return gn(()=>({type:e.type,bootstrap:e.bootstrap||xr,declarations:e.declarations||xr,imports:e.imports||xr,exports:e.exports||xr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function si(e,n){if(null==e)return Zr;const r={};for(const o in e)if(e.hasOwnProperty(o)){const l=e[o];let d,g,_=Bo.None;Array.isArray(l)?(_=l[0],d=l[1],g=l[2]??d):(d=l,g=l),n?(r[d]=_!==Bo.None?[o,_]:o,n[d]=g):r[d]=o}return r}function Ns(e){return gn(()=>{const n=ja(e);return Os(n),n})}function To(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vr(e){return e[_i]||null}function pi(e){return e[Ko]||null}function ai(e){return e[Lo]||null}function gi(e){const n=vr(e)||pi(e)||ai(e);return null!==n&&n.standalone}function Ui(e,n){const r=e[Io]||null;if(!r&&!0===n)throw new Error(`Type ${Qn(e)} does not have '\u0275mod' property.`);return r}function ja(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Zr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||xr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:si(e.inputs,n),outputs:si(e.outputs),debugInfo:null}}function Os(e){e.features?.forEach(n=>n(e))}function ks(e,n){if(!e)return null;const r=n?ai:ir;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(qi)}function Fs(...e){return{\u0275providers:Ha(0,e),\u0275fromNgModule:!0}}function Ha(e,...n){const r=[],o=new Set;let l;const d=g=>{r.push(g)};return Ji(n,g=>{const _=g;za(_,d,[],o)&&(l||=[],l.push(_))}),void 0!==l&&ul(l,d),r}function ul(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];cc(l,d=>{n(d,o)})}}function za(e,n,r,o){if(!(e=et(e)))return!1;let l=null,d=we(e);const g=!d&&vr(e);if(d||g){if(g&&!g.standalone)return!1;l=e}else{const w=e.ngModule;if(d=we(w),!d)return!1;l=w}const _=o.has(l);if(g){if(_)return!1;if(o.add(l),g.dependencies){const w="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of w)za(k,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let k;o.add(l);try{Ji(d.imports,W=>{za(W,n,r,o)&&(k||=[],k.push(W))})}finally{}void 0!==k&&ul(k,n)}if(!_){const k=Vr(l)||(()=>new l);n({provide:l,useFactory:k,deps:xr},l),n({provide:Qo,useValue:l,multi:!0},l),n({provide:Ar,useValue:()=>ve(l),multi:!0},l)}const w=d.providers;if(null!=w&&!_){const k=e;cc(w,W=>{n(W,k)})}}}return l!==e&&void 0!==e.providers}function cc(e,n){for(let r of e)ui(r)&&(r=r.\u0275providers),Array.isArray(r)?cc(r,n):n(r)}const Ro=Xn({provide:String,useValue:Xn});function xc(e){return null!==e&&"object"==typeof e&&Ro in e}function no(e){return"function"==typeof e}const ta=new Jt(""),Ga={},hl={};let gr;function Nc(){return void 0===gr&&(gr=new xs),gr}class go{}class Es extends go{get destroyed(){return this._destroyed}constructor(n,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vs(n,g=>this.processProvider(g)),this.records.set(fo,Cs(void 0,this)),l.has("environment")&&this.records.set(go,Cs(void 0,this));const d=this.records.get(ta);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Qo,xr,sr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ce(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=F(this),o=Vi(void 0);try{return n()}finally{F(r),Vi(o)}}get(n,r=br,o=sr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(is))return n[is](this);o=st(o);const d=F(this),g=Vi(void 0);try{if(!(o&sr.SkipSelf)){let w=this.records.get(n);if(void 0===w){const k=function ra(e){return"function"==typeof e||"object"==typeof e&&e instanceof Jt}(n)&&Ne(n);w=k&&this.injectableDefInScope(k)?Cs(Ta(n),Ga):null,this.records.set(n,w)}if(null!=w)return this.hydrate(n,w)}return(o&sr.Self?Nc():this.parent).get(n,r=o&sr.Optional&&r===br?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[Zi]=_[Zi]||[]).unshift(Qn(n)),d)throw _;return function Wt(e,n,r,o){const l=e[Zi];throw n[G]&&l.unshift(n[G]),e.message=function cn(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=Qn(n);if(Array.isArray(n))l=n.map(Qn).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let _=n[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Qn(_)))}l=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace(U,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[Zi]=null,e}(_,n,"R3InjectorError",this.source)}throw _}finally{Vi(g),F(d)}}resolveInjectorInitializers(){const n=ce(null),r=F(this),o=Vi(void 0);try{const d=this.get(Ar,xr,sr.Self);for(const g of d)g()}finally{F(r),Vi(o),ce(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Qn(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(n){let r=no(n=et(n))?n:et(n&&n.provide);const o=function ls(e){return xc(e)?Cs(void 0,e.useValue):Cs(fl(e),Ga)}(n);if(!no(n)&&!0===n.multi){let l=this.records.get(r);l||(l=Cs(void 0,Ga,!0),l.factory=()=>Lt(l.multi),this.records.set(r,l)),r=n,l.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ce(null);try{return r.value===Ga&&(r.value=hl,r.value=r.factory()),"object"==typeof r.value&&r.value&&function na(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ce(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=et(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ta(e){const n=Ne(e),r=null!==n?n.factory:Vr(e);if(null!==r)return r;if(e instanceof Jt)throw new de(204,!1);if(e instanceof Function)return function hu(e){if(e.length>0)throw new de(204,!1);const r=function q(e){return e&&(e[ae]||e[bt])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new de(204,!1)}function fl(e,n,r){let o;if(no(e)){const l=et(e);return Vr(l)||Ta(l)}if(xc(e))o=()=>et(e.useValue);else if(function dl(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Lt(e.deps||[]));else if(function Is(e){return!(!e||!e.useExisting)}(e))o=()=>ve(et(e.useExisting));else{const l=et(e&&(e.useClass||e.provide));if(!function Da(e){return!!e.deps}(e))return Vr(l)||Ta(l);o=()=>new l(...Lt(e.deps))}return o}function Cs(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Vs(e,n){for(const r of e)Array.isArray(r)?Vs(r,n):r&&ui(r)?Vs(r.\u0275providers,n):n(r)}function ia(e,n){e instanceof Es&&e.assertNotDestroyed();const o=F(e),l=Vi(void 0);try{return n()}finally{F(o),Vi(l)}}function Yo(){return void 0!==ms()||null!=function se(){return M}()}const nr=0,rn=1,Mn=2,Sr=3,Si=4,Jr=5,xi=6,mo=7,$r=8,Ci=9,qr=10,Tn=11,Ls=12,gl=13,Ts=14,hi=15,Do=16,Wa=17,wa=18,Us=19,ml=20,Xi=21,sa=22,vo=23,jn=25,vl=1,Ds=7,uc=9,Ni=10;var fu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(fu||{});function ro(e){return Array.isArray(e)&&"object"==typeof e[vl]}function yo(e){return Array.isArray(e)&&!0===e[vl]}function yl(e){return!!(4&e.flags)}function wo(e){return e.componentOffset>-1}function dc(e){return!(1&~e.flags)}function Mo(e){return!!e.template}function ci(e){return!!(512&e[Mn])}class Ii{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function io(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function Oi(){return Bs}function Bs(e){return e.type.prototype.ngOnChanges&&(e.setInput=Aa),bs}function bs(){const e=Sa(this),n=e?.current;if(n){const r=e.previous;if(r===Zr)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function Aa(e,n,r,o,l){const d=this.declaredInputs[o],g=Sa(e)||function Ng(e,n){return e[$s]=n}(e,{previous:Zr,current:null}),_=g.current||(g.current={}),w=g.previous,k=w[d];_[d]=new Ii(k&&k.currentValue,r,w===Zr),io(e,n,l,r)}Oi.ngInherit=!0;const $s="__ngSimpleChanges__";function Sa(e){return e[$s]||null}const bo=function(e,n,r){};function jr(e){for(;Array.isArray(e);)e=e[nr];return e}function ca(e,n){return jr(n[e])}function Bi(e,n){return jr(n[e.index])}function Cl(e,n){return e.data[n]}function us(e,n){const r=n[e];return ro(r)?r:r[nr]}function Lc(e){return!(128&~e[Mn])}function js(e,n){return null==n?null:e[n]}function Ma(e){e[Wa]=0}function Bf(e){1024&e[Mn]||(e[Mn]|=1024,Lc(e)&&Tl(e))}function td(e){return!!(9216&e[Mn]||e[vo]?.dirty)}function mu(e){e[qr].changeDetectionScheduler?.notify(8),64&e[Mn]&&(e[Mn]|=1024),td(e)&&Tl(e)}function Tl(e){e[qr].changeDetectionScheduler?.notify(0);let n=jo(e);for(;null!==n&&!(8192&n[Mn])&&(n[Mn]|=8192,Lc(n));)n=jo(n)}function fc(e,n){if(!(256&~e[Mn]))throw new de(911,!1);null===e[Xi]&&(e[Xi]=[]),e[Xi].push(n)}function jo(e){const n=e[Sr];return yo(n)?n[Sr]:n}const yr={lFrame:hh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let nd=!1;function id(){return yr.bindingsEnabled}function pc(){return null!==yr.skipHydrationRootTNode}function Kt(){return yr.lFrame.lView}function Ir(){return yr.lFrame.tView}function Al(e){return yr.lFrame.contextLView=e,e[$r]}function qa(e){return yr.lFrame.contextLView=null,e}function ei(){let e=yu();for(;null!==e&&64===e.type;)e=e.parent;return e}function yu(){return yr.lFrame.currentTNode}function ds(e,n){const r=yr.lFrame;r.currentTNode=e,r.isParent=n}function Sl(){return yr.lFrame.isParent}function Bc(){yr.lFrame.isParent=!1}function Pa(){return nd}function jf(e){nd=e}function Hs(){return yr.lFrame.bindingIndex++}function Iu(e,n){const r=yr.lFrame;r.bindingIndex=r.bindingRootIndex=e,Rl(n)}function Rl(e){yr.lFrame.currentDirectiveIndex=e}function uh(){return yr.lFrame.currentQueryIndex}function Eu(e){yr.lFrame.currentQueryIndex=e}function Vg(e){const n=e[rn];return 2===n.type?n.declTNode:1===n.type?e[Jr]:null}function dh(e,n,r){if(r&sr.SkipSelf){let l=n,d=e;for(;!(l=l.parent,null!==l||r&sr.Host||(l=Vg(d),null===l||(d=d[Ts],10&l.type))););if(null===l)return!1;n=l,e=d}const o=yr.lFrame=mc();return o.currentTNode=n,o.lView=e,!0}function Qa(e){const n=mc(),r=e[rn];yr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function mc(){const e=yr.lFrame,n=null===e?null:e.child;return null===n?hh(e):n}function hh(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function fh(){const e=yr.lFrame;return yr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const zf=fh;function cd(){const e=fh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ao(){return yr.lFrame.selectedIndex}function $c(e){yr.lFrame.selectedIndex=e}function vi(){const e=yr.lFrame;return Cl(e.tView,e.selectedIndex)}let ud=!0;function jc(){return ud}function Ss(e){ud=e}function Tu(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:w,ngAfterViewChecked:k,ngOnDestroy:W}=d;g&&(e.contentHooks??=[]).push(-r,g),_&&((e.contentHooks??=[]).push(r,_),(e.contentCheckHooks??=[]).push(r,_)),w&&(e.viewHooks??=[]).push(-r,w),k&&((e.viewHooks??=[]).push(r,k),(e.viewCheckHooks??=[]).push(r,k)),null!=W&&(e.destroyHooks??=[]).push(r,W)}}function Hc(e,n,r){vc(e,n,3,r)}function Ml(e,n,r,o){(3&e[Mn])===r&&vc(e,n,r,o)}function dd(e,n){let r=e[Mn];(3&r)===n&&(r&=16383,r+=1,e[Mn]=r)}function vc(e,n,r,o){const d=o??-1,g=n.length-1;let _=0;for(let w=void 0!==o?65535&e[Wa]:0;w<g;w++)if("number"==typeof n[w+1]){if(_=n[w],null!=o&&_>=o)break}else n[w]<0&&(e[Wa]+=65536),(_<d||-1==d)&&(xl(e,r,n,w),e[Wa]=(4294901760&e[Wa])+w+2),w++}function Pl(e,n){bo(4,e,n);const r=ce(null);try{n.call(e)}finally{ce(r),bo(5,e,n)}}function xl(e,n,r,o){const l=r[o]<0,d=r[o+1],_=e[l?-r[o]:r[o]];l?e[Mn]>>14<e[Wa]>>16&&(3&e[Mn])===n&&(e[Mn]+=16384,Pl(_,d)):Pl(_,d)}const Ya=-1;class Nl{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const hd={};class Rs{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=st(o);const l=this.injector.get(n,hd,o);return l!==hd||r===hd?l:this.parentInjector.get(n,r,o)}}function yc(e){return e!==Ya}function Na(e){return 32767&e}function _c(e,n){let r=function Du(e){return e>>16}(e),o=n;for(;r>0;)o=o[Ts],r--;return o}let pd=!0;function wu(e){const n=pd;return pd=e,n}const gd=255,Xf=5;let bu=0;const ua={};function Ol(e,n){const r=Fl(e,n);if(-1!==r)return r;const o=n[rn];o.firstCreatePass&&(e.injectorIndex=n.length,kl(o.data,e),kl(n,null),kl(o.blueprint,null));const l=Ic(e,n),d=e.injectorIndex;if(yc(l)){const g=Na(l),_=_c(l,n),w=_[rn].data;for(let k=0;k<8;k++)n[d+k]=_[g+k]|w[g+k]}return n[d+8]=l,d}function kl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Fl(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ic(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=n;for(;null!==l;){if(o=Zf(l),null===o)return Ya;if(r++,l=l[Ts],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ya}function zc(e,n,r){!function Qf(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Eo)&&(o=r[Eo]),null==o&&(o=r[Eo]=bu++);const l=o&gd;n.data[e+(l>>Xf)]|=1<<l}(e,n,r)}function md(e,n,r){if(r&sr.Optional||void 0!==e)return e;Yr()}function Au(e,n,r,o){if(r&sr.Optional&&void 0===o&&(o=null),!(r&(sr.Self|sr.Host))){const l=e[Ci],d=Vi(void 0);try{return l?l.get(n,o,r&sr.Optional):Ur(n,o,r&sr.Optional)}finally{Vi(d)}}return md(o,0,r)}function vd(e,n,r,o=sr.Default,l){if(null!==e){if(2048&n[Mn]&&!(o&sr.Self)){const g=function Yf(e,n,r,o,l){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Mn]&&!(512&g[Mn]);){const _=_h(d,g,r,o|sr.Self,ua);if(_!==ua)return _;let w=d.parent;if(!w){const k=g[ml];if(k){const W=k.get(r,ua,o);if(W!==ua)return W}w=Zf(g),g=g[Ts]}d=w}return l}(e,n,r,o,ua);if(g!==ua)return g}const d=_h(e,n,r,o,ua);if(d!==ua)return d}return Au(n,r,o,l)}function _h(e,n,r,o,l){const d=function jg(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Eo)?e[Eo]:void 0;return"number"==typeof n?n>=0?n&gd:Eh:n}(r);if("function"==typeof d){if(!dh(n,e,o))return o&sr.Host?md(l,0,o):Au(n,r,o,l);try{let g;if(g=d(o),null!=g||o&sr.Optional)return g;Yr()}finally{zf()}}else if("number"==typeof d){let g=null,_=Fl(e,n),w=Ya,k=o&sr.Host?n[hi][Jr]:null;for((-1===_||o&sr.SkipSelf)&&(w=-1===_?Ic(e,n):n[_+8],w!==Ya&&Ih(o,!1)?(g=n[rn],_=Na(w),n=_c(w,n)):_=-1);-1!==_;){const W=n[rn];if(Po(d,_,W.data)){const ue=yd(_,n,r,g,o,k);if(ue!==ua)return ue}w=n[_+8],w!==Ya&&Ih(o,n[rn].data[_+8]===k)&&Po(d,_,n)?(g=W,_=Na(w),n=_c(w,n)):_=-1}}return l}function yd(e,n,r,o,l,d){const g=n[rn],_=g.data[e+8],W=Za(_,g,r,null==o?wo(_)&&pd:o!=g&&!!(3&_.type),l&sr.Host&&d===_);return null!==W?Gc(n,g,W,_):ua}function Za(e,n,r,o,l){const d=e.providerIndexes,g=n.data,_=1048575&d,w=e.directiveStart,W=d>>20,je=l?_+W:e.directiveEnd;for(let tt=o?_:_+W;tt<je;tt++){const It=g[tt];if(tt<w&&r===It||tt>=w&&It.type===r)return tt}if(l){const tt=g[w];if(tt&&Mo(tt)&&tt.type===r)return w}return null}function Gc(e,n,r,o){let l=e[r];const d=n.data;if(function Gf(e){return e instanceof Nl}(l)){const g=l;g.resolving&&function os(e,n){throw n&&n.join(" > "),new de(-200,e)}(function tr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():qn(e)}(d[r]));const _=wu(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?Vi(g.injectImpl):null;dh(e,o,sr.Default);try{l=e[r]=g.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function Cu(e,n,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=n.type.prototype;if(o){const g=Bs(n);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}l&&(r.preOrderHooks??=[]).push(0-e,l),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==k&&Vi(k),wu(_),g.resolving=!1,zf()}}return l}function Po(e,n,r){return!!(r[n+(e>>Xf)]&1<<e)}function Ih(e,n){return!(e&sr.Self||e&sr.Host&&n)}class $i{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return vd(this._tNode,this._lView,n,st(o),r)}}function Eh(){return new $i(ei(),Kt())}function Kc(e){return gn(()=>{const n=e.prototype.constructor,r=n[Mi]||Ch(n),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[Mi]||Ch(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ch(e){return Fe(e)?()=>{const n=Ch(et(e));return n&&n()}:Vr(e)}function Zf(e){const n=e[rn],r=n.type;return 2===r?n.declTNode:1===r?e[Jr]:null}function _d(e){return function yh(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const d=r[l];if(Co(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(d===n)return r[l+1];l+=2}}}return null}(ei(),e)}function $l(e,n=null,r=null,o){const l=tp(e,n,r,o);return l.resolveInjectorInitializers(),l}function tp(e,n=null,r=null,o,l=new Set){const d=[r||xr,Fs(e)];return o=o||("object"==typeof e?void 0:Qn(e)),new Es(d,n||Nc(),o||null,l)}class _o{static{this.THROW_IF_NOT_FOUND=br}static{this.NULL=new xs}static create(n,r){if(Array.isArray(n))return $l({name:""},r,n,"");{const o=n.name??"";return $l({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=dr({token:_o,providedIn:"any",factory:()=>ve(fo)})}static{this.__NG_ELEMENT_ID__=-1}}new Jt("").__NG_ELEMENT_ID__=e=>{const n=ei();if(null===n)throw new de(204,!1);if(2&n.type)return n.value;if(e&sr.Optional)return null;throw new de(204,!1)};function Mu(e){return e.ngOriginalError}const Ed=!0;let ji=(()=>{class e{static{this.__NG_ELEMENT_ID__=wh}static{this.__NG_ENV_ID__=r=>r}}return e})();class Pu extends ji{constructor(n){super(),this._lView=n}onDestroy(n){return fc(this._lView,n),()=>function As(e,n){if(null===e[Xi])return;const r=e[Xi].indexOf(n);-1!==r&&e[Xi].splice(r,1)}(this._lView,n)}}function wh(){return new Pu(Kt())}let qc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e})}}return e})();const ha=class jl extends Xt.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Yo()&&(this.destroyRef=Re(ji,{optional:!0})??void 0,this.pendingTasks=Re(qc,{optional:!0})??void 0)}emit(n){const r=ce(null);try{super.next(n)}finally{ce(r)}}subscribe(n,r,o){let l=n,d=r||(()=>null),g=o;if(n&&"object"==typeof n){const w=n;l=w.next?.bind(w),d=w.error?.bind(w),g=w.complete?.bind(w)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const _=super.subscribe({next:l,error:d,complete:g});return n instanceof Ot.yU&&n.add(_),_}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function Xc(...e){}function np(e){let n,r;function o(){e=Xc;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Hl(e){return queueMicrotask(()=>e()),()=>{e=Xc}}const xu="isAngularZone",Cd=xu+"_ID";let bh=0;class y{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=Ed}=n;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=d,function V(e){const n=()=>{!function I(e){function n(){np(()=>{e.callbackScheduled=!1,ee(e),e.isCheckStableRunning=!0,f(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),ee(e))}(e)},r=bh++;e._inner=e._inner.fork({name:"angular",properties:{[xu]:!0,[Cd]:r,[Cd+r]:!0},onInvokeTask:(o,l,d,g,_,w)=>{if(function wn(e){return Un(e,"__ignore_ng_zone__")}(w))return o.invokeTask(d,g,_,w);try{return We(e),o.invokeTask(d,g,_,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),yt(e)}},onInvoke:(o,l,d,g,_,w,k)=>{try{return We(e),o.invoke(d,g,_,w,k)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function On(e){return Un(e,"__scheduler_tick__")}(w)&&n(),yt(e)}},onHasTask:(o,l,d,g)=>{o.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,ee(e),f(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(xu)}static assertInAngularZone(){if(!y.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(y.isInAngularZone())throw new de(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,n,h,Xc,Xc);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const h={};function f(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ee(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function We(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yt(e){e._nesting--,f(e)}class zt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,l){return n.apply(r,o)}}function Un(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class co{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&Mu(n);for(;r&&Mu(r);)r=Mu(r);return r||null}}const zl=new Jt("",{providedIn:"root",factory:()=>{const e=Re(y),n=Re(co);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function Dd(){return nc(ei(),Kt())}function nc(e,n){return new Cc(Bi(e,n))}let Cc=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=Dd}}return e})();function ip(e){return e instanceof Cc?e.nativeElement:e}function wd(){return this._results[Symbol.iterator]()}class Rh{get changes(){return this._changes??=new ha}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Rh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=wd)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function fr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Lr(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=n[o];if(r&&(l=r(l),d=r(d)),d!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Mh(e){return!(128&~e.flags)}const Kg=new Map;let qg=0;function xh(e){Kg.delete(e[Us])}const ap="__ngContext__";function Ho(e,n){ro(n)?(e[ap]=n[Us],function Xg(e){Kg.set(e[Us],e)}(n)):e[ap]=n}function ku(e){return hp(e[Ls])}function rm(e){return hp(e[Si])}function hp(e){for(;null!==e&&!yo(e);)e=e[Si];return e}let vp;function TI(e){vp=e}const Ad=new Jt("",{providedIn:"root",factory:()=>DI}),DI="ng",yp=new Jt(""),Fu=new Jt("",{providedIn:"platform",factory:()=>"unknown"}),Sd=new Jt("",{providedIn:"root",factory:()=>function Gl(){if(void 0!==vp)return vp;if(typeof document<"u")return document;throw new de(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dm=()=>null;function fm(e,n,r=!1){return dm(e,n,r)}const Nd=new Jt("",{providedIn:"root",factory:()=>!1});let jh;function Di(e){return function Hh(){if(void 0===jh&&(jh=null,lr.trustedTypes))try{jh=lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jh}()?.createScriptURL(e)||e}class PI{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}function wc(e){return e instanceof PI?e.changingThisBreaksApplicationSecurity:e}function kd(e,n){const r=function OI(e){return e instanceof PI&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${ht})`)}return r===n}const Qc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Zc||{});function yy(e){const n=Rp();return n?n.sanitize(Zc.URL,e)||"":kd(e,"URL")?wc(e):function fy(e){return(e=String(e)).match(Qc)?e:"unsafe:"+e}(qn(e))}function qh(e){const n=Rp();if(n)return Di(n.sanitize(Zc.RESOURCE_URL,e)||"");if(kd(e,"ResourceURL"))return Di(wc(e));throw new de(904,!1)}function Vd(e,n,r){return function Ql(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?qh:yy}(n,r)(e)}function Rp(){const e=Kt();return e&&e[qr].sanitizer}const UT=/^>|^->|<!--|-->|--!>|<!-$/g,km=/(<|>)/g,LI="\u200b$1\u200b";function ga(e){return e instanceof Function?e():e}var Zh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zh||{});let Bm;function $m(e,n){return Bm(e,n)}function Ud(e,n,r,o,l){if(null!=o){let d,g=!1;yo(o)?d=o:ro(o)&&(g=!0,o=o[nr]);const _=jr(o);0===e&&null!==r?null==l?Ry(n,r,_):Gs(n,r,_,l||null,!0):1===e&&null!==r?Gs(n,r,_,l||null,!0):2===e?function Vp(e,n,r){e.removeChild(null,n,r)}(n,_,g):3===e&&n.destroyNode(_),null!=d&&function GT(e,n,r,o,l){const d=r[Ds];d!==jr(r)&&Ud(n,e,o,d,l);for(let _=Ni;_<r.length;_++){const w=r[_];Jh(w[rn],w,e,n,o,d)}}(n,e,d,r,l)}}function by(e,n){return e.createComment(function Yh(e){return e.replace(UT,n=>n.replace(km,LI))}(n))}function Op(e,n,r){return e.createElement(n,r)}function Ay(e,n){n[qr].changeDetectionScheduler?.notify(9),Jh(e,n,n[Tn],2,null,null)}function tE(e,n){const r=e[uc],o=n[Sr];(ro(o)||n[hi]!==o[Sr][hi])&&(e[Mn]|=fu.HasTransplantedViews),null===r?e[uc]=[n]:r.push(n)}function Sy(e,n){const r=e[uc],o=r.indexOf(n);r.splice(o,1)}function kp(e,n){if(e.length<=Ni)return;const r=Ni+n,o=e[r];if(o){const l=o[Do];null!==l&&l!==e&&Sy(l,o),n>0&&(e[r-1][Si]=o[Si]);const d=Xs(e,Ni+n);!function ZI(e,n){Ay(e,n),n[nr]=null,n[Jr]=null}(o[rn],o);const g=d[wa];null!==g&&g.detachView(d[rn]),o[Sr]=null,o[Si]=null,o[Mn]&=-129}return o}function Fp(e,n){if(!(256&n[Mn])){const r=n[Tn];r.destroyNode&&Jh(e,n,r,3,null,null),function eE(e){let n=e[Ls];if(!n)return jm(e[rn],e);for(;n;){let r=null;if(ro(n))r=n[Ls];else{const o=n[Ni];o&&(r=o)}if(!r){for(;n&&!n[Si]&&n!==e;)ro(n)&&jm(n[rn],n),n=n[Sr];null===n&&(n=e),ro(n)&&jm(n[rn],n),r=n&&n[Si]}n=r}}(n)}}function jm(e,n){if(256&n[Mn])return;const r=ce(null);try{n[Mn]&=-129,n[Mn]|=256,n[vo]&&dt(n[vo]),function zT(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=n[r[o]];if(!(l instanceof Nl)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=l[d[g]],w=d[g+1];bo(4,_,w);try{w.call(_)}finally{bo(5,_,w)}}else{bo(4,l,d);try{d.call(l)}finally{bo(5,l,d)}}}}}(e,n),function nE(e,n){const r=e.cleanup,o=n[mo];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[mo]=null);const l=n[Xi];if(null!==l){n[Xi]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(e,n),1===n[rn].type&&n[Tn].destroy();const o=n[Do];if(null!==o&&yo(n[Sr])){o!==n[Sr]&&Sy(o,n);const l=n[wa];null!==l&&l.detachView(e)}xh(n)}finally{ce(r)}}function Hm(e,n,r){return function zm(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[nr];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===po.None||d===po.Emulated)return null}return Bi(o,r)}}(e,n.parent,r)}function Gs(e,n,r,o,l){e.insertBefore(n,r,o,l)}function Ry(e,n,r){e.appendChild(n,r)}function My(e,n,r,o,l){null!==o?Gs(e,n,r,o,l):Ry(e,n,r)}function Gm(e,n){return e.parentNode(n)}function Py(e,n,r){return Ny(e,n,r)}let Oy,Ny=function xy(e,n,r){return 40&e.type?Bi(e,r):null};function Wm(e,n,r,o){const l=Hm(e,o,n),d=n[Tn],_=Py(o.parent||n[Jr],o,n);if(null!=l)if(Array.isArray(r))for(let w=0;w<r.length;w++)My(d,l,r[w],_,!1);else My(d,l,r,_,!1);void 0!==Oy&&Oy(d,o,n,r,l)}function Zl(e,n){if(null!==n){const r=n.type;if(3&r)return Bi(n,e);if(4&r)return Fy(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return Zl(e,o);{const l=e[n.index];return yo(l)?Fy(-1,l):jr(l)}}if(128&r)return Zl(e,n.next);if(32&r)return $m(n,e)()||jr(e[n.index]);{const o=ky(e,n);return null!==o?Array.isArray(o)?o[0]:Zl(jo(e[hi]),o):Zl(e,n.next)}}return null}function ky(e,n){return null!==n?e[hi][Jr].projection[n.projection]:null}function Fy(e,n){const r=Ni+e+1;if(r<n.length){const o=n[r],l=o[rn].firstChild;if(null!==l)return Zl(o,l)}return n[Ds]}function Vy(e,n,r,o,l,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const _=o[r.index],w=r.type;if(g&&0===n&&(_&&Ho(jr(_),o),r.flags|=2),32&~r.flags)if(8&w)Vy(e,n,r.child,o,l,d,!1),Ud(n,e,l,_,d);else if(32&w){const k=$m(r,o);let W;for(;W=k();)Ud(n,e,l,W,d);Ud(n,e,l,_,d)}else 16&w?sE(e,n,o,r,l,d):Ud(n,e,l,_,d);r=g?r.projectionNext:r.next}}function Jh(e,n,r,o,l,d){Vy(r,o,e.firstChild,n,l,d,!1)}function sE(e,n,r,o,l,d){const g=r[hi],w=g[Jr].projection[o.projection];if(Array.isArray(w))for(let k=0;k<w.length;k++)Ud(n,e,l,w[k],d);else{let k=w;const W=g[Sr];Mh(o)&&(k.flags|=128),Vy(e,n,k,W,l,d,!0)}}function ef(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function Uy(e,n,r){const{mergedAttrs:o,classes:l,styles:d}=r;null!==o&&ur(e,n,o),null!==l&&ef(e,n,l),null!==d&&function Km(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const Pr={};function Lp(e=1){qm(Ir(),Kt(),Ao()+e,!1)}function qm(e,n,r,o){if(!o)if(3&~n[Mn]){const d=e.preOrderHooks;null!==d&&Ml(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Hc(n,d,r)}$c(r)}function $u(e,n=sr.Default){const r=Kt();return null===r?ve(e,n):vd(ei(),r,et(e),n)}function Bd(){throw new Error("invalid")}function Up(e,n,r,o,l,d){const g=ce(null);try{let _=null;l&Bo.SignalBased&&(_=n[o][be]),null!==_&&void 0!==_.transformFn&&(d=_.transformFn(d)),l&Bo.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,_,d,r,o):io(n,_,o,d)}finally{ce(g)}}function Bp(e,n,r,o,l,d,g,_,w,k,W){const ue=n.blueprint.slice();return ue[nr]=l,ue[Mn]=204|o,(null!==k||e&&2048&e[Mn])&&(ue[Mn]|=2048),Ma(ue),ue[Sr]=ue[Ts]=e,ue[$r]=r,ue[qr]=g||e&&e[qr],ue[Tn]=_||e&&e[Tn],ue[Ci]=w||e&&e[Ci]||null,ue[Jr]=d,ue[Us]=function gI(){return qg++}(),ue[xi]=W,ue[ml]=k,ue[hi]=2==n.type?e[hi]:ue,ue}function Jl(e,n,r,o,l){let d=e.data[n];if(null===d)d=function $d(e,n,r,o,l){const d=yu(),g=Sl(),w=e.data[n]=function ju(e,n,r,o,l,d){let g=n?n.injectorIndex:-1,_=0;return pc()&&(_|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,n,o,l);return null===e.firstChild&&(e.firstChild=w),null!==d&&(g?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(e,n,r,o,l),function lh(){return yr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=l;const g=function oo(){const e=yr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ds(d,!0),d}function tf(e,n,r,o){if(0===r)return-1;const l=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return l}function Xm(e,n,r,o,l){const d=Ao(),g=2&o;try{$c(-1),g&&n.length>jn&&qm(e,n,jn,!1),bo(g?2:0,l),r(o,l)}finally{$c(d),bo(g?3:1,l)}}function $p(e,n,r){if(yl(n)){const o=ce(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const _=e.data[g];_.contentQueries&&_.contentQueries(1,r[g],g)}}finally{ce(o)}}}function el(e,n,r){id()&&(function jy(e,n,r,o){const l=r.directiveStart,d=r.directiveEnd;wo(r)&&function vE(e,n,r){const o=Bi(n,e),l=fs(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const _=t(e,Bp(e,l,null,g,o,n,null,e[qr].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=_}(n,r,e.data[l+r.componentOffset]),e.firstCreatePass||Ol(r,n),Ho(o,n);const g=r.initialInputs;for(let _=l;_<d;_++){const w=e.data[_],k=Gc(n,e,_,r);Ho(k,n),null!==g&&yE(0,_-l,k,w,0,g),Mo(w)&&(us(r.index,n)[$r]=Gc(n,e,_,r))}}(e,n,r,Bi(r,n)),!(64&~r.flags)&&Hy(e,n,r))}function Ws(e,n,r=Bi){const o=n.localNames;if(null!==o){let l=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],_=-1===g?r(n,e):e[g];e[l++]=_}}}function fs(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=jp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function jp(e,n,r,o,l,d,g,_,w,k,W){const ue=jn+o,je=ue+l,tt=function By(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:Pr);return r}(ue,je),It="function"==typeof k?k():k;return tt[rn]={type:e,blueprint:tt,template:r,queries:null,viewQuery:_,declTNode:n,data:tt.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:It,incompleteFirstPass:!1,ssrId:W}}let ps=()=>null;function Hp(e,n,r,o,l){for(let d in n){if(!n.hasOwnProperty(d))continue;const g=n[d];if(void 0===g)continue;o??={};let _,w=Bo.None;Array.isArray(g)?(_=g[0],w=g[1]):_=g;let k=d;if(null!==l){if(!l.hasOwnProperty(d))continue;k=l[d]}0===e?eu(o,r,k,_,w):eu(o,r,k,_)}return o}function eu(e,n,r,o,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==l&&d.push(l)}function Ks(e,n,r,o,l,d,g,_){const w=Bi(n,r);let W,k=n.inputs;!_&&null!=k&&(W=k[o])?(S(e,r,W,o,l),wo(n)&&function KT(e,n){const r=us(n,e);16&r[Mn]||(r[Mn]|=64)}(r,n.index)):3&n.type&&(o=function uE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,n.value||"",o):l,d.setProperty(w,o,l))}function Ym(e,n,r,o){if(id()){const l=null===o?null:{"":-1},d=function fE(e,n){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let d=0;d<r.length;d++){const g=r[d];if(Ba(n,g.selectors,!1))if(o||(o=[]),Mo(g))if(null!==g.findHostDirectiveDefs){const _=[];l=l||new Map,g.findHostDirectiveDefs(g,_,l),o.unshift(..._,g),Wp(e,n,_.length)}else o.unshift(g),Wp(e,n,0);else l=l||new Map,g.findHostDirectiveDefs?.(g,o,l),o.push(g)}return null===o?null:[o,l]}(e,r);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&zp(e,n,r,g,l,_),l&&function zy(e,n,r){if(n){const o=e.localNames=[];for(let l=0;l<n.length;l+=2){const d=r[n[l+1]];if(null==d)throw new de(-301,!1);o.push(n[l],d)}}}(r,o,l)}r.mergedAttrs=cs(r.mergedAttrs,r.attrs)}function zp(e,n,r,o,l,d){for(let k=0;k<o.length;k++)zc(Ol(r,n),e,o[k].type);!function gE(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let k=0;k<o.length;k++){const W=o[k];W.providersResolver&&W.providersResolver(W)}let g=!1,_=!1,w=tf(e,n,o.length,null);for(let k=0;k<o.length;k++){const W=o[k];r.mergedAttrs=cs(r.mergedAttrs,W.hostAttrs),mE(e,r,n,w,W),pE(w,W,l),null!==W.contentQueries&&(r.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(r.flags|=64);const ue=W.type.prototype;!g&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),g=!0),!_&&(ue.ngOnChanges||ue.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),_=!0),w++}!function lE(e,n,r){const l=n.directiveEnd,d=e.data,g=n.attrs,_=[];let w=null,k=null;for(let W=n.directiveStart;W<l;W++){const ue=d[W],je=r?r.get(ue):null,It=je?je.outputs:null;w=Hp(0,ue.inputs,W,w,je?je.inputs:null),k=Hp(1,ue.outputs,W,k,It);const tn=null===w||null===g||Ea(n)?null:qT(w,W,g);_.push(tn)}null!==w&&(w.hasOwnProperty("class")&&(n.flags|=8),w.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=w,n.outputs=k}(e,r,d)}function Hy(e,n,r){const o=r.directiveStart,l=r.directiveEnd,d=r.index,g=function Fg(){return yr.lFrame.currentDirectiveIndex}();try{$c(d);for(let _=o;_<l;_++){const w=e.data[_],k=n[_];Rl(_),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Zm(w,k)}}finally{$c(-1),Rl(g)}}function Zm(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Wp(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function pE(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Mo(n)&&(r[""]=e)}}function mE(e,n,r,o,l){e.data[o]=l;const d=l.factory||(l.factory=Vr(l.type)),g=new Nl(d,Mo(l),$u);e.blueprint[o]=g,r[o]=g,function $y(e,n,r,o,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const _=~n.index;(function Gp(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=_&&g.push(_),g.push(r,o,d)}}(e,n,o,tf(e,r,l.hostVars,Pr),l)}function Ac(e,n,r,o,l,d){const g=Bi(e,n);!function Kp(e,n,r,o,l,d,g){if(null==d)e.removeAttribute(n,l,r);else{const _=null==g?qn(d):g(d,o||"",l);e.setAttribute(n,l,_,r)}}(n[Tn],g,d,e.value,r,o,l)}function yE(e,n,r,o,l,d){const g=d[n];if(null!==g)for(let _=0;_<g.length;)Up(o,r,g[_++],g[_++],g[_++],g[_++])}function qT(e,n,r){let o=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let _=0;_<g.length;_+=3)if(g[_]===n){o.push(d,g[_+1],g[_+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function Gy(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function c(e,n){const r=e.contentQueries;if(null!==r){const o=ce(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const _=e.data[g];Eu(r[l]),_.contentQueries(2,n[g],g)}}}finally{ce(o)}}}function t(e,n){return e[Ls]?e[gl][Si]=n:e[Ls]=n,e[gl]=n,n}function i(e,n,r){Eu(0);const o=ce(null);try{n(e,r)}finally{ce(o)}}function u(e){return e[mo]??=[]}function p(e){return e.cleanup??=[]}function T(e,n){const r=e[Ci],o=r?r.get(co,null):null;o&&o.handleError(n)}function S(e,n,r,o,l){for(let d=0;d<r.length;){const g=r[d++],_=r[d++],w=r[d++];Up(e.data[g],n[g],o,_,w,l)}}function te(e,n){const r=us(n,e),o=r[rn];!function Ce(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const l=r[nr];null!==l&&null===r[xi]&&(r[xi]=fm(l,r[Ci])),Ze(o,r,r[$r])}function Ze(e,n,r){Qa(n);try{const o=e.viewQuery;null!==o&&i(1,o,r);const l=e.template;null!==l&&Xm(e,n,l,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[wa]?.finishViewCreation(e),e.staticContentQueries&&c(e,n),e.staticViewQueries&&i(2,e.viewQuery,r);const d=e.components;null!==d&&function At(e,n){for(let r=0;r<n.length;r++)te(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Mn]&=-5,cd()}}function Qt(e,n,r,o){const l=ce(null);try{const d=n.tView,w=Bp(e,d,r,4096&e[Mn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);w[Do]=e[n.index];const W=e[wa];return null!==W&&(w[wa]=W.createEmbeddedView(d)),Ze(d,w,r),w}finally{ce(l)}}function on(e,n){return!n||null===n.firstChild||Mh(e)}function Bn(e,n,r,o=!0){const l=n[rn];if(function HT(e,n,r,o){const l=Ni+o,d=r.length;o>0&&(r[l-1][Si]=n),o<d-Ni?(n[Si]=r[l],Ai(r,Ni+o,n)):(r.push(n),n[Si]=null),n[Sr]=r;const g=n[Do];null!==g&&r!==g&&tE(g,n);const _=n[wa];null!==_&&_.insertView(e),mu(n),n[Mn]|=128}(l,n,e,r),o){const g=Fy(r,e),_=n[Tn],w=Gm(_,e[Ds]);null!==w&&function JI(e,n,r,o,l,d){o[nr]=l,o[Jr]=n,Jh(e,o,r,1,l,d)}(l,e[Jr],_,n,w,g)}const d=n[xi];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Hn(e,n,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(jr(d)),yo(d)&&_r(d,o);const g=r.type;if(8&g)Hn(e,n,r.child,o);else if(32&g){const _=$m(r,n);let w;for(;w=_();)o.push(w)}else if(16&g){const _=ky(n,r);if(Array.isArray(_))o.push(..._);else{const w=jo(n[hi]);Hn(w[rn],w,_,o,!0)}}r=l?r.projectionNext:r.next}return o}function _r(e,n){for(let r=Ni;r<e.length;r++){const o=e[r],l=o[rn].firstChild;null!==l&&Hn(o[rn],o,l,n)}e[Ds]!==e[nr]&&n.push(e[Ds])}let zr=[];const at={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Tl(e.lView)},consumerOnSignalRead(){this.lView[vo]=this}},Dt={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=jo(e.lView);for(;n&&!xt(n[rn]);)n=jo(n);n&&Bf(n)},consumerOnSignalRead(){this.lView[vo]=this}};function xt(e){return 2!==e.type}const ot=100;function ka(e,n=!0,r=0){const o=e[qr],l=o.rendererFactory;l.begin?.();try{!function sf(e,n){const r=Pa();try{jf(!0),Sc(e,n);let o=0;for(;td(e);){if(o===ot)throw new de(103,!1);o++,Sc(e,1)}}finally{jf(r)}}(e,r)}catch(g){throw n&&T(e,g),g}finally{l.end?.(),o.inlineEffectRunner?.flush()}}function af(e,n,r,o){const l=n[Mn];if(!(256&~l))return;n[qr].inlineEffectRunner?.flush(),Qa(n);let _=!0,w=null,k=null;xt(e)?(k=function Or(e){return e[vo]??function vt(e){const n=zr.pop()??Object.create(at);return n.lView=e,n}(e)}(n),w=Qe(k)):null===function Te(){return L}()?(_=!1,k=function Ct(e){const n=e[vo]??Object.create(Dt);return n.lView=e,n}(n),w=Qe(k)):n[vo]&&(dt(n[vo]),n[vo]=null);try{Ma(n),function la(e){return yr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Xm(e,n,r,2,o);const W=!(3&~l);if(W){const tt=e.preOrderCheckHooks;null!==tt&&Hc(n,tt,null)}else{const tt=e.preOrderHooks;null!==tt&&Ml(n,tt,0,null),dd(n,0)}if(function Jm(e){for(let n=ku(e);null!==n;n=rm(n)){if(!(n[Mn]&fu.HasTransplantedViews))continue;const r=n[uc];for(let o=0;o<r.length;o++)Bf(r[o])}}(n),Hd(n,0),null!==e.contentQueries&&c(e,n),W){const tt=e.contentCheckHooks;null!==tt&&Hc(n,tt)}else{const tt=e.contentHooks;null!==tt&&Ml(n,tt,1),dd(n,1)}!function aE(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)$c(~l);else{const d=l,g=r[++o],_=r[++o];Iu(g,d),_(2,n[d])}}}finally{$c(-1)}}(e,n);const ue=e.components;null!==ue&&Jo(n,ue,0);const je=e.viewQuery;if(null!==je&&i(2,je,o),W){const tt=e.viewCheckHooks;null!==tt&&Hc(n,tt)}else{const tt=e.viewHooks;null!==tt&&Ml(n,tt,2),dd(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[sa]){for(const tt of n[sa])tt();n[sa]=null}n[Mn]&=-73}catch(W){throw Tl(n),W}finally{null!==k&&(Ve(k,w),_&&function Ke(e){e.lView[vo]!==e&&(e.lView=null,zr.push(e))}(k)),cd()}}function Hd(e,n){for(let r=ku(e);null!==r;r=rm(r))for(let o=Ni;o<r.length;o++)qy(r[o],n)}function Ky(e,n,r){qy(us(n,e),r)}function qy(e,n){Lc(e)&&Sc(e,n)}function Sc(e,n){const o=e[rn],l=e[Mn],d=e[vo];let g=!!(0===n&&16&l);if(g||=!!(64&l&&0===n),g||=!!(1024&l),g||=!(!d?.dirty||!_t(d)),g||=!1,d&&(d.dirty=!1),e[Mn]&=-9217,g)af(o,e,o.template,e[$r]);else if(8192&l){Hd(e,1);const _=o.components;null!==_&&Jo(e,_,1)}}function Jo(e,n,r){for(let o=0;o<n.length;o++)Ky(e,n[o],r)}function cf(e,n){const r=Pa()?64:1088;for(e[qr].changeDetectionScheduler?.notify(n);e;){e[Mn]|=r;const o=jo(e);if(ci(e)&&!o)return e;e=o}return null}class tl{get rootNodes(){const n=this._lView,r=n[rn];return Hn(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$r]}set context(n){this._lView[$r]=n}get destroyed(){return!(256&~this._lView[Mn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Sr];if(yo(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(kp(n,o),Xs(r,o))}this._attachedToViewContainer=!1}Fp(this._lView[rn],this._lView)}onDestroy(n){fc(this._lView,n)}markForCheck(){cf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Mn]&=-129}reattach(){mu(this._lView),this._lView[Mn]|=128}detectChanges(){this._lView[Mn]|=1024,ka(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ci(this._lView),r=this._lView[Do];null!==r&&!n&&Sy(r,this._lView),Ay(this._lView[rn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=n;const r=ci(this._lView),o=this._lView[Do];null!==o&&!r&&tE(o,this._lView),mu(this._lView)}}let lf=(()=>{class e{static{this.__NG_ELEMENT_ID__=IE}}return e})();const uf=lf,_E=class extends uf{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const l=Qt(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new tl(l)}};function IE(){return Hu(ei(),Kt())}function Hu(e,n){return 4&e.type?new _E(n,e,nc(e,n)):null}let m_=()=>null;function rc(e,n){return m_(e,n)}class ma{}const Yd=new Jt("",{providedIn:"root",factory:()=>!1}),vv=new Jt(""),ou=new Jt("");class NE{}class v_{}class kE{resolveComponentFactory(n){throw function OE(e){const n=Error(`No component factory found for ${Qn(e)}.`);return n.ngComponent=e,n}(n)}}class su{static{this.NULL=new kE}}class Zd{}let y_=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function bf(){const e=Kt(),r=us(ei().index,e);return(ro(r)?r:e)[Tn]}()}}return e})(),Af=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>null})}}return e})();function Rc(e){return!!Ui(e)}function rg(e,n,r){let o=r?e.styles:null,l=r?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const _=n[g];"number"==typeof _?d=_:1==d?l=ar(l,_):2==d&&(o=ar(o,_+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class Jd extends su{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=vr(n);return new au(r,this.ngModule)}}function yv(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const d=Array.isArray(l),g=d?l[0]:l;r.push(n?{propName:g,templateName:o,isSignal:!!((d?l[1]:Bo.None)&Bo.SignalBased)}:{propName:g,templateName:o})}return r}class au extends v_{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=yv(n.inputs,!0);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return yv(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function ne(e){return e.map(R).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,l){const d=ce(null);try{let g=(l=l||this.ngModule)instanceof go?l:l?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new Rs(n,g):n,w=_.get(Zd,null);if(null===w)throw new de(407,!1);const ue={rendererFactory:w,sanitizer:_.get(Af,null),inlineEffectRunner:null,changeDetectionScheduler:_.get(ma,null)},je=w.createRenderer(null,this.componentDef),tt=this.componentDef.selectors[0][0]||"div",It=o?function nf(e,n,r,o){const d=o.get(Nd,!1)||r===po.ShadowDom,g=e.selectRootElement(n,d);return function rf(e){ps(e)}(g),g}(je,o,this.componentDef.encapsulation,_):Op(je,tt,function _v(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(tt));let tn=512;this.componentDef.signals?tn|=4096:this.componentDef.onPush||(tn|=16);let _n=null;null!==It&&(_n=fm(It,_,!0));const bn=jp(0,null,null,1,0,null,null,null,null,null,null),en=Bp(null,bn,null,tn,null,null,ue,je,_,null,_n);Qa(en);let Rr,ni,Fi=null;try{const Vo=this.componentDef;let La,Mg=null;Vo.findHostDirectiveDefs?(La=[],Mg=new Map,Vo.findHostDirectiveDefs(Vo,La,Mg),La.push(Vo)):La=[Vo];const aS=function ig(e,n){const r=e[rn],o=jn;return e[o]=n,Jl(r,o,2,"#host",null)}(en,It);Fi=function VE(e,n,r,o,l,d,g){const _=l[rn];!function T_(e,n,r,o){for(const l of e)n.mergedAttrs=cs(n.mergedAttrs,l.hostAttrs);null!==n.mergedAttrs&&(rg(n,n.mergedAttrs,!0),null!==r&&Uy(o,r,n))}(o,e,n,g);let w=null;null!==n&&(w=fm(n,l[Ci]));const k=d.rendererFactory.createRenderer(n,r);let W=16;r.signals?W=4096:r.onPush&&(W=64);const ue=Bp(l,fs(r),null,W,l[e.index],e,d,k,null,null,w);return _.firstCreatePass&&Wp(_,e,o.length-1),t(l,ue),l[e.index]=ue}(aS,It,Vo,La,en,ue,je),ni=Cl(bn,jn),It&&function D_(e,n,r,o){if(o)ur(e,r,["ng-version","18.2.10"]);else{const{attrs:l,classes:d}=function Xe(e){const n=[],r=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&n.push(d,e[++o]):8===l&&r.push(d);else{if(!Ki(l))break;l=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);l&&ur(e,r,l),d&&d.length>0&&ef(e,r,d.join(" "))}}(je,Vo,It,o),void 0!==r&&function w_(e,n,r){const o=e.projection=[];for(let l=0;l<n.length;l++){const d=r[l];o.push(null!=d?Array.from(d):null)}}(ni,this.ngContentSelectors,r),Rr=function Mf(e,n,r,o,l,d){const g=ei(),_=l[rn],w=Bi(g,l);zp(_,l,g,r,null,o);for(let W=0;W<r.length;W++)Ho(Gc(l,_,g.directiveStart+W,g),l);Hy(_,l,g),w&&Ho(w,l);const k=Gc(l,_,g.directiveStart+g.componentOffset,g);if(e[$r]=l[$r]=k,null!==d)for(const W of d)W(k,n);return $p(_,g,l),k}(Fi,Vo,La,Mg,en,[Iv]),Ze(bn,en,null)}catch(Vo){throw null!==Fi&&xh(Fi),xh(en),Vo}finally{cd()}return new C_(this.componentType,Rr,nc(ni,en),en,ni)}finally{ce(d)}}}class C_ extends NE{constructor(n,r,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new tl(l,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;S(d[rn],d,l,n,r),this.previousInputValues.set(n,r),cf(us(this._tNode.index,d),1)}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Iv(){const e=ei();Tu(Kt()[rn],e)}let eh=(()=>{class e{static{this.__NG_ELEMENT_ID__=b_}}return e})();function b_(){return Tv(ei(),Kt())}const og=eh,Ev=class extends og{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ic(this._hostTNode,this._hostLView);if(yc(n)){const r=_c(n,this._hostLView),o=Na(n);return new $i(r[rn].data[o+8],r)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=Cv(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(n,r,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const g=rc(this._lContainer,n.ssrId),_=n.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(_,l,on(this._hostTNode,g)),_}createComponent(n,r,o,l,d){const g=n&&!function Pe(e){return"function"==typeof e}(n);let _;if(g)_=r;else{const It=r||{};_=It.index,o=It.injector,l=It.projectableNodes,d=It.environmentInjector||It.ngModuleRef}const w=g?n:new au(vr(n)),k=o||this.parentInjector;if(!d&&null==w.ngModule){const tn=(g?k:this.parentInjector).get(go,null);tn&&(d=tn)}const W=vr(w.componentType??{}),ue=rc(this._lContainer,W?.id??null),tt=w.create(k,l,ue?.firstChild??null,d);return this.insertImpl(tt.hostView,_,on(this._hostTNode,ue)),tt}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const l=n._lView;if(function pu(e){return yo(e[Sr])}(l)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const w=l[Sr],k=new Ev(w,w[Jr],w[Sr]);k.detach(k.indexOf(n))}}const d=this._adjustIndex(r),g=this._lContainer;return Bn(g,l,d,o),n.attachToViewContainerRef(),Ai(ol(g),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=Cv(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=kp(this._lContainer,r);o&&(Xs(ol(this._lContainer),r),Fp(o[rn],o))}detach(n){const r=this._adjustIndex(n,-1),o=kp(this._lContainer,r);return o&&null!=Xs(ol(this._lContainer),r)?new tl(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function Cv(e){return e[8]}function ol(e){return e[8]||(e[8]=[])}function Tv(e,n){let r;const o=n[e.index];return yo(o)?r=o:(r=Gy(o,n,null,e),n[e.index]=r,t(n,r)),Dv(r,n,e,o),new Ev(r,e,n)}let Dv=function qs(e,n,r,o){if(e[Ds])return;let l;l=8&r.type?jr(o):function A_(e,n){const r=e[Tn],o=r.createComment(""),l=Bi(n,e);return Gs(r,Gm(r,l),o,function rE(e,n){return e.nextSibling(n)}(r,l),!1),o}(n,r),e[Ds]=l},sg=()=>!1;class m{constructor(n){this.queryList=n,this.matches=null}clone(){return new m(this.queryList)}setDirty(){this.queryList.setDirty()}}class P{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,l=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new P(l)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==LE(n,r).matches&&this.queries[r].setDirty()}}class K{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function wv(e){return e.split(",").map(n=>n.trim())}(n):n}}class he{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,l);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new he(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class wt{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new wt(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(n,r,Ht(r,d)),this.matchTNodeWithReadOption(n,r,Za(r,n,d,!1,!1))}else o===lf?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Za(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===Cc||l===eh||l===lf&&4&r.type)this.addMatch(r.index,-2);else{const d=Za(r,n,l,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function Ht(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function Ri(e,n,r,o){return-1===r?function Pn(e,n){return 11&e.type?nc(e,n):4&e.type?Hu(e,n):null}(n,e):-2===r?function ts(e,n,r){return r===Cc?nc(n,e):r===lf?Hu(n,e):r===eh?Tv(n,e):void 0}(e,n,o):Gc(e,e[rn],r,n)}function ri(e,n,r,o){const l=n[wa].queries[o];if(null===l.matches){const d=e.data,g=r.matches,_=[];for(let w=0;null!==g&&w<g.length;w+=2){const k=g[w];_.push(k<0?null:Ri(n,d[k],g[w+1],r.metadata.read))}l.matches=_}return l.matches}function zo(e,n,r,o){const l=e.queries.getByIndex(r),d=l.matches;if(null!==d){const g=ri(e,n,l,r);for(let _=0;_<d.length;_+=2){const w=d[_];if(w>0)o.push(g[_/2]);else{const k=d[_+1],W=n[-w];for(let ue=Ni;ue<W.length;ue++){const je=W[ue];je[Do]===je[Sr]&&zo(je[rn],je,k,o)}if(null!==W[uc]){const ue=W[uc];for(let je=0;je<ue.length;je++){const tt=ue[je];zo(tt[rn],tt,k,o)}}}}}return o}function Yu(e,n,r){const o=new Rh(!(4&~r));return function jd(e,n,r,o){const l=u(n);l.push(r),e.firstCreatePass&&p(e).push(o,l.length-1)}(e,n,o,o.destroy),(n[wa]??=new P).queries.push(new m(o))-1}function QT(e,n,r){null===e.queries&&(e.queries=new he),e.queries.track(new wt(n,r))}function LE(e,n){return e.queries.getByIndex(n)}function YT(e,n){const r=e[rn],o=LE(r,n);return o.crossesNgTemplate?zo(r,e,n,[]):ri(r,e,o,n)}const ZT=new Set;function ya(e){ZT.has(e)||(ZT.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function eD(e,n){ya("NgSignals");const r=function _e(e){const n=Object.create(Ee);n.value=e;const r=()=>(oe(n),n.value);return r[be]=n,r}(e),o=r[be];return n?.equal&&(o.equal=n.equal),r.set=l=>Ye(o,l),r.update=l=>function le(e,n){Me()||pt(),Ye(e,n(e.value))}(o,l),r.asReadonly=tD.bind(r),r}function tD(){const e=this[be];if(void 0===e.readonlyFn){const n=()=>this();n[be]=e,e.readonlyFn=n}return e.readonlyFn}function nD(e){return function JT(e){return"function"==typeof e&&void 0!==e[be]}(e)&&"function"==typeof e.set}function BE(e){let n=function fD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let l;if(Mo(e))l=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new de(903,!1);l=n.\u0275dir}if(l){if(r){o.push(l);const g=e;g.inputs=P_(e.inputs),g.inputTransforms=P_(e.inputTransforms),g.declaredInputs=P_(e.declaredInputs),g.outputs=P_(e.outputs);const _=l.hostBindings;_&&TS(e,_);const w=l.viewQuery,k=l.contentQueries;if(w&&ES(e,w),k&&CS(e,k),_S(e,l),Gn(e.outputs,l.outputs),Mo(l)&&l.data.animation){const W=e.data;W.animation=(W.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(e),_===BE&&(r=!1)}}n=Object.getPrototypeOf(n)}!function IS(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=n+=l.hostVars,l.hostAttrs=cs(l.hostAttrs,r=cs(r,l.hostAttrs))}}(o)}function _S(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const l=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(l))continue;e.inputTransforms??={},e.inputTransforms[l]=n.inputTransforms[l]}}}function P_(e){return e===Zr?{}:e===xr?[]:e}function ES(e,n){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{n(o,l),r(o,l)}:n}function CS(e,n){const r=e.contentQueries;e.contentQueries=r?(o,l,d)=>{n(o,l,d),r(o,l,d)}:n}function TS(e,n){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{n(o,l),r(o,l)}:n}function vD(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const l=n[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}class Nf{}class yD{}function RS(e,n){return new $E(e,n??null,[])}class $E extends Nf{constructor(n,r,o,l=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jd(this);const d=Ui(n);this._bootstrapComponents=ga(d.bootstrap),this._r3Injector=tp(n,r,[{provide:Nf,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...o],Qn(n),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class jE extends yD{constructor(n){super(),this.moduleType=n}create(n){return new $E(this.moduleType,n,[])}}class _D extends Nf{constructor(n){super(),this.componentFactoryResolver=new Jd(this),this.instance=null;const r=new Es([...n.providers,{provide:Nf,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],n.parent||Nc(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function HE(e,n,r=null){return new _D({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function x_(e){return!!zE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function zE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Oo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Sv(e,n,r,o,l,d,g,_,w,k){const W=r+jn,ue=n.firstCreatePass?function kS(e,n,r,o,l,d,g,_,w){const k=n.consts,W=Jl(n,e,4,g||null,_||null);Ym(n,r,W,js(k,w)),Tu(n,W);const ue=W.tView=jp(2,W,o,l,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,W),ue.queries=n.queries.embeddedTView(W)),W}(W,n,e,o,l,d,g,_,w):n.data[W];ds(ue,!1);const je=ID(n,e,ue,r);jc()&&Wm(n,e,je,ue),Ho(je,e);const tt=Gy(je,e,je,ue);return e[W]=tt,t(e,tt),function Pf(e,n,r){return sg(e,n,r)}(tt,ue,e),dc(ue)&&el(n,e,ue),null!=w&&Ws(e,ue,k),ue}function GE(e,n,r,o,l,d,g,_){const w=Kt(),k=Ir();return Sv(w,k,e,n,r,o,l,js(k.consts,d),g,_),GE}let ID=function ED(e,n,r,o){return Ss(!0),n[Tn].createComment("")};var ug=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ug||{});let AD=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Pv{constructor(){this.ngZone=Re(y),this.scheduler=Re(ma),this.errorHandler=Re(co,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ug.EarlyRead,ug.Write,ug.MixedReadWrite,ug.Read]}execute(){this.executing=!0;for(const n of Pv.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=dr({token:Pv,providedIn:"root",factory:()=>new Pv})}}class US{constructor(n,r,o,l){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function V_(e,n){!n?.injector&&function $o(e){if(!Yo())throw new de(-203,!1)}();const r=n?.injector??Re(_o);return function zs(e){return"browser"===(e??Re(_o)).get(Fu)}(r)?(ya("NgAfterNextRender"),function SD(e,n,r,o){const l=n.get(AD);l.impl??=n.get(Pv);const d=r?.phase??ug.MixedReadWrite,g=!0!==r?.manualCleanup?n.get(ji):null,_=new US(l.impl,function $S(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,d),o,g);return l.impl.register(_),_}(e,r,n,!0)):RD}const RD={destroy(){}};function n0(e,n,r,o){const l=Kt();return Oo(l,Hs(),n)&&(Ir(),Ac(vi(),l,e,n,r,o)),n0}function B_(e,n){return e<<17|n<<2}function rh(e){return e>>17&32767}function r0(e){return 2|e}function Ff(e){return(131068&e)>>2}function o0(e,n){return-131069&e|n<<2}function s0(e){return 1|e}function tw(e,n,r,o){const l=e[r+1],d=null===n;let g=o?rh(l):Ff(l),_=!1;for(;0!==g&&(!1===_||d);){const k=e[g+1];TR(e[g],n)&&(_=!0,e[g+1]=o?s0(k):r0(k)),g=o?rh(k):Ff(k)}_&&(e[r+1]=o?r0(l):s0(l))}function TR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&eo(e,n)>=0}function a0(e,n,r){const o=Kt();return Oo(o,Hs(),n)&&Ks(Ir(),vi(),o,e,n,o[Tn],r,!1),a0}function c0(e,n,r,o,l){const g=l?"class":"style";S(e,r,n.inputs[g],g,o)}function l0(e,n){return function sl(e,n,r,o){const l=Kt(),d=Ir(),g=function Xa(e){const n=yr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);d.firstUpdatePass&&function uw(e,n,r,o){const l=e.data;if(null===l[r+1]){const d=l[Ao()],g=function lw(e,n){return n>=e.expandoStartIndex}(e,r);(function pw(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function xR(e,n,r,o){const l=function ad(e){const n=yr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===l)0===(o?n.classBindings:n.styleBindings)&&(r=Nv(r=u0(null,e,n,r,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==l)if(r=u0(l,e,n,r,o),null===d){let w=function NR(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Ff(o))return e[rh(o)]}(e,n,o);void 0!==w&&Array.isArray(w)&&(w=u0(null,e,n,w[1],o),w=Nv(w,n.attrs,o),function OR(e,n,r,o){e[rh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,w))}else d=function kR(e,n,r){let o;const l=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<l;d++)o=Nv(o,e[d].hostAttrs,r);return Nv(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(l,d,n,o),function ER(e,n,r,o,l,d){let g=d?n.classBindings:n.styleBindings,_=rh(g),w=Ff(g);e[o]=r;let W,k=!1;if(Array.isArray(r)?(W=r[1],(null===W||eo(r,W)>0)&&(k=!0)):W=r,l)if(0!==w){const je=rh(e[_+1]);e[o+1]=B_(je,_),0!==je&&(e[je+1]=o0(e[je+1],o)),e[_+1]=function _R(e,n){return 131071&e|n<<17}(e[_+1],o)}else e[o+1]=B_(_,0),0!==_&&(e[_+1]=o0(e[_+1],o)),_=o;else e[o+1]=B_(w,0),0===_?_=o:e[w+1]=o0(e[w+1],o),w=o;k&&(e[o+1]=r0(e[o+1])),tw(e,W,o,!0),tw(e,W,o,!1),function CR(e,n,r,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&eo(d,n)>=0&&(r[o+1]=s0(r[o+1]))}(n,W,e,o,d),g=B_(_,w),d?n.classBindings=g:n.styleBindings=g}(l,d,n,r,g,o)}}(d,e,g,o),n!==Pr&&Oo(l,g,n)&&function hw(e,n,r,o,l,d,g,_){if(!(3&n.type))return;const w=e.data,k=w[_+1],W=function IR(e){return!(1&~e)}(k)?fw(w,n,r,l,Ff(k),g):void 0;$_(W)||($_(d)||function yR(e){return!(2&~e)}(k)&&(d=fw(w,null,r,l,_,g)),function WT(e,n,r,o,l){if(n)l?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Zh.DashCase;null==l?e.removeStyle(r,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Zh.Important),e.setStyle(r,o,l,d))}}(o,g,ca(Ao(),r),l,d))}(d,d.data[Ao()],l,l[Tn],e,l[g+1]=function UR(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Qn(wc(e)))),e}(n,r),o,g)}(e,n,null,!0),l0}function u0(e,n,r,o,l){let d=null;const g=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<g&&(d=n[_],o=Nv(o,d.hostAttrs,l),d!==e);)_++;return null!==e&&(r.directiveStylingLast=_),o}function Nv(e,n,r){const o=r?1:2;let l=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),fi(e,g,!!r||n[++d]))}return void 0===e?null:e}function fw(e,n,r,o,l,d){const g=null===n;let _;for(;l>0;){const w=e[l],k=Array.isArray(w),W=k?w[1]:w,ue=null===W;let je=r[l+1];je===Pr&&(je=ue?xr:void 0);let tt=ue?Qs(je,o):W===o?je:void 0;if(k&&!$_(tt)&&(tt=Qs(w,o)),$_(tt)&&(_=tt,g))return _;const It=e[l+1];l=g?rh(It):Ff(It)}if(null!==n){let w=d?n.residualClasses:n.residualStyles;null!=w&&(_=Qs(w,o))}return _}function $_(e){return void 0!==e}function H_(e,n,r,o){const l=Kt(),d=Ir(),g=jn+e,_=l[Tn],w=d.firstCreatePass?function cM(e,n,r,o,l,d){const g=n.consts,w=Jl(n,e,2,o,js(g,l));return Ym(n,r,w,js(g,d)),null!==w.attrs&&rg(w,w.attrs,!1),null!==w.mergedAttrs&&rg(w,w.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,w),w}(g,d,l,n,r,o):d.data[g],k=yw(d,l,w,_,n,e);l[g]=k;const W=dc(w);return ds(w,!0),Uy(_,k,w),!function cg(e){return!(32&~e.flags)}(w)&&jc()&&Wm(d,l,k,w),0===function vu(){return yr.lFrame.elementDepthCount}()&&Ho(k,l),function ah(){yr.lFrame.elementDepthCount++}(),W&&(el(d,l,w),$p(d,w,l)),null!==o&&Ws(l,w),H_}function z_(){let e=ei();Sl()?Bc():(e=e.parent,ds(e,!1));const n=e;(function wl(e){return yr.skipHydrationRootTNode===e})(n)&&function kg(){yr.skipHydrationRootTNode=null}(),function rd(){yr.lFrame.elementDepthCount--}();const r=Ir();return r.firstCreatePass&&(Tu(r,e),yl(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function vh(e){return!!(8&e.flags)}(n)&&c0(r,n,Kt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Kf(e){return!!(16&e.flags)}(n)&&c0(r,n,Kt(),n.stylesWithoutHost,!1),z_}function p0(e,n,r,o){return H_(e,n,r,o),z_(),p0}let yw=(e,n,r,o,l,d)=>(Ss(!0),Op(o,l,function ld(){return yr.lFrame.currentNamespace}()));function G_(e,n,r){const o=Kt(),l=Ir(),d=e+jn,g=l.firstCreatePass?function dM(e,n,r,o,l){const d=n.consts,g=js(d,o),_=Jl(n,e,8,"ng-container",g);return null!==g&&rg(_,g,!0),Ym(n,r,_,js(d,l)),null!==n.queries&&n.queries.elementStart(n,_),_}(d,l,o,n,r):l.data[d];ds(g,!0);const _=_w(l,o,g,e);return o[d]=_,jc()&&Wm(l,o,_,g),Ho(_,o),dc(g)&&(el(l,o,g),$p(l,g,o)),null!=r&&Ws(o,g),G_}function W_(){let e=ei();const n=Ir();return Sl()?Bc():(e=e.parent,ds(e,!1)),n.firstCreatePass&&(Tu(n,e),yl(e)&&n.queries.elementEnd(e)),W_}function g0(e,n,r){return G_(e,n,r),W_(),g0}let _w=(e,n,r,o)=>(Ss(!0),by(n[Tn],""));function Iw(){return Kt()}const Vf=void 0;var gM=["en",[["a","p"],["AM","PM"],Vf],[["AM","PM"],Vf,Vf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vf,"{1} 'at' {0}",Vf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let bg={};function m0(e){const n=function mM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Dw(n);if(r)return r;const o=n.split("-")[0];if(r=Dw(o),r)return r;if("en"===o)return gM;throw new de(701,!1)}function Tw(e){return m0(e)[Ag.PluralCase]}function Dw(e){return e in bg||(bg[e]=lr.ng&&lr.ng.common&&lr.ng.common.locales&&lr.ng.common.locales[e]),bg[e]}var Ag=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ag||{});const K_="en-US";let ww=K_,Hw=(e,n,r)=>{};function _0(e,n,r,o){const l=Kt(),d=Ir(),g=ei();return I0(d,l,l[Tn],g,e,n,o),_0}function I0(e,n,r,o,l,d,g){const _=dc(o),k=e.firstCreatePass&&p(e),W=n[$r],ue=u(n);let je=!0;if(3&o.type||g){const tn=Bi(o,n),_n=g?g(tn):tn,bn=ue.length,en=g?ni=>g(jr(ni[o.index])):o.index;let Rr=null;if(!g&&_&&(Rr=function iP(e,n,r,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===r&&l[d+1]===o){const _=n[mo],w=l[d+2];return _.length>w?_[w]:null}"string"==typeof g&&(d+=2)}return null}(e,n,l,o.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=d,Rr.__ngLastListenerFn__=d,je=!1;else{d=Kw(o,n,W,d),Hw(tn,l,d);const ni=r.listen(_n,l,d);ue.push(d,ni),k&&k.push(l,en,bn,bn+1)}}else d=Kw(o,n,W,d);const tt=o.outputs;let It;if(je&&null!==tt&&(It=tt[l])){const tn=It.length;if(tn)for(let _n=0;_n<tn;_n+=2){const Fi=n[It[_n]][It[_n+1]].subscribe(d),Vo=ue.length;ue.push(d,Fi),k&&k.push(l,o.index,Vo,-(Vo+1))}}}function Ww(e,n,r,o){const l=ce(null);try{return bo(6,n,r),!1!==r(o)}catch(d){return T(e,d),!1}finally{bo(7,n,r),ce(l)}}function Kw(e,n,r,o){return function l(d){if(d===Function)return o;cf(e.componentOffset>-1?us(e.index,n):n,5);let _=Ww(n,r,o,d),w=l.__ngNextListenerFn__;for(;w;)_=Ww(n,r,w,d)&&_,w=w.__ngNextListenerFn__;return _}}function qw(e=1){return function Lg(e){return(yr.lFrame.contextLView=function gu(e,n){for(;e>0;)n=n[Ts],e--;return n}(e,yr.lFrame.contextLView))[$r]}(e)}function oP(e,n){let r=null;const o=function cl(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let l=0;l<n.length;l++){const d=n[l];if("*"!==d){if(null===o?Ba(e,d,!0):z(o,d))return l}else r=l}return r}function Xw(e){const n=Kt()[hi][Jr];if(!n.projection){const o=n.projection=function Uo(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),l=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?oP(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d)}d=d.next}}}function Qw(e,n=0,r,o,l,d){const g=Kt(),_=Ir(),w=o?e+1:null;null!==w&&Sv(g,_,w,o,l,d,null,r);const k=Jl(_,jn+e,16,null,r||null);null===k.projection&&(k.projection=n),Bc();const ue=!g[xi]||pc();null===g[hi][Jr].projection[k.projection]&&null!==w?function sP(e,n,r){const o=jn+r,l=n.data[o],d=e[o],g=rc(d,l.tView.ssrId);Bn(d,Qt(e,l,void 0,{dehydratedView:g}),0,on(l,g))}(g,_,w):ue&&32&~k.flags&&function Ly(e,n,r){sE(n[Tn],0,n,r,Hm(e,r,n),Py(r.parent||n[Jr],r,n))}(_,g,k)}function sb(e,n,r,o){!function xf(e,n,r,o){const l=Ir();if(l.firstCreatePass){const d=ei();QT(l,new K(n,r,o),d.index),function lS(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return Yu(l,Kt(),r)}(e,n,r,o)}function ab(e,n,r){!function Fa(e,n,r){const o=Ir();return o.firstCreatePass&&(QT(o,new K(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),Yu(o,Kt(),n)}(e,n,r)}function cb(e){const n=Kt(),r=Ir(),o=uh();Eu(o+1);const l=LE(r,o);if(e.dirty&&function ed(e){return!(4&~e[Mn])}(n)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=YT(n,o);e.reset(d,ip),e.notifyOnChanges()}return!0}return!1}function lb(){return function Go(e,n){return e[wa].queries[n].queryList}(Kt(),uh())}function _b(e,n=""){const r=Kt(),o=Ir(),l=e+jn,d=o.firstCreatePass?Jl(o,l,1,n,null):o.data[l],g=Ib(o,r,d,n,e);r[l]=g,jc()&&Wm(o,r,g,d),ds(d,!1)}let Ib=(e,n,r,o,l)=>(Ss(!0),function Yl(e,n){return e.createText(n)}(n[Tn],o));function T0(e){return D0("",e,""),T0}function D0(e,n,r){const o=Kt(),l=function vg(e,n,r,o){return Oo(e,Hs(),r)?n+qn(r)+o:Pr}(o,e,n,r);return l!==Pr&&function B(e,n,r){const o=ca(n,e);!function Np(e,n,r){e.setValue(n,r)}(e[Tn],o,r)}(o,Ao(),l),D0}function w0(e,n,r){nD(n)&&(n=n());const o=Kt();return Oo(o,Hs(),n)&&Ks(Ir(),vi(),o,e,n,o[Tn],r,!1),w0}function Rb(e,n){const r=nD(e);return r&&e.set(n),r}function b0(e,n){const r=Kt(),o=Ir(),l=ei();return I0(o,r,r[Tn],l,e,n),b0}function A0(e,n,r,o,l){if(e=et(e),Array.isArray(e))for(let d=0;d<e.length;d++)A0(e[d],n,r,o,l);else{const d=Ir(),g=Kt(),_=ei();let w=no(e)?e:et(e.provide);const k=fl(e),W=1048575&_.providerIndexes,ue=_.directiveStart,je=_.providerIndexes>>20;if(no(e)||!e.multi){const tt=new Nl(k,l,$u),It=R0(w,n,l?W:W+je,ue);-1===It?(zc(Ol(_,g),d,w),S0(d,e,n.length),n.push(w),_.directiveStart++,_.directiveEnd++,l&&(_.providerIndexes+=1048576),r.push(tt),g.push(tt)):(r[It]=tt,g[It]=tt)}else{const tt=R0(w,n,W+je,ue),It=R0(w,n,W,W+je),_n=It>=0&&r[It];if(l&&!_n||!l&&!(tt>=0&&r[tt])){zc(Ol(_,g),d,w);const bn=function AP(e,n,r,o,l){const d=new Nl(e,r,$u);return d.multi=[],d.index=n,d.componentProviders=0,xb(d,l,o&&!r),d}(l?bP:wP,r.length,l,o,k);!l&&_n&&(r[It].providerFactory=bn),S0(d,e,n.length,0),n.push(w),_.directiveStart++,_.directiveEnd++,l&&(_.providerIndexes+=1048576),r.push(bn),g.push(bn)}else S0(d,e,tt>-1?tt:It,xb(r[l?It:tt],k,!l&&o));!l&&o&&_n&&r[It].componentProviders++}}}function S0(e,n,r,o){const l=no(n),d=function lc(e){return!!e.useClass}(n);if(l||d){const w=(d?et(n.useClass):n).prototype.ngOnDestroy;if(w){const k=e.destroyHooks||(e.destroyHooks=[]);if(!l&&n.multi){const W=k.indexOf(r);-1===W?k.push(r,[o,w]):k[W+1].push(o,w)}else k.push(r,w)}}}function xb(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function R0(e,n,r,o){for(let l=r;l<o;l++)if(n[l]===e)return l;return-1}function wP(e,n,r,o){return M0(this.multi,[])}function bP(e,n,r,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=Gc(r,r[rn],this.providerFactory.index,o);d=_.slice(0,g),M0(l,d);for(let w=g;w<_.length;w++)d.push(_[w])}else d=[],M0(l,d);return d}function M0(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function Nb(e,n=[]){return r=>{r.providersResolver=(o,l)=>function DP(e,n,r){const o=Ir();if(o.firstCreatePass){const l=Mo(e);A0(r,o.data,o.blueprint,l,!0),A0(n,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,n)}}let SP=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Ha(0,r.type),l=o.length>0?HE([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,l)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dr({token:e,providedIn:"environment",factory:()=>new e(ve(go))})}}return e})();function Ob(e){ya("NgStandalone"),e.getStandaloneInjector=n=>n.get(SP).getOrCreateStandaloneInjector(e)}class rA{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const vx=new rA("18.2.10");let iA=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const lA=new Jt(""),uA=new Jt("");let F0,Hx=(()=>{class e{constructor(r,o,l){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,F0||(function zx(e){F0=e}(l),l.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{y.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,l){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:l})}whenStable(r,o,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,l),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,l){return[]}static{this.\u0275fac=function(o){return new(o||e)(ve(y),ve(dA),ve(uA))}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac})}}return e})(),dA=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return F0?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function V0(e){return!!e&&"function"==typeof e.then}function hA(e){return!!e&&"function"==typeof e.subscribe}const fA=new Jt("");let pA=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=Re(fA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const l of this.appInits){const d=l();if(V0(d))r.push(d);else if(hA(d)){const g=new Promise((_,w)=>{d.subscribe({complete:_,error:w})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(l=>{this.reject(l)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const tI=new Jt("");function mA(e,n){return Array.isArray(n)?n.reduce(mA,e):{...e,...n}}let du=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Re(zl),this.afterRenderManager=Re(AD),this.zonelessEnabled=Re(Yd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Xt.B,this.afterTick=new Xt.B,this.componentTypes=[],this.components=[],this.isStable=Re(qc).hasPendingTasks.pipe((0,Ln.T)(r=>!r)),this._injector=Re(go)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:l=>{l&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const l=r instanceof v_;if(!this._injector.get(pA).done)throw!l&&gi(r),new de(405,!1);let g;g=l?r:this._injector.get(su).resolveComponentFactory(r),this.componentTypes.push(g.componentType);const _=function Gx(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Nf),k=g.create(_o.NULL,[],o||g.selector,_),W=k.location.nativeElement,ue=k.injector.get(lA,null);return ue?.registerApplication(W),k.onDestroy(()=>{this.detachView(k.hostView),nI(this.components,k),ue?.unregisterApplication(W)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new de(101,!1);const r=ce(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,ce(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Zd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:l,notifyErrorHandler:d}of this._views)qx(l,d,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>td(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;nI(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(tI,[]);[...this._bootstrapListeners,...o].forEach(l=>l(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>nI(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new de(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nI(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function qx(e,n,r,o){(r||td(e))&&ka(e,n,r&&!o?0:1)}class Xx{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let Qx=(()=>{class e{compileModuleSync(r){return new jE(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=ga(Ui(r).declarations).reduce((g,_)=>{const w=vr(_);return w&&g.push(new au(w)),g},[]);return new Xx(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jx=(()=>{class e{constructor(){this.zone=Re(y),this.changeDetectionScheduler=Re(ma),this.applicationRef=Re(du)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function L0({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new y({...U0(),scheduleInRootZone:r}),[{provide:y,useFactory:e},{provide:Ar,multi:!0,useFactory:()=>{const o=Re(Jx,{optional:!0});return()=>o.initialize()}},{provide:Ar,multi:!0,useFactory:()=>{const o=Re(tN);return()=>{o.initialize()}}},!0===n?{provide:vv,useValue:!0}:[],{provide:ou,useValue:r??Ed}]}function U0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let tN=(()=>{class e{constructor(){this.subscription=new Ot.yU,this.initialized=!1,this.zone=Re(y),this.pendingTasks=Re(qc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{y.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{y.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hv=(()=>{class e{constructor(){this.appRef=Re(du),this.taskService=Re(qc),this.ngZone=Re(y),this.zonelessEnabled=Re(Yd),this.disableScheduling=Re(vv,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ot.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Re(ou,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof zt||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Hl:np;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hl(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const $0=new Jt("",{providedIn:"root",factory:()=>Re($0,sr.Optional|sr.SkipSelf)||function nN(){return typeof $localize<"u"&&$localize.locale||K_}()}),rN=new Jt("",{providedIn:"root",factory:()=>"USD"}),iI=new Jt("");function oI(e){return!e.moduleRef}let TA=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const l=o?.scheduleInRootZone,g=o?.ignoreChangesOutsideZone,_=[L0({ngZoneFactory:()=>function Hi(e="zone.js",n){return"noop"===e?new zt:"zone.js"===e?new y(n):e}(o?.ngZone,{...U0({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:l}),ignoreChangesOutsideZone:g}),{provide:ma,useExisting:Hv}],w=function MS(e,n,r){return new $E(e,n,r,!1)}(r.moduleType,this.injector,_);return function CA(e){const n=oI(e)?e.r3Injector:e.moduleRef.injector,r=n.get(y);return r.run(()=>{oI(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(co,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:d=>{o.handleError(d)}})}),oI(e)){const d=()=>n.destroy(),g=e.platformInjector.get(iI);g.add(d),n.onDestroy(()=>{l.unsubscribe(),g.delete(d)})}else{const d=()=>e.moduleRef.destroy(),g=e.platformInjector.get(iI);g.add(d),e.moduleRef.onDestroy(()=>{nI(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(d)})}return function Kx(e,n,r){try{const o=r();return V0(o)?o.catch(l=>{throw n.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(pA);return d.runInitializers(),d.donePromise.then(()=>{if(function IM(e){"string"==typeof e&&(ww=e.toLowerCase().replace(/_/g,"-"))}(n.get($0,K_)||K_),oI(e)){const _=n.get(du);return void 0!==e.rootComponent&&_.bootstrap(e.rootComponent),_}return function cN(e,n){const r=e.injector.get(du);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new de(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:w,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(r,o=[]){const l=mA({},o);return function Zx(e,n,r){const o=new jE(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,l))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(iI,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||e)(ve(_o))}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ih=null;const DA=new Jt("");function wA(e,n,r=[]){const o=`Platform: ${n}`,l=new Jt(o);return(d=[])=>{let g=j0();if(!g||g.injector.get(DA,!1)){const _=[...r,...d,{provide:l,useValue:!0}];e?e(_):function lN(e){if(ih&&!ih.get(DA,!1))throw new de(400,!1);(function gA(){!function me(e){Cn=e}(()=>{throw new de(600,!1)})})(),ih=e;const n=e.get(TA);(function AA(e){e.get(yp,null)?.forEach(r=>r())})(e)}(function bA(e=[],n){return _o.create({name:n,providers:[{provide:ta,useValue:"platform"},{provide:iI,useValue:new Set([()=>ih=null])},...e]})}(_,o))}return function uN(){const n=j0();if(!n)throw new de(401,!1);return n}()}}function j0(){return ih?.get(TA)??null}function hN(){return!1}let RA=(()=>{class e{static{this.__NG_ELEMENT_ID__=fN}}return e})();function fN(e){return function pN(e,n,r){if(wo(e)&&!r){const o=us(e.index,n);return new tl(o,o)}return 175&e.type?new tl(n[hi],n):null}(ei(),Kt(),!(16&~e))}class NA{constructor(){}supports(n){return x_(n)}create(n){return new _N(n)}}const yN=(e,n)=>n;class _N{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||yN}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,l=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<kA(o,l,d)?r:o,_=kA(g,l,d),w=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{d||(d=[]);const k=_-l,W=w-l;if(k!=W){for(let je=0;je<k;je++){const tt=je<d.length?d[je]:d[je]=0,It=tt+je;W<=It&&It<k&&(d[je]=tt+1)}d[g.previousIndex]=W-k}}_!==w&&n(g,_,w)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!x_(n))throw new de(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let l,d,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)d=n[_],g=this._trackByFn(_,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,_)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,_),o=!0),r=r._next}else l=0,function NS(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,_=>{g=this._trackByFn(l,_),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,_,g,l)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,g,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,l){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,l)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,l)):n=this._addAfter(new IN(r,o),d,l),n}_verifyReinsertion(n,r,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,l):n.currentIndex!=l&&(n.currentIndex=l,this._addToMoves(n,l)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const l=n._prevRemoved,d=n._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const l=null===r?this._itHead:r._next;return n._next=l,n._prev=r,null===l?this._itTail=n:l._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new OA),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OA),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IN{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EN{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class OA{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new EN,this.map.set(r,o)),o.add(n)}get(n,r){const l=this.map.get(n);return l?l.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kA(e,n,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+n+l}class FA{constructor(){}supports(n){return n instanceof Map||zE(n)}create(){return new CN}}class CN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||zE(n)))throw new de(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const l=this._records.get(n);this._maybeAddToChanges(l,r);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new TN(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class TN{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VA(){return new K0([new NA])}let K0=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:VA})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||VA()),deps:[[e,new Cr,new Rn]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(null!=o)return o;throw new de(901,!1)}}return e})();function LA(){return new q0([new FA])}let q0=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:LA})}constructor(r){this.factories=r}static create(r,o){if(o){const l=o.factories.slice();r=r.concat(l)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||LA()),deps:[[e,new Cr,new Rn]]}}find(r){const o=this.factories.find(l=>l.supports(r));if(o)return o;throw new de(901,!1)}}return e})();const bN=wA(null,"core",[]);let AN=(()=>{class e{constructor(r){}static{this.\u0275fac=function(o){return new(o||e)(ve(du))}}static{this.\u0275mod=Li({type:e})}static{this.\u0275inj=yi({})}}return e})();function iO(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function sO(e,n){ya("NgSignals");const r=function Tt(e){const n=Object.create(pn);n.computation=e;const r=()=>{if(Be(n),oe(n),n.value===Bt)throw n.error;return n.value};return r[be]=n,r}(e);return n?.equal&&(r[be].equal=n.equal),r}function aO(e){const n=ce(null);try{return e()}finally{ce(n)}}function fO(e,n){const r=vr(e),o=n.elementInjector||Nc();return new au(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function pO(e){const n=vr(e);if(!n)return null;const r=new au(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(fn,ft,N)=>{"use strict";N.d(ft,{DS:()=>pe,X8:()=>Ye,$z:()=>me,UB:()=>_e,yy:()=>Cn,ZP:()=>pt,AU:()=>fe,CP:()=>Yt,gF:()=>Z}),N(324);var L=N(177),re=N(4438),Q=N(574),be=N(9253),ce=N(1413),Te=N(7673),Ue=N(1985),He=N(8455),ye=N(6365),oe=N(8750),ke=N(983),Be=N(3794),Me=N(941),nt=N(5558),Qe=N(6354),Ve=N(6129);class _t extends ce.B{constructor(qe=1/0,Ee=1/0,Nt=Ve.U){super(),this._bufferSize=qe,this._windowTime=Ee,this._timestampProvider=Nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ee===1/0,this._bufferSize=Math.max(1,qe),this._windowTime=Math.max(1,Ee)}next(qe){const{isStopped:Ee,_buffer:Nt,_infiniteTimeWindow:$t,_timestampProvider:gt,_windowTime:Ut}=this;Ee||(Nt.push(qe),!$t&&Nt.push(gt.now()+Ut)),this._trimBuffer(),super.next(qe)}_subscribe(qe){this._throwIfClosed(),this._trimBuffer();const Ee=this._innerSubscribe(qe),{_infiniteTimeWindow:Nt,_buffer:$t}=this,gt=$t.slice();for(let Ut=0;Ut<gt.length&&!qe.closed;Ut+=Nt?1:2)qe.next(gt[Ut]);return this._checkFinalizedStatuses(qe),Ee}_trimBuffer(){const{_bufferSize:qe,_timestampProvider:Ee,_buffer:Nt,_infiniteTimeWindow:$t}=this,gt=($t?1:2)*qe;if(qe<1/0&&gt<Nt.length&&Nt.splice(0,Nt.length-gt),!$t){const Ut=Ee.now();let un=0;for(let xn=1;xn<Nt.length&&Nt[xn]<=Ut;xn+=2)un=xn;un&&Nt.splice(0,un+1)}}}var dt=N(7707),ct=N(9974);function ge(le,qe,...Ee){if(!0===qe)return void le();if(!1===qe)return;const Nt=new dt.Ms({next:()=>{Nt.unsubscribe(),le()}});return(0,oe.Tg)(qe(...Ee)).subscribe(Nt)}function Ge(le,qe,Ee){let Nt,$t=!1;return le&&"object"==typeof le?({bufferSize:Nt=1/0,windowTime:qe=1/0,refCount:$t=!1,scheduler:Ee}=le):Nt=le??1/0,function Ie(le={}){const{connector:qe=()=>new ce.B,resetOnError:Ee=!0,resetOnComplete:Nt=!0,resetOnRefCountZero:$t=!0}=le;return gt=>{let Ut,un,xn,Xt=0,Ot=!1,Ln=!1;const Ft=()=>{un?.unsubscribe(),un=void 0},ht=()=>{Ft(),Ut=xn=void 0,Ot=Ln=!1},de=()=>{const ut=Ut;ht(),ut?.unsubscribe()};return(0,ct.N)((ut,Rt)=>{Xt++,!Ln&&!Ot&&Ft();const sn=xn=xn??qe();Rt.add(()=>{Xt--,0===Xt&&!Ln&&!Ot&&(un=ge(de,$t))}),sn.subscribe(Rt),!Ut&&Xt>0&&(Ut=new dt.Ms({next:Jn=>sn.next(Jn),error:Jn=>{Ln=!0,Ft(),un=ge(ht,Ee,Jn),sn.error(Jn)},complete:()=>{Ot=!0,Ft(),un=ge(ht,Nt),sn.complete()}}),(0,oe.Tg)(ut).subscribe(Ut))})(gt)}}({connector:()=>new _t(Nt,qe,Ee),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:$t})}var it=N(1594),$e=N(8071);function Tt(le,qe){return(0,$e.T)(qe)?(0,nt.n)(()=>le,qe):(0,nt.n)(()=>le)}var Se=N(6745),Vt=N(5964),Bt=N(762);const Yt=new re.nKC("angularfire2.auth.use-emulator"),Cn=new re.nKC("angularfire2.auth.settings"),pt=new re.nKC("angularfire2.auth.tenant-id"),me=new re.nKC("angularfire2.auth.langugage-code"),fe=new re.nKC("angularfire2.auth.use-device-language"),_e=new re.nKC("angularfire.auth.persistence"),Z=(le,qe,Ee,Nt,$t,gt,Ut,un)=>(0,be.BM)(`${le.name}.auth`,"AngularFireAuth",le.name,()=>{const xn=qe.runOutsideAngular(()=>le.auth());if(Ee&&xn.useEmulator(...Ee),Nt&&(xn.tenantId=Nt),xn.languageCode=$t,gt&&xn.useDeviceLanguage(),Ut)for(const[Xt,Ot]of Object.entries(Ut))xn.settings[Xt]=Ot;return un&&xn.setPersistence(un),xn},[Ee,Nt,$t,gt,Ut,un]);let pe=(()=>{class le{authState;idToken;user;idTokenResult;credential;constructor(Ee,Nt,$t,gt,Ut,un,xn,Xt,Ot,Ln,Ft,ht){const de=new ce.B,ut=(0,Te.of)(void 0).pipe((0,Me.Q)(Ut.outsideAngular),(0,nt.n)(()=>gt.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,324)))),(0,Qe.T)(()=>(0,be.iB)(Ee,gt,Nt)),(0,Qe.T)(Rt=>Z(Rt,gt,un,Xt,Ot,Ln,xn,Ft)),Ge({bufferSize:1,refCount:!1}));if((0,L.Vy)($t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Te.of)(null);else{ut.pipe((0,it.$)()).subscribe();const Rt=ut.pipe((0,nt.n)(kn=>kn.getRedirectResult().then(vn=>vn,()=>null)),Q.U0,Ge({bufferSize:1,refCount:!1})),sn=ut.pipe((0,nt.n)(kn=>new Ue.c(vn=>({unsubscribe:gt.runOutsideAngular(()=>kn.onAuthStateChanged(gn=>vn.next(gn),gn=>vn.error(gn),()=>vn.complete()))})))),Jn=ut.pipe((0,nt.n)(kn=>new Ue.c(vn=>({unsubscribe:gt.runOutsideAngular(()=>kn.onIdTokenChanged(gn=>vn.next(gn),gn=>vn.error(gn),()=>vn.complete()))}))));this.authState=Rt.pipe(Tt(sn),(0,Se._)(Ut.outsideAngular),(0,Me.Q)(Ut.insideAngular)),this.user=Rt.pipe(Tt(Jn),(0,Se._)(Ut.outsideAngular),(0,Me.Q)(Ut.insideAngular)),this.idToken=this.user.pipe((0,nt.n)(kn=>kn?(0,He.H)(kn.getIdToken()):(0,Te.of)(null))),this.idTokenResult=this.user.pipe((0,nt.n)(kn=>kn?(0,He.H)(kn.getIdTokenResult()):(0,Te.of)(null))),this.credential=function Le(...le){const qe=(0,Be.lI)(le),Ee=(0,Be.R0)(le,1/0),Nt=le;return Nt.length?1===Nt.length?(0,oe.Tg)(Nt[0]):(0,ye.U)(Ee)((0,He.H)(Nt,qe)):ke.w}(Rt,de,this.authState.pipe((0,Vt.p)(kn=>!kn))).pipe((0,Qe.T)(kn=>kn?.user?kn:null),(0,Se._)(Ut.outsideAngular),(0,Me.Q)(Ut.insideAngular))}return(0,be.Gt)(this,ut,gt,{spy:{apply:(Rt,sn,Jn)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&Jn.then(kn=>de.next(kn))}}})}static \u0275fac=function(Nt){return new(Nt||le)(re.KVO(be.rx),re.KVO(be.uP,8),re.KVO(re.Agw),re.KVO(re.SKi),re.KVO(Q.u0),re.KVO(Yt,8),re.KVO(Cn,8),re.KVO(pt,8),re.KVO(me,8),re.KVO(fe,8),re.KVO(_e,8),re.KVO(Q.Jv,8))};static \u0275prov=re.jDH({token:le,factory:le.\u0275fac,providedIn:"any"})}return le})(),Ye=(()=>{class le{constructor(){Bt.A.registerVersion("angularfire",Q.xv.full,"auth-compat")}static \u0275fac=function(Nt){return new(Nt||le)};static \u0275mod=re.$C({type:le});static \u0275inj=re.G2t({providers:[pe]})}return le})()},9253:(fn,ft,N)=>{"use strict";N.d(ft,{BM:()=>Le,Gt:()=>be,bf:()=>Be,e7:()=>ce,iB:()=>ye,rx:()=>Ue,uP:()=>He});var a=N(4438),L=N(574),re=N(762);const Q=["ngOnDestroy"],be=(Ve,_t,dt,ct={})=>new Proxy(Ve,{get:(Ie,ge)=>dt.runOutsideAngular(()=>{if(Ve[ge])return ct?.spy?.get&&ct.spy.get(ge,Ve[ge]),Ve[ge];if(Q.indexOf(ge)>-1)return()=>{};const Ge=_t.toPromise().then(it=>{const $e=it?.[ge];return"function"==typeof $e?$e.bind(it):$e?.then?$e.then(Tt=>dt.run(()=>Tt)):dt.run(()=>$e)});return new Proxy(()=>{},{get:(it,$e)=>Ge[$e],apply:(it,$e,Tt)=>Ge.then(Se=>{const Vt=Se?.(...Tt);return ct?.spy?.apply&&ct.spy.apply(ge,Tt,Vt),Vt})})})}),ce=(Ve,_t)=>{_t.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(ct=>{Object.defineProperty(Ve.prototype,ct,Object.getOwnPropertyDescriptor(dt.prototype||dt,ct))})})};class Te{constructor(_t){return _t}}const Ue=new a.nKC("angularfire2.app.options"),He=new a.nKC("angularfire2.app.name");function ye(Ve,_t,dt){const Ie="object"==typeof dt&&dt||{};Ie.name=Ie.name||"string"==typeof dt&&dt||"[DEFAULT]";const Ge=re.A.apps.filter(it=>it&&it.name===Ie.name)[0]||_t.runOutsideAngular(()=>re.A.initializeApp(Ve,Ie));try{if(JSON.stringify(Ve)!==JSON.stringify(Ge.options)){const it=!!module.hot;oe("error",`${Ge.name} Firebase App already initialized with different options${it?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Te(Ge)}const oe=(Ve,..._t)=>{(0,a.naY)()&&typeof console<"u"&&console[Ve](..._t)},ke={provide:Te,useFactory:ye,deps:[Ue,a.SKi,[new a.Xx1,He]]};let Be=(()=>{class Ve{static initializeApp(dt,ct){return{ngModule:Ve,providers:[{provide:Ue,useValue:dt},{provide:He,useValue:ct}]}}constructor(dt){re.A.registerVersion("angularfire",L.xv.full,"core"),re.A.registerVersion("angularfire",L.xv.full,"app-compat"),re.A.registerVersion("angular",a.xvI.full,dt.toString())}static \u0275fac=function(ct){return new(ct||Ve)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:Ve});static \u0275inj=a.G2t({providers:[ke]})}return Ve})();function Le(Ve,_t,dt,ct,Ie){const[,ge,Ge]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===Ve)||[];if(ge)return function Me(Ve,_t){try{return Ve.toString()===_t.toString()}catch{return Ve===_t}}(Ie,Ge)||(Qe("error",`${_t} was already initialized on the ${dt} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Ie,was:Ge})),ge;{const it=ct();return globalThis.\u0275AngularfireInstanceCache.push([Ve,it,Ie]),it}}const nt=typeof module<"u"&&!!module.hot,Qe=(Ve,..._t)=>{(0,a.naY)()&&typeof console<"u"&&console[Ve](..._t)};globalThis.\u0275AngularfireInstanceCache||=[]},574:(fn,ft,N)=>{"use strict";N.d(ft,{xv:()=>Me,U0:()=>Bt,u0:()=>Ge,Jv:()=>_t});var a=N(4438),L=N(2979);(0,L.registerVersion)("firebase","10.14.1","app");var be=N(6780),Te=N(9687);const He=new class Ue extends Te.q{}(class ce extends be.R{constructor(me,fe){super(me,fe),this.scheduler=me,this.work=fe}schedule(me,fe=0){return fe>0?super.schedule(me,fe):(this.delay=fe,this.state=me,this.scheduler.flush(this),this)}execute(me,fe){return fe>0||this.closed?super.execute(me,fe):this._execute(me,fe)}requestAsyncId(me,fe,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(me,fe,_e):(me.flush(this),0)}});var oe=N(3236),ke=N(8141),Be=N(6745),Le=N(941);const Me=new a.RxE("ANGULARFIRE2_VERSION");class _t{constructor(){return(pt=>{const fe=(0,L.getApps)(),_e=[];return fe.forEach(Z=>{Z.container.getProvider(pt).instances.forEach(Ye=>{_e.includes(Ye)||_e.push(Ye)})}),_e})(dt)}}const dt="app-check";function ct(){}class Ie{zone;delegate;constructor(me,fe=He){this.zone=me,this.delegate=fe}now(){return this.delegate.now()}schedule(me,fe,_e){const Z=this.zone;return this.delegate.schedule(function(Ye){Z.runGuarded(()=>{me.apply(this,[Ye])})},fe,_e)}}class ge{zone;task=null;constructor(me){this.zone=me}call(me,fe){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ct,{},ct,ct)),fe.pipe((0,ke.M)({next:_e,complete:_e,error:_e})).subscribe(me).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ge=(()=>{class pt{ngZone;outsideAngular;insideAngular;constructor(fe){this.ngZone=fe,this.outsideAngular=fe.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=fe.run(()=>new Ie(Zone.current,oe.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(_e){return new(_e||pt)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function Bt(pt){return function pn(pt){return function(fe){return(fe=fe.lift(new ge(pt.ngZone))).pipe((0,Be._)(pt.outsideAngular),(0,Le.Q)(pt.insideAngular))}}(function it(){const pt=globalThis.\u0275AngularFireScheduler;if(!pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return pt}())(pt)}},9574:(fn,ft,N)=>{"use strict";N.d(ft,{A:()=>Me});var a=N(1401),L=N(8779),re=N(2979),Q=N(5398);class be{constructor(Qe,Ve){this._delegate=Qe,this.firebase=Ve,(0,re._addComponent)(Qe,new L.uA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(Qe,Ve=re._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Qe);return!dt.isInitialized()&&"EXPLICIT"===(null===(_t=dt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Ve})}_removeServiceInstance(Qe,Ve=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Ve)}_addComponent(Qe){(0,re._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,re._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function He(){const nt=function Ue(nt){const Qe={},Ve={__esModule:!0,initializeApp:function ct(it,$e={}){const Tt=re.initializeApp(it,$e);if((0,a.gR)(Qe,Tt.name))return Qe[Tt.name];const Se=new nt(Tt,Ve);return Qe[Tt.name]=Se,Se},app:dt,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function ge(it){const $e=it.name,Tt=$e.replace("-compat","");if(re._registerComponent(it)&&"PUBLIC"===it.type){const Se=(Vt=dt())=>{if("function"!=typeof Vt[Tt])throw Te.create("invalid-app-argument",{appName:$e});return Vt[Tt]()};void 0!==it.serviceProps&&(0,a.zw)(Se,it.serviceProps),Ve[Tt]=Se,nt.prototype[Tt]=function(...Vt){return this._getService.bind(this,$e).apply(this,it.multipleInstances?Vt:[])}}return"PUBLIC"===it.type?Ve[Tt]:null},removeApp:function _t(it){delete Qe[it]},useAsService:function Ge(it,$e){return"serverAuth"===$e?null:$e},modularAPIs:re}};function dt(it){if(!(0,a.gR)(Qe,it=it||re._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:it});return Qe[it]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Ie(){return Object.keys(Qe).map(it=>Qe[it])}}),dt.App=nt,Ve}(be);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:He,extendNamespace:function Qe(Ve){(0,a.zw)(nt,Ve)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),nt}(),oe=new Q.Vy("@firebase/app-compat");try{const nt=(0,a.mS)();if(void 0!==nt.firebase){oe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Qe=nt.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&oe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Me=ye;!function Le(nt){(0,re.registerVersion)("@firebase/app-compat","0.2.43",nt)}()},2979:(fn,ft,N)=>{"use strict";N.r(ft),N.d(ft,{FirebaseError:()=>Q.g,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>vn,_addComponent:()=>rr,_addOrOverwriteComponent:()=>Mr,_apps:()=>Wn,_clearComponents:()=>Xn,_components:()=>Yn,_getProvider:()=>or,_isFirebaseApp:()=>Sn,_isFirebaseServerApp:()=>yn,_registerComponent:()=>An,_removeServiceInstance:()=>lr,_serverApps:()=>Kn,deleteApp:()=>qt,getApp:()=>Fe,getApps:()=>rt,initializeApp:()=>St,initializeServerApp:()=>et,onLog:()=>De,registerVersion:()=>Ae,setLogLevel:()=>ze});var a=N(467),L=N(8779),re=N(5398),Q=N(1401);const be=(J,O)=>O.some(q=>J instanceof q);let ce,Te;const ye=new WeakMap,oe=new WeakMap,ke=new WeakMap,Be=new WeakMap,Le=new WeakMap;let Qe={get(J,O,q){if(J instanceof IDBTransaction){if("done"===O)return oe.get(J);if("objectStoreNames"===O)return J.objectStoreNames||ke.get(J);if("store"===O)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return ct(J[O])},set:(J,O,q)=>(J[O]=q,!0),has:(J,O)=>J instanceof IDBTransaction&&("done"===O||"store"===O)||O in J};function dt(J){return"function"==typeof J?function _t(J){return J!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(J)?function(...O){return J.apply(Ie(this),O),ct(ye.get(this))}:function(...O){return ct(J.apply(Ie(this),O))}:function(O,...q){const we=J.call(Ie(this),O,...q);return ke.set(we,O.sort?O.sort():[O]),ct(we)}}(J):(J instanceof IDBTransaction&&function nt(J){if(oe.has(J))return;const O=new Promise((q,we)=>{const ae=()=>{J.removeEventListener("complete",Je),J.removeEventListener("error",bt),J.removeEventListener("abort",bt)},Je=()=>{q(),ae()},bt=()=>{we(J.error||new DOMException("AbortError","AbortError")),ae()};J.addEventListener("complete",Je),J.addEventListener("error",bt),J.addEventListener("abort",bt)});oe.set(J,O)}(J),be(J,function Ue(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(J,Qe):J)}function ct(J){if(J instanceof IDBRequest)return function Me(J){const O=new Promise((q,we)=>{const ae=()=>{J.removeEventListener("success",Je),J.removeEventListener("error",bt)},Je=()=>{q(ct(J.result)),ae()},bt=()=>{we(J.error),ae()};J.addEventListener("success",Je),J.addEventListener("error",bt)});return O.then(q=>{q instanceof IDBCursor&&ye.set(q,J)}).catch(()=>{}),Le.set(O,J),O}(J);if(Be.has(J))return Be.get(J);const O=dt(J);return O!==J&&(Be.set(J,O),Le.set(O,J)),O}const Ie=J=>Le.get(J),it=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],Tt=new Map;function Se(J,O){if(!(J instanceof IDBDatabase)||O in J||"string"!=typeof O)return;if(Tt.get(O))return Tt.get(O);const q=O.replace(/FromIndex$/,""),we=O!==q,ae=$e.includes(q);if(!(q in(we?IDBIndex:IDBObjectStore).prototype)||!ae&&!it.includes(q))return;const Je=function(){var bt=(0,a.A)(function*(ln,...Jt){const er=this.transaction(ln,ae?"readwrite":"readonly");let zn=er.store;return we&&(zn=zn.index(Jt.shift())),(yield Promise.all([zn[q](...Jt),ae&&er.done]))[0]});return function(Jt){return bt.apply(this,arguments)}}();return Tt.set(O,Je),Je}!function Ve(J){Qe=J(Qe)}(J=>({...J,get:(O,q,we)=>Se(O,q)||J.get(O,q,we),has:(O,q)=>!!Se(O,q)||J.has(O,q)}));class Vt{constructor(O){this.container=O}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function Bt(J){const O=J.getComponent();return"VERSION"===O?.type}(q)){const we=q.getImmediate();return`${we.library}/${we.version}`}return null}).filter(q=>q).join(" ")}}const pn="@firebase/app",Yt="0.10.13",Cn=new re.Vy("@firebase/app"),pt="@firebase/app-compat",me="@firebase/analytics-compat",fe="@firebase/analytics",_e="@firebase/app-check-compat",Z="@firebase/app-check",pe="@firebase/auth",Ye="@firebase/auth-compat",le="@firebase/database",qe="@firebase/data-connect",Ee="@firebase/database-compat",Nt="@firebase/functions",$t="@firebase/functions-compat",gt="@firebase/installations",Ut="@firebase/installations-compat",un="@firebase/messaging",xn="@firebase/messaging-compat",Xt="@firebase/performance",Ot="@firebase/performance-compat",Ln="@firebase/remote-config",Ft="@firebase/remote-config-compat",ht="@firebase/storage",de="@firebase/storage-compat",ut="@firebase/firestore",Rt="@firebase/vertexai-preview",sn="@firebase/firestore-compat",Jn="firebase",vn="[DEFAULT]",gn={[pn]:"fire-core",[pt]:"fire-core-compat",[fe]:"fire-analytics",[me]:"fire-analytics-compat",[Z]:"fire-app-check",[_e]:"fire-app-check-compat",[pe]:"fire-auth",[Ye]:"fire-auth-compat",[le]:"fire-rtdb",[qe]:"fire-data-connect",[Ee]:"fire-rtdb-compat",[Nt]:"fire-fn",[$t]:"fire-fn-compat",[gt]:"fire-iid",[Ut]:"fire-iid-compat",[un]:"fire-fcm",[xn]:"fire-fcm-compat",[Xt]:"fire-perf",[Ot]:"fire-perf-compat",[Ln]:"fire-rc",[Ft]:"fire-rc-compat",[ht]:"fire-gcs",[de]:"fire-gcs-compat",[ut]:"fire-fst",[sn]:"fire-fst-compat",[Rt]:"fire-vertex","fire-js":"fire-js",[Jn]:"fire-js-all"},Wn=new Map,Kn=new Map,Yn=new Map;function rr(J,O){try{J.container.addComponent(O)}catch(q){Cn.debug(`Component ${O.name} failed to register with FirebaseApp ${J.name}`,q)}}function Mr(J,O){J.container.addOrOverwriteComponent(O)}function An(J){const O=J.name;if(Yn.has(O))return Cn.debug(`There were multiple attempts to register component ${O}.`),!1;Yn.set(O,J);for(const q of Wn.values())rr(q,J);for(const q of Kn.values())rr(q,J);return!0}function or(J,O){const q=J.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),J.container.getProvider(O)}function lr(J,O,q=vn){or(J,O).clearInstance(q)}function Sn(J){return void 0!==J.options}function yn(J){return void 0!==J.settings}function Xn(){Yn.clear()}const Qn=new Q.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ar{constructor(O,q,we){this._isDeleted=!1,this._options=Object.assign({},O),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=we,this.container.addComponent(new L.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(O){this.checkDestroyed(),this._automaticDataCollectionEnabled=O}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(O){this._isDeleted=O}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}class an extends ar{constructor(O,q,we,ae){const Je=void 0!==q.automaticDataCollectionEnabled&&q.automaticDataCollectionEnabled,bt={name:we,automaticDataCollectionEnabled:Je};super(void 0!==O.apiKey?O:O.options,bt,ae),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Je},q),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,q.releaseOnDeref=void 0,Ae(pn,Yt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(O){this.isDeleted||(this._refCount++,void 0!==O&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(O,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){qt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qn.create("server-app-deleted")}}const ii="10.14.1";function St(J,O={}){let q=J;"object"!=typeof O&&(O={name:O});const we=Object.assign({name:vn,automaticDataCollectionEnabled:!1},O),ae=we.name;if("string"!=typeof ae||!ae)throw Qn.create("bad-app-name",{appName:String(ae)});if(q||(q=(0,Q.T9)()),!q)throw Qn.create("no-options");const Je=Wn.get(ae);if(Je){if((0,Q.bD)(q,Je.options)&&(0,Q.bD)(we,Je.config))return Je;throw Qn.create("duplicate-app",{appName:ae})}const bt=new L.h1(ae);for(const Jt of Yn.values())bt.addComponent(Jt);const ln=new ar(q,we,bt);return Wn.set(ae,ln),ln}function et(J,O){if((0,Q.Bd)()&&!(0,Q.p7)())throw Qn.create("invalid-server-app-environment");let q;void 0===O.automaticDataCollectionEnabled&&(O.automaticDataCollectionEnabled=!1),q=Sn(J)?J.options:J;const we=Object.assign(Object.assign({},O),q);if(void 0!==we.releaseOnDeref&&delete we.releaseOnDeref,void 0!==O.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Qn.create("finalization-registry-not-supported",{});const Je=""+(er=JSON.stringify(we),[...er].reduce((zn,wi)=>Math.imul(31,zn)+wi.charCodeAt(0)|0,0)),bt=Kn.get(Je);var er;if(bt)return bt.incRefCount(O.releaseOnDeref),bt;const ln=new L.h1(Je);for(const er of Yn.values())ln.addComponent(er);const Jt=new an(q,O,Je,ln);return Kn.set(Je,Jt),Jt}function Fe(J=vn){const O=Wn.get(J);if(!O&&J===vn&&(0,Q.T9)())return St();if(!O)throw Qn.create("no-app",{appName:J});return O}function rt(){return Array.from(Wn.values())}function qt(J){return dn.apply(this,arguments)}function dn(){return(dn=(0,a.A)(function*(J){let O=!1;const q=J.name;Wn.has(q)?(O=!0,Wn.delete(q)):Kn.has(q)&&J.decRefCount()<=0&&(Kn.delete(q),O=!0),O&&(yield Promise.all(J.container.getProviders().map(we=>we.delete())),J.isDeleted=!0)})).apply(this,arguments)}function Ae(J,O,q){var we;let ae=null!==(we=gn[J])&&void 0!==we?we:J;q&&(ae+=`-${q}`);const Je=ae.match(/\s|\//),bt=O.match(/\s|\//);if(Je||bt){const ln=[`Unable to register library "${ae}" with version "${O}":`];return Je&&ln.push(`library name "${ae}" contains illegal characters (whitespace or "/")`),Je&&bt&&ln.push("and"),bt&&ln.push(`version name "${O}" contains illegal characters (whitespace or "/")`),void Cn.warn(ln.join(" "))}An(new L.uA(`${ae}-version`,()=>({library:ae,version:O}),"VERSION"))}function De(J,O){if(null!==J&&"function"!=typeof J)throw Qn.create("invalid-log-argument");(0,re.Ey)(J,O)}function ze(J){(0,re.He)(J)}const Mt="firebase-heartbeat-database",mt=1,mn="firebase-heartbeat-store";let In=null;function wr(){return In||(In=function ge(J,O,{blocked:q,upgrade:we,blocking:ae,terminated:Je}={}){const bt=indexedDB.open(J,O),ln=ct(bt);return we&&bt.addEventListener("upgradeneeded",Jt=>{we(ct(bt.result),Jt.oldVersion,Jt.newVersion,ct(bt.transaction),Jt)}),q&&bt.addEventListener("blocked",Jt=>q(Jt.oldVersion,Jt.newVersion,Jt)),ln.then(Jt=>{Je&&Jt.addEventListener("close",()=>Je()),ae&&Jt.addEventListener("versionchange",er=>ae(er.oldVersion,er.newVersion,er))}).catch(()=>{}),ln}(Mt,mt,{upgrade:(J,O)=>{if(0===O)try{J.createObjectStore(mn)}catch(q){console.warn(q)}}}).catch(J=>{throw Qn.create("idb-open",{originalErrorMessage:J.message})})),In}function cr(){return(cr=(0,a.A)(function*(J){try{const q=(yield wr()).transaction(mn),we=yield q.objectStore(mn).get(kr(J));return yield q.done,we}catch(O){if(O instanceof Q.g)Cn.warn(O.message);else{const q=Qn.create("idb-get",{originalErrorMessage:O?.message});Cn.warn(q.message)}}})).apply(this,arguments)}function $n(J,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.A)(function*(J,O){try{const we=(yield wr()).transaction(mn,"readwrite");yield we.objectStore(mn).put(O,kr(J)),yield we.done}catch(q){if(q instanceof Q.g)Cn.warn(q.message);else{const we=Qn.create("idb-set",{originalErrorMessage:q?.message});Cn.warn(we.message)}}})).apply(this,arguments)}function kr(J){return`${J.name}!${J.options.appId}`}class Wi{constructor(O){this.container=O,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new Yi(q),this._heartbeatsCachePromise=this._storage.read().then(we=>(this._heartbeatsCache=we,we))}triggerHeartbeat(){var O=this;return(0,a.A)(function*(){var q,we;try{const Je=O.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Xr();return null==(null===(q=O._heartbeatsCache)||void 0===q?void 0:q.heartbeats)&&(O._heartbeatsCache=yield O._heartbeatsCachePromise,null==(null===(we=O._heartbeatsCache)||void 0===we?void 0:we.heartbeats))||O._heartbeatsCache.lastSentHeartbeatDate===bt||O._heartbeatsCache.heartbeats.some(ln=>ln.date===bt)?void 0:(O._heartbeatsCache.heartbeats.push({date:bt,agent:Je}),O._heartbeatsCache.heartbeats=O._heartbeatsCache.heartbeats.filter(ln=>{const Jt=new Date(ln.date).valueOf();return Date.now()-Jt<=2592e6}),O._storage.overwrite(O._heartbeatsCache))}catch(ae){Cn.warn(ae)}})()}getHeartbeatsHeader(){var O=this;return(0,a.A)(function*(){var q;try{if(null===O._heartbeatsCache&&(yield O._heartbeatsCachePromise),null==(null===(q=O._heartbeatsCache)||void 0===q?void 0:q.heartbeats)||0===O._heartbeatsCache.heartbeats.length)return"";const we=Xr(),{heartbeatsToSend:ae,unsentEntries:Je}=function dr(J,O=1024){const q=[];let we=J.slice();for(const ae of J){const Je=q.find(bt=>bt.agent===ae.agent);if(Je){if(Je.dates.push(ae.date),yi(q)>O){Je.dates.pop();break}}else if(q.push({agent:ae.agent,dates:[ae.date]}),yi(q)>O){q.pop();break}we=we.slice(1)}return{heartbeatsToSend:q,unsentEntries:we}}(O._heartbeatsCache.heartbeats),bt=(0,Q.Uj)(JSON.stringify({version:2,heartbeats:ae}));return O._heartbeatsCache.lastSentHeartbeatDate=we,Je.length>0?(O._heartbeatsCache.heartbeats=Je,yield O._storage.overwrite(O._heartbeatsCache)):(O._heartbeatsCache.heartbeats=[],O._storage.overwrite(O._heartbeatsCache)),bt}catch(we){return Cn.warn(we),""}})()}}function Xr(){return(new Date).toISOString().substring(0,10)}class Yi{constructor(O){this.app=O,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,Q.zW)()&&(0,Q.eX)().then(()=>!0).catch(()=>!1)})()}read(){var O=this;return(0,a.A)(function*(){if(yield O._canUseIndexedDBPromise){const we=yield function lt(J){return cr.apply(this,arguments)}(O.app);return we?.heartbeats?we:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(O){var q=this;return(0,a.A)(function*(){var we;if(yield q._canUseIndexedDBPromise){const Je=yield q.read();return $n(q.app,{lastSentHeartbeatDate:null!==(we=O.lastSentHeartbeatDate)&&void 0!==we?we:Je.lastSentHeartbeatDate,heartbeats:O.heartbeats})}})()}add(O){var q=this;return(0,a.A)(function*(){var we;if(yield q._canUseIndexedDBPromise){const Je=yield q.read();return $n(q.app,{lastSentHeartbeatDate:null!==(we=O.lastSentHeartbeatDate)&&void 0!==we?we:Je.lastSentHeartbeatDate,heartbeats:[...Je.heartbeats,...O.heartbeats]})}})()}}function yi(J){return(0,Q.Uj)(JSON.stringify({version:2,heartbeats:J})).length}!function Ne(J){An(new L.uA("platform-logger",O=>new Vt(O),"PRIVATE")),An(new L.uA("heartbeat",O=>new Wi(O),"PRIVATE")),Ae(pn,Yt,J),Ae(pn,Yt,"esm2017"),Ae("fire-js","")}("")},8779:(fn,ft,N)=>{"use strict";N.d(ft,{h1:()=>Ue,uA:()=>re});var a=N(467),L=N(1401);class re{constructor(ye,oe,ke){this.name=ye,this.instanceFactory=oe,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Q="[DEFAULT]";class be{constructor(ye,oe){this.name=ye,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const oe=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(oe)){const ke=new L.cY;if(this.instancesDeferred.set(oe,ke),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:oe});Be&&ke.resolve(Be)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ye){var oe;const ke=this.normalizeInstanceIdentifier(ye?.identifier),Be=null!==(oe=ye?.optional)&&void 0!==oe&&oe;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(Le){if(Be)return null;throw Le}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function Te(He){return"EAGER"===He.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[oe,ke]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(oe);try{const Le=this.getOrInitializeService({instanceIdentifier:Be});ke.resolve(Le)}catch{}}}}clearInstance(ye=Q){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,a.A)(function*(){const oe=Array.from(ye.instances.values());yield Promise.all([...oe.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...oe.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Q){return this.instances.has(ye)}getOptions(ye=Q){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:oe={}}=ye,ke=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ke,options:oe});for(const[Le,Me]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(Le)&&Me.resolve(Be);return Be}onInit(ye,oe){var ke;const Be=this.normalizeInstanceIdentifier(oe),Le=null!==(ke=this.onInitCallbacks.get(Be))&&void 0!==ke?ke:new Set;Le.add(ye),this.onInitCallbacks.set(Be,Le);const Me=this.instances.get(Be);return Me&&ye(Me,Be),()=>{Le.delete(ye)}}invokeOnInitCallbacks(ye,oe){const ke=this.onInitCallbacks.get(oe);if(ke)for(const Be of ke)try{Be(ye,oe)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:oe={}}){let ke=this.instances.get(ye);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(He=ye,He===Q?void 0:He),options:oe}),this.instances.set(ye,ke),this.instancesOptions.set(ye,oe),this.invokeOnInitCallbacks(ke,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,ke)}catch{}var He;return ke||null}normalizeInstanceIdentifier(ye=Q){return this.component?this.component.multipleInstances?ye:Q:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const oe=this.getProvider(ye.name);if(oe.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);oe.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const oe=new be(ye,this);return this.providers.set(ye,oe),oe}getProviders(){return Array.from(this.providers.values())}}},5398:(fn,ft,N)=>{"use strict";N.d(ft,{$b:()=>L,Ey:()=>He,He:()=>Ue,Vy:()=>Te});const a=[];var L=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(L||{});const re={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},Q=L.INFO,be={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ce=(ye,oe,...ke)=>{if(oe<ye.logLevel)return;const Be=(new Date).toISOString(),Le=be[oe];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${oe})`);console[Le](`[${Be}]  ${ye.name}:`,...ke)};class Te{constructor(oe){this.name=oe,this._logLevel=Q,this._logHandler=ce,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(oe){if(!(oe in L))throw new TypeError(`Invalid value "${oe}" assigned to \`logLevel\``);this._logLevel=oe}setLogLevel(oe){this._logLevel="string"==typeof oe?re[oe]:oe}get logHandler(){return this._logHandler}set logHandler(oe){if("function"!=typeof oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(oe){this._userLogHandler=oe}debug(...oe){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...oe),this._logHandler(this,L.DEBUG,...oe)}log(...oe){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...oe),this._logHandler(this,L.VERBOSE,...oe)}info(...oe){this._userLogHandler&&this._userLogHandler(this,L.INFO,...oe),this._logHandler(this,L.INFO,...oe)}warn(...oe){this._userLogHandler&&this._userLogHandler(this,L.WARN,...oe),this._logHandler(this,L.WARN,...oe)}error(...oe){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...oe),this._logHandler(this,L.ERROR,...oe)}}function Ue(ye){a.forEach(oe=>{oe.setLogLevel(ye)})}function He(ye,oe){for(const ke of a){let Be=null;oe&&oe.level&&(Be=re[oe.level]),ke.userLogHandler=null===ye?null:(Le,Me,...nt)=>{const Qe=nt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Me>=(Be??Le.logLevel)&&ye({level:L[Me].toLowerCase(),message:Qe,args:nt,type:Le.name})}}}},762:(fn,ft,N)=>{"use strict";N.d(ft,{A:()=>a.A});var a=N(9574);a.A.registerVersion("firebase","10.14.1","app-compat")},324:(fn,ft,N)=>{"use strict";var a=N(467),L=N(9574),re=N(2979),Q=N(1401),be=N(5398),ce=N(1635),Te=N(8779);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Me=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},nt=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new Q.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new be.Vy("@firebase/auth");function ct(y,...h){_t.logLevel<=be.$b.ERROR&&_t.error(`Auth (${re.SDK_VERSION}): ${y}`,...h)}function Ie(y,...h){throw Tt(y,...h)}function ge(y,...h){return Tt(y,...h)}function Ge(y,h,f){const I=Object.assign(Object.assign({},nt()),{[h]:f});return new Q.FA("auth","Firebase",I).create(h,{appName:y.name})}function it(y){return Ge(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $e(y,h,f){if(!(h instanceof f))throw f.name!==h.constructor.name&&Ie(y,"argument-error"),Ge(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(y,...h){if("string"!=typeof y){const f=h[0],I=[...h.slice(1)];return I[0]&&(I[0].appName=y.name),y._errorFactory.create(f,...I)}return Qe.create(y,...h)}function Se(y,h,...f){if(!y)throw Tt(h,...f)}function Vt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw ct(h),new Error(h)}function Bt(y,h){y||Vt(h)}function pn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Yt(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class fe{constructor(h,f){this.shortDelay=h,this.longDelay=f,Bt(f>h,"Short delay should be less than long delay!"),this.isMobile=(0,Q.jZ)()||(0,Q.lV)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Yt()||(0,Q.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(y,h){Bt(y.emulator,"Emulator should always be set here");const{url:f}=y.emulator;return h?`${f}${h.startsWith("/")?h.slice(1):h}`:f}class Z{static initialize(h,f,I){this.fetchImpl=h,f&&(this.headersImpl=f),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ye=new fe(3e4,6e4);function le(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function qe(y,h,f,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.A)(function*(y,h,f,I,V={}){return Nt(y,V,(0,a.A)(function*(){let ee={},We={};I&&("GET"===h?We=I:ee={body:JSON.stringify(I)});const yt=(0,Q.Am)(Object.assign({key:y.config.apiKey},We)).slice(1),zt=yield y._getAdditionalHeaders();zt["Content-Type"]="application/json",y.languageCode&&(zt["X-Firebase-Locale"]=y.languageCode);const wn=Object.assign({method:h,headers:zt},ee);return(0,Q.c1)()||(wn.referrerPolicy="no-referrer"),Z.fetch()(un(y,y.config.apiHost,f,yt),wn)}))})).apply(this,arguments)}function Nt(y,h,f){return $t.apply(this,arguments)}function $t(){return($t=(0,a.A)(function*(y,h,f){y._canInitEmulator=!1;const I=Object.assign(Object.assign({},pe),h);try{const V=new Xt(y),ee=yield Promise.race([f(),V.promise]);V.clearNetworkTimeout();const We=yield ee.json();if("needConfirmation"in We)throw Ot(y,"account-exists-with-different-credential",We);if(ee.ok&&!("errorMessage"in We))return We;{const yt=ee.ok?We.errorMessage:We.error.message,[zt,wn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw Ot(y,"credential-already-in-use",We);if("EMAIL_EXISTS"===zt)throw Ot(y,"email-already-in-use",We);if("USER_DISABLED"===zt)throw Ot(y,"user-disabled",We);const On=I[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(wn)throw Ge(y,On,wn);Ie(y,On)}}catch(V){if(V instanceof Q.g)throw V;Ie(y,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function gt(y,h,f,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.A)(function*(y,h,f,I,V={}){const ee=yield qe(y,h,f,I,V);return"mfaPendingCredential"in ee&&Ie(y,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function un(y,h,f,I){const V=`${h}${f}?${I}`;return y.config.emulator?_e(y.config,V):`${y.config.apiScheme}://${V}`}function xn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((f,I)=>{this.timer=setTimeout(()=>I(ge(this.auth,"network-request-failed")),Ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ot(y,h,f){const I={appName:y.name};f.email&&(I.email=f.email),f.phoneNumber&&(I.phoneNumber=f.phoneNumber);const V=ge(y,h,I);return V.customData._tokenResponse=f,V}function Ln(y){return void 0!==y&&void 0!==y.getResponse}function Ft(y){return void 0!==y&&void 0!==y.enterprise}class ht{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const f of this.recaptchaEnforcementState)if(f.provider&&f.provider===h)return xn(f.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function ut(){return(ut=(0,a.A)(function*(y){return(yield qe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rt(y,h){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.A)(function*(y,h){return qe(y,"GET","/v2/recaptchaConfig",le(y,h))})).apply(this,arguments)}function kn(){return(kn=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function gn(){return(gn=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Wn(y,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Yn(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function An(){return(An=(0,a.A)(function*(y,h=!1){const f=(0,Q.Ku)(y),I=yield f.getIdToken(h),V=lr(I);Se(V&&V.exp&&V.auth_time&&V.iat,f.auth,"internal-error");const ee="object"==typeof V.firebase?V.firebase:void 0,We=ee?.sign_in_provider;return{claims:V,token:I,authTime:Yn(or(V.auth_time)),issuedAtTime:Yn(or(V.iat)),expirationTime:Yn(or(V.exp)),signInProvider:We||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function or(y){return 1e3*Number(y)}function lr(y){const[h,f,I]=y.split(".");if(void 0===h||void 0===f||void 0===I)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,Q.u)(f);return V?JSON.parse(V):(ct("Failed to decode base64 JWT payload"),null)}catch(V){return ct("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Sn(y){const h=lr(y);return Se(h,"internal-error"),Se(typeof h.exp<"u","internal-error"),Se(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function yn(y,h){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.A)(function*(y,h,f=!1){if(f)return h;try{return yield h}catch(I){throw I instanceof Q.g&&function Gn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(I)&&y.auth.currentUser===y&&(yield y.auth.signOut()),I}})).apply(this,arguments)}class Qn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var f;if(h){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const V=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(h=!1){var f=this;if(!this.isRunning)return;const I=this.getInterval(h);this.timerId=setTimeout((0,a.A)(function*(){yield f.iteration()}),I)}iteration(){var h=this;return(0,a.A)(function*(){try{yield h.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&h.schedule(!0))}h.schedule()})()}}class ar{constructor(h,f){this.createdAt=h,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yn(this.lastLoginAt),this.creationTime=Yn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return ii.apply(this,arguments)}function ii(){return(ii=(0,a.A)(function*(y){var h;const f=y.auth,I=yield y.getIdToken(),V=yield yn(y,Wn(f,{idToken:I}));Se(V?.users.length,f,"internal-error");const ee=V.users[0];y._notifyReloadListener(ee);const We=null!==(h=ee.providerUserInfo)&&void 0!==h&&h.length?rt(ee.providerUserInfo):[],yt=function Fe(y,h){return[...y.filter(I=>!h.some(V=>V.providerId===I.providerId)),...h]}(y.providerData,We),On=!!y.isAnonymous&&!(y.email&&ee.passwordHash||yt?.length),Un={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:yt,metadata:new ar(ee.createdAt,ee.lastLoginAt),isAnonymous:On};Object.assign(y,Un)})).apply(this,arguments)}function et(){return(et=(0,a.A)(function*(y){const h=(0,Q.Ku)(y);yield an(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function rt(y){return y.map(h=>{var{providerId:f}=h,I=(0,ce.Tt)(h,["providerId"]);return{providerId:f,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function dn(){return(dn=(0,a.A)(function*(y,h){const f=yield Nt(y,{},(0,a.A)(function*(){const I=(0,Q.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:V,apiKey:ee}=y.config,We=un(y,V,"/v1/token",`key=${ee}`),yt=yield y._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(We,{method:"POST",headers:yt,body:I})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}function De(){return(De=(0,a.A)(function*(y,h){return qe(y,"POST","/v2/accounts:revokeToken",le(y,h))})).apply(this,arguments)}class ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Se(h.idToken,"internal-error"),Se(typeof h.idToken<"u","internal-error"),Se(typeof h.refreshToken<"u","internal-error");const f="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Sn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,f)}updateFromIdToken(h){Se(0!==h.length,"internal-error");const f=Sn(h);this.updateTokensAndExpiration(h,null,f)}getToken(h,f=!1){var I=this;return(0,a.A)(function*(){return f||!I.accessToken||I.isExpired?(Se(I.refreshToken,h,"user-token-expired"),I.refreshToken?(yield I.refresh(h,I.refreshToken),I.accessToken):null):I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,f){var I=this;return(0,a.A)(function*(){const{accessToken:V,refreshToken:ee,expiresIn:We}=yield function qt(y,h){return dn.apply(this,arguments)}(h,f);I.updateTokensAndExpiration(V,ee,Number(We))})()}updateTokensAndExpiration(h,f,I){this.refreshToken=f||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(h,f){const{refreshToken:I,accessToken:V,expirationTime:ee}=f,We=new ze;return I&&(Se("string"==typeof I,"internal-error",{appName:h}),We.refreshToken=I),V&&(Se("string"==typeof V,"internal-error",{appName:h}),We.accessToken=V),ee&&(Se("number"==typeof ee,"internal-error",{appName:h}),We.expirationTime=ee),We}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ze,this.toJSON())}_performRefresh(){return Vt("not implemented")}}function Mt(y,h){Se("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class mt{constructor(h){var{uid:f,auth:I,stsTokenManager:V}=h,ee=(0,ce.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=I,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new ar(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var f=this;return(0,a.A)(function*(){const I=yield yn(f,f.stsTokenManager.getToken(f.auth,h));return Se(I,f.auth,"internal-error"),f.accessToken!==I&&(f.accessToken=I,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),I})()}getIdTokenResult(h){return function Mr(y){return An.apply(this,arguments)}(this,h)}reload(){return function St(y){return et.apply(this,arguments)}(this)}_assign(h){this!==h&&(Se(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(f=>Object.assign({},f)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const f=new mt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(h){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,f=!1){var I=this;return(0,a.A)(function*(){let V=!1;h.idToken&&h.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(h),V=!0),f&&(yield an(I)),yield I.auth._persistUserIfCurrent(I),V&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var h=this;return(0,a.A)(function*(){if((0,re._isFirebaseServerApp)(h.auth.app))return Promise.reject(it(h.auth));const f=yield h.getIdToken();return yield yn(h,function Jn(y,h){return kn.apply(this,arguments)}(h.auth,{idToken:f})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,f){var I,V,ee,We,yt,zt,wn,On;const Un=null!==(I=f.displayName)&&void 0!==I?I:void 0,Hi=null!==(V=f.email)&&void 0!==V?V:void 0,co=null!==(ee=f.phoneNumber)&&void 0!==ee?ee:void 0,zl=null!==(We=f.photoURL)&&void 0!==We?We:void 0,Nu=null!==(yt=f.tenantId)&&void 0!==yt?yt:void 0,Td=null!==(zt=f._redirectEventId)&&void 0!==zt?zt:void 0,Ah=null!==(wn=f.createdAt)&&void 0!==wn?wn:void 0,Gg=null!==(On=f.lastLoginAt)&&void 0!==On?On:void 0,{uid:rp,emailVerified:Sh,isAnonymous:Dd,providerData:nc,stsTokenManager:Cc}=f;Se(rp&&Cc,h,"internal-error");const ip=ze.fromJSON(this.name,Cc);Se("string"==typeof rp,h,"internal-error"),Mt(Un,h.name),Mt(Hi,h.name),Se("boolean"==typeof Sh,h,"internal-error"),Se("boolean"==typeof Dd,h,"internal-error"),Mt(co,h.name),Mt(zl,h.name),Mt(Nu,h.name),Mt(Td,h.name),Mt(Ah,h.name),Mt(Gg,h.name);const wd=new mt({uid:rp,auth:h,email:Hi,emailVerified:Sh,displayName:Un,isAnonymous:Dd,photoURL:zl,phoneNumber:co,tenantId:Nu,stsTokenManager:ip,createdAt:Ah,lastLoginAt:Gg});return nc&&Array.isArray(nc)&&(wd.providerData=nc.map(Rh=>Object.assign({},Rh))),Td&&(wd._redirectEventId=Td),wd}static _fromIdTokenResponse(h,f,I=!1){return(0,a.A)(function*(){const V=new ze;V.updateFromServerResponse(f);const ee=new mt({uid:f.localId,auth:h,stsTokenManager:V,isAnonymous:I});return yield an(ee),ee})()}static _fromGetAccountInfoResponse(h,f,I){return(0,a.A)(function*(){const V=f.users[0];Se(void 0!==V.localId,"internal-error");const ee=void 0!==V.providerUserInfo?rt(V.providerUserInfo):[],We=!(V.email&&V.passwordHash||ee?.length),yt=new ze;yt.updateFromIdToken(I);const zt=new mt({uid:V.localId,auth:h,stsTokenManager:yt,isAnonymous:We}),wn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:ee,metadata:new ar(V.createdAt,V.lastLoginAt),isAnonymous:!(V.email&&V.passwordHash||ee?.length)};return Object.assign(zt,wn),zt})()}}const mn=new Map;function In(y){Bt(y instanceof Function,"Expected a class definition");let h=mn.get(y);return h?(Bt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,mn.set(y,h),h)}const lt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(f,I){var V=this;return(0,a.A)(function*(){V.storage[f]=I})()}_get(f){var I=this;return(0,a.A)(function*(){const V=I.storage[f];return void 0===V?null:V})()}_remove(f){var I=this;return(0,a.A)(function*(){delete I.storage[f]})()}_addListener(f,I){}_removeListener(f,I){}}return y.type="NONE",y})();function cr(y,h,f){return`firebase:${y}:${h}:${f}`}class $n{constructor(h,f,I){this.persistence=h,this.auth=f,this.userKey=I;const{config:V,name:ee}=this.auth;this.fullUserKey=cr(this.userKey,V.apiKey,ee),this.fullPersistenceKey=cr("persistence",V.apiKey,ee),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.A)(function*(){const f=yield h.persistence._get(h.fullUserKey);return f?mt._fromJSON(h.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var f=this;return(0,a.A)(function*(){if(f.persistence===h)return;const I=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=h,I?f.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,f,I="authUser"){return(0,a.A)(function*(){if(!f.length)return new $n(In(lt),h,I);const V=(yield Promise.all(f.map(function(){var wn=(0,a.A)(function*(On){if(yield On._isAvailable())return On});return function(On){return wn.apply(this,arguments)}}()))).filter(wn=>wn);let ee=V[0]||In(lt);const We=cr(I,h.config.apiKey,h.name);let yt=null;for(const wn of f)try{const On=yield wn._get(We);if(On){const Un=mt._fromJSON(h,On);wn!==ee&&(yt=Un),ee=wn;break}}catch{}const zt=V.filter(wn=>wn._shouldAllowMigration);return ee._shouldAllowMigration&&zt.length?(ee=zt[0],yt&&(yield ee._set(We,yt.toJSON())),yield Promise.all(f.map(function(){var wn=(0,a.A)(function*(On){if(On!==ee)try{yield On._remove(We)}catch{}});return function(On){return wn.apply(this,arguments)}}())),new $n(ee,h,I)):new $n(ee,h,I)})()}}function nn(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Wi(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(kr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(dr(h))return"Blackberry";if(Yi(h))return"Webos";if(oi(h))return"Safari";if((h.includes("chrome/")||Wr(h))&&!h.includes("edge/"))return"Chrome";if(Xr(h))return"Android";{const I=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function kr(y=(0,Q.ZQ)()){return/firefox\//i.test(y)}function oi(y=(0,Q.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Wr(y=(0,Q.ZQ)()){return/crios\//i.test(y)}function Wi(y=(0,Q.ZQ)()){return/iemobile/i.test(y)}function Xr(y=(0,Q.ZQ)()){return/android/i.test(y)}function dr(y=(0,Q.ZQ)()){return/blackberry/i.test(y)}function Yi(y=(0,Q.ZQ)()){return/webos/i.test(y)}function yi(y=(0,Q.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function q(y=(0,Q.ZQ)()){return yi(y)||Xr(y)||Yi(y)||dr(y)||/windows phone/i.test(y)||Wi(y)}function we(y,h=[]){let f;switch(y){case"Browser":f=nn((0,Q.ZQ)());break;case"Worker":f=`${nn((0,Q.ZQ)())}-${y}`;break;default:f=y}const I=h.length?h.join(","):"FirebaseCore-web";return`${f}/JsCore/${re.SDK_VERSION}/${I}`}class ae{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,f){const I=ee=>new Promise((We,yt)=>{try{We(h(ee))}catch(zt){yt(zt)}});I.onAbort=f,this.queue.push(I);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(h){var f=this;return(0,a.A)(function*(){if(f.auth.currentUser===h)return;const I=[];try{for(const V of f.queue)yield V(h),V.onAbort&&I.push(V.onAbort)}catch(V){I.reverse();for(const ee of I)try{ee()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}function bt(){return(bt=(0,a.A)(function*(y,h={}){return qe(y,"GET","/v2/passwordPolicy",le(y,h))})).apply(this,arguments)}class Jt{constructor(h){var f,I,V,ee;const We=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(f=We.minPasswordLength)&&void 0!==f?f:6,We.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=We.maxPasswordLength),void 0!==We.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=We.containsLowercaseCharacter),void 0!==We.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=We.containsUppercaseCharacter),void 0!==We.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=We.containsNumericCharacter),void 0!==We.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=We.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(V=null===(I=h.allowedNonAlphanumericCharacters)||void 0===I?void 0:I.join(""))&&void 0!==V?V:"",this.forceUpgradeOnSignin=null!==(ee=h.forceUpgradeOnSignin)&&void 0!==ee&&ee,this.schemaVersion=h.schemaVersion}validatePassword(h){var f,I,V,ee,We,yt;const zt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,zt),this.validatePasswordCharacterOptions(h,zt),zt.isValid&&(zt.isValid=null===(f=zt.meetsMinPasswordLength)||void 0===f||f),zt.isValid&&(zt.isValid=null===(I=zt.meetsMaxPasswordLength)||void 0===I||I),zt.isValid&&(zt.isValid=null===(V=zt.containsLowercaseLetter)||void 0===V||V),zt.isValid&&(zt.isValid=null===(ee=zt.containsUppercaseLetter)||void 0===ee||ee),zt.isValid&&(zt.isValid=null===(We=zt.containsNumericCharacter)||void 0===We||We),zt.isValid&&(zt.isValid=null===(yt=zt.containsNonAlphanumericCharacter)||void 0===yt||yt),zt}validatePasswordLengthOptions(h,f){const I=this.customStrengthOptions.minPasswordLength,V=this.customStrengthOptions.maxPasswordLength;I&&(f.meetsMinPasswordLength=h.length>=I),V&&(f.meetsMaxPasswordLength=h.length<=V)}validatePasswordCharacterOptions(h,f){let I;this.updatePasswordCharacterOptionsStatuses(f,!1,!1,!1,!1);for(let V=0;V<h.length;V++)I=h.charAt(V),this.updatePasswordCharacterOptionsStatuses(f,I>="a"&&I<="z",I>="A"&&I<="Z",I>="0"&&I<="9",this.allowedNonAlphanumericCharacters.includes(I))}updatePasswordCharacterOptionsStatuses(h,f,I,V,ee){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=f)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=I)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=V)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ee))}}class er{constructor(h,f,I,V){this.app=h,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=I,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wi(this),this.idTokenSubscription=new wi(this),this.beforeStateQueue=new ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(h,f){var I=this;return f&&(this._popupRedirectResolver=In(f)),this._initializationPromise=this.queue((0,a.A)(function*(){var V,ee;if(!I._deleted&&(I.persistenceManager=yield $n.create(I,h),!I._deleted)){if(null!==(V=I._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(f),I.lastNotifiedUid=(null===(ee=I.currentUser)||void 0===ee?void 0:ee.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.A)(function*(){if(h._deleted)return;const f=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||f){if(h.currentUser&&f&&h.currentUser.uid===f.uid)return h._currentUser._assign(f),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(f,!0)}})()}initializeCurrentUserFromIdToken(h){var f=this;return(0,a.A)(function*(){try{const I=yield Wn(f,{idToken:h}),V=yield mt._fromGetAccountInfoResponse(f,I,h);yield f.directlySetCurrentUser(V)}catch(I){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",I),yield f.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var f=this;return(0,a.A)(function*(){var I;if((0,re._isFirebaseServerApp)(f.app)){const yt=f.app.settings.authIdToken;return yt?new Promise(zt=>{setTimeout(()=>f.initializeCurrentUserFromIdToken(yt).then(zt,zt))}):f.directlySetCurrentUser(null)}const V=yield f.assertedPersistence.getCurrentUser();let ee=V,We=!1;if(h&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const yt=null===(I=f.redirectUser)||void 0===I?void 0:I._redirectEventId,zt=ee?._redirectEventId,wn=yield f.tryRedirectSignIn(h);(!yt||yt===zt)&&wn?.user&&(ee=wn.user,We=!0)}if(!ee)return f.directlySetCurrentUser(null);if(!ee._redirectEventId){if(We)try{yield f.beforeStateQueue.runMiddleware(ee)}catch(yt){ee=V,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(yt))}return ee?f.reloadAndSetCurrentUserOrClear(ee):f.directlySetCurrentUser(null)}return Se(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===ee._redirectEventId?f.directlySetCurrentUser(ee):f.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(h){var f=this;return(0,a.A)(function*(){let I=null;try{I=yield f._popupRedirectResolver._completeRedirectFn(f,h,!0)}catch{yield f._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(h){var f=this;return(0,a.A)(function*(){try{yield an(h)}catch(I){if("auth/network-request-failed"!==I?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function me(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,a.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var f=this;return(0,a.A)(function*(){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(it(f));const I=h?(0,Q.Ku)(h):null;return I&&Se(I.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(I&&I._clone(f))})()}_updateCurrentUser(h,f=!1){var I=this;return(0,a.A)(function*(){if(!I._deleted)return h&&Se(I.tenantId===h.tenantId,I,"tenant-id-mismatch"),f||(yield I.beforeStateQueue.runMiddleware(h)),I.queue((0,a.A)(function*(){yield I.directlySetCurrentUser(h),I.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.A)(function*(){return(0,re._isFirebaseServerApp)(h.app)?Promise.reject(it(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var f=this;return(0,re._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,a.A)(function*(){yield f.assertedPersistence.setPersistence(In(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var f=this;return(0,a.A)(function*(){f._getPasswordPolicyInternal()||(yield f._updatePasswordPolicy());const I=f._getPasswordPolicyInternal();return I.schemaVersion!==f.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(f._errorFactory.create("unsupported-password-policy-schema-version",{})):I.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,a.A)(function*(){const f=yield function Je(y){return bt.apply(this,arguments)}(h),I=new Jt(f);null===h.tenantId?h._projectPasswordPolicy=I:h._tenantPasswordPolicies[h.tenantId]=I})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Q.FA("auth","Firebase",h())}onAuthStateChanged(h,f,I){return this.registerStateListener(this.authStateSubscription,h,f,I)}beforeAuthStateChanged(h,f){return this.beforeStateQueue.pushCallback(h,f)}onIdTokenChanged(h,f,I){return this.registerStateListener(this.idTokenSubscription,h,f,I)}authStateReady(){return new Promise((h,f)=>{if(this.currentUser)h();else{const I=this.onAuthStateChanged(()=>{I(),h()},f)}})}revokeAccessToken(h){var f=this;return(0,a.A)(function*(){if(f.currentUser){const I=yield f.currentUser.getIdToken(),V={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:I};null!=f.tenantId&&(V.tenantId=f.tenantId),yield function Ae(y,h){return De.apply(this,arguments)}(f,V)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,f){var I=this;return(0,a.A)(function*(){const V=yield I.getOrInitRedirectPersistenceManager(f);return null===h?V.removeCurrentUser():V.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var f=this;return(0,a.A)(function*(){if(!f.redirectPersistenceManager){const I=h&&In(h)||f._popupRedirectResolver;Se(I,f,"argument-error"),f.redirectPersistenceManager=yield $n.create(f,[In(I._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(h){var f=this;return(0,a.A)(function*(){var I,V;return f._isInitialized&&(yield f.queue((0,a.A)(function*(){}))),(null===(I=f._currentUser)||void 0===I?void 0:I._redirectEventId)===h?f._currentUser:(null===(V=f.redirectUser)||void 0===V?void 0:V._redirectEventId)===h?f.redirectUser:null})()}_persistUserIfCurrent(h){var f=this;return(0,a.A)(function*(){if(h===f.currentUser)return f.queue((0,a.A)(function*(){return f.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(f=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,f,I,V){if(this._deleted)return()=>{};const ee="function"==typeof f?f:f.next.bind(f);let We=!1;const yt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(yt,this,"internal-error"),yt.then(()=>{We||ee(this.currentUser)}),"function"==typeof f){const zt=h.addObserver(f,I,V);return()=>{We=!0,zt()}}{const zt=h.addObserver(f);return()=>{We=!0,zt()}}}directlySetCurrentUser(h){var f=this;return(0,a.A)(function*(){f.currentUser&&f.currentUser!==h&&f._currentUser._stopProactiveRefresh(),h&&f.isProactiveRefreshEnabled&&h._startProactiveRefresh(),f.currentUser=h,h?yield f.assertedPersistence.setCurrentUser(h):yield f.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=we(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.A)(function*(){var f;const I={"X-Client-Version":h.clientVersion};h.app.options.appId&&(I["X-Firebase-gmpid"]=h.app.options.appId);const V=yield null===(f=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();V&&(I["X-Firebase-Client"]=V);const ee=yield h._getAppCheckToken();return ee&&(I["X-Firebase-AppCheck"]=ee),I})()}_getAppCheckToken(){var h=this;return(0,a.A)(function*(){var f;const I=yield null===(f=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return I?.error&&function dt(y,...h){_t.logLevel<=be.$b.WARN&&_t.warn(`Auth (${re.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function zn(y){return(0,Q.Ku)(y)}class wi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Q.tD)(f=>this.observer=f)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qr={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ti(y){return Qr.loadJS(y)}function lo(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Ko{constructor(h){this.type="recaptcha-enterprise",this.auth=zn(h)}verify(h="verify",f=!1){var I=this;return(0,a.A)(function*(){function ee(){return ee=(0,a.A)(function*(yt){if(!f){if(null==yt.tenantId&&null!=yt._agentRecaptchaConfig)return yt._agentRecaptchaConfig.siteKey;if(null!=yt.tenantId&&void 0!==yt._tenantRecaptchaConfigs[yt.tenantId])return yt._tenantRecaptchaConfigs[yt.tenantId].siteKey}return new Promise(function(){var zt=(0,a.A)(function*(wn,On){Rt(yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Un=>{if(void 0!==Un.recaptchaKey){const Hi=new ht(Un);return null==yt.tenantId?yt._agentRecaptchaConfig=Hi:yt._tenantRecaptchaConfigs[yt.tenantId]=Hi,wn(Hi.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(Un=>{On(Un)})});return function(wn,On){return zt.apply(this,arguments)}}())}),ee.apply(this,arguments)}function We(yt,zt,wn){const On=window.grecaptcha;Ft(On)?On.enterprise.ready(()=>{On.enterprise.execute(yt,{action:h}).then(Un=>{zt(Un)}).catch(()=>{zt("NO_RECAPTCHA")})}):wn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((yt,zt)=>{(function V(yt){return ee.apply(this,arguments)})(I.auth).then(wn=>{if(!f&&Ft(window.grecaptcha))We(wn,yt,zt);else{if(typeof window>"u")return void zt(new Error("RecaptchaVerifier is only supported in browser"));let On=function bi(){return Qr.recaptchaEnterpriseScript}();0!==On.length&&(On+=wn),ti(On).then(()=>{We(wn,yt,zt)}).catch(Un=>{zt(Un)})}}).catch(wn=>{zt(wn)})})})()}}function Lo(y,h,f){return Io.apply(this,arguments)}function Io(){return(Io=(0,a.A)(function*(y,h,f,I=!1){const V=new Ko(y);let ee;try{ee=yield V.verify(f)}catch{ee=yield V.verify(f,!0)}const We=Object.assign({},h);return Object.assign(We,I?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(We,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(We,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),We})).apply(this,arguments)}function Mi(y,h,f,I){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,a.A)(function*(y,h,f,I){var V;if(null!==(V=y._getRecaptchaConfig())&&void 0!==V&&V.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ee=yield Lo(y,h,f,"getOobCode"===f);return I(y,ee)}return I(y,h).catch(function(){var ee=(0,a.A)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log(`${f} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const yt=yield Lo(y,h,f,"getOobCode"===f);return I(y,yt)}return Promise.reject(We)});return function(We){return ee.apply(this,arguments)}}())}),Eo.apply(this,arguments)}function os(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ss(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class sr{constructor(h,f){this.providerId=h,this.signInMethod=f}toJSON(){return Vt("not implemented")}_getIdTokenResponse(h){return Vt("not implemented")}_linkToIdToken(h,f){return Vt("not implemented")}_getReauthenticationResolver(h){return Vt("not implemented")}}function uo(y,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:resetPassword",le(y,h))})).apply(this,arguments)}function Ur(){return(Ur=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function vs(y,h){return di.apply(this,arguments)}function di(){return(di=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function ho(){return(ho=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:update",le(y,h))})).apply(this,arguments)}function Zi(y,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPassword",le(y,h))})).apply(this,arguments)}function U(y,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:sendOobCode",le(y,h))})).apply(this,arguments)}function M(){return(M=(0,a.A)(function*(y,h){return U(y,h)})).apply(this,arguments)}function se(y,h){return F.apply(this,arguments)}function F(){return(F=(0,a.A)(function*(y,h){return U(y,h)})).apply(this,arguments)}function Y(y,h){return ve.apply(this,arguments)}function ve(){return(ve=(0,a.A)(function*(y,h){return U(y,h)})).apply(this,arguments)}function Re(){return(Re=(0,a.A)(function*(y,h){return U(y,h)})).apply(this,arguments)}function Lt(){return(Lt=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithEmailLink",le(y,h))})).apply(this,arguments)}function jt(){return(jt=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithEmailLink",le(y,h))})).apply(this,arguments)}class Wt extends sr{constructor(h,f,I,V=null){super("password",I),this._email=h,this._password=f,this._tenantId=V}static _fromEmailAndPassword(h,f){return new Wt(h,f,"password")}static _fromEmailAndCode(h,f,I=null){return new Wt(h,f,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(h){var f=this;return(0,a.A)(function*(){switch(f.signInMethod){case"password":return Mi(h,{returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zi);case"emailLink":return function st(y,h){return Lt.apply(this,arguments)}(h,{email:f._email,oobCode:f._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,f){var I=this;return(0,a.A)(function*(){switch(I.signInMethod){case"password":return Mi(h,{idToken:f,returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vs);case"emailLink":return function Gt(y,h){return jt.apply(this,arguments)}(h,{idToken:f,email:I._email,oobCode:I._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function cn(y,h){return En.apply(this,arguments)}function En(){return(En=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithIdp",le(y,h))})).apply(this,arguments)}class Nn extends sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const f=new Nn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(f.idToken=h.idToken),h.accessToken&&(f.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(f.nonce=h.nonce),h.pendingToken&&(f.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(f.accessToken=h.oauthToken,f.secret=h.oauthTokenSecret):Ie("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:V}=f,ee=(0,ce.Tt)(f,["providerId","signInMethod"]);if(!I||!V)return null;const We=new Nn(I,V);return We.idToken=ee.idToken||void 0,We.accessToken=ee.accessToken||void 0,We.secret=ee.secret,We.nonce=ee.nonce,We.pendingToken=ee.pendingToken||null,We}_getIdTokenResponse(h){return cn(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,cn(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,cn(h,f)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),h.postBody=(0,Q.Am)(f)}return h}}function Fr(){return(Fr=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:sendVerificationCode",le(y,h))})).apply(this,arguments)}function Lr(){return(Lr=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",le(y,h))})).apply(this,arguments)}function Ji(){return(Ji=(0,a.A)(function*(y,h){const f=yield gt(y,"POST","/v1/accounts:signInWithPhoneNumber",le(y,h));if(f.temporaryProof)throw Ot(y,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Ai={USER_NOT_FOUND:"user-not-found"};function Uo(){return(Uo=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",le(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ai)})).apply(this,arguments)}class Pi extends sr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,f){return new Pi({verificationId:h,verificationCode:f})}static _fromTokenResponse(h,f){return new Pi({phoneNumber:h,temporaryProof:f})}_getIdTokenResponse(h){return function Vr(y,h){return Lr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,f){return function fr(y,h){return Ji.apply(this,arguments)}(h,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Xs(y,h){return Uo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:f,verificationId:I,verificationCode:V}=this.params;return h&&f?{temporaryProof:h,phoneNumber:f}:{sessionInfo:I,code:V}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:f,verificationCode:I,phoneNumber:V,temporaryProof:ee}=h;return I||f||V||ee?new Pi({verificationId:f,verificationCode:I,phoneNumber:V,temporaryProof:ee}):null}}class ys{constructor(h){var f,I,V,ee,We,yt;const zt=(0,Q.I9)((0,Q.hp)(h)),wn=null!==(f=zt.apiKey)&&void 0!==f?f:null,On=null!==(I=zt.oobCode)&&void 0!==I?I:null,Un=function Ia(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=zt.mode)&&void 0!==V?V:null);Se(wn&&On&&Un,"argument-error"),this.apiKey=wn,this.operation=Un,this.code=On,this.continueUrl=null!==(ee=zt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(We=zt.languageCode)&&void 0!==We?We:null,this.tenantId=null!==(yt=zt.tenantId)&&void 0!==yt?yt:null}static parseLink(h){const f=function as(y){const h=(0,Q.I9)((0,Q.hp)(y)).link,f=h?(0,Q.I9)((0,Q.hp)(h)).deep_link_id:null,I=(0,Q.I9)((0,Q.hp)(y)).deep_link_id;return(I?(0,Q.I9)((0,Q.hp)(I)).link:null)||I||f||h||y}(h);try{return new ys(f)}catch{return null}}}let Qs=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(f,I){return Wt._fromEmailAndPassword(f,I)}static credentialWithLink(f,I){const V=ys.parseLink(I);return Se(V,"argument-error"),Wt._fromEmailAndCode(f,V.code,V.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class eo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class _s extends eo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Xo extends _s{static credentialFromJSON(h){const f="string"==typeof h?JSON.parse(h):h;return Se("providerId"in f&&"signInMethod"in f,"argument-error"),Nn._fromParams(f)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Se(h.idToken||h.accessToken,"argument-error"),Nn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Xo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Xo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:f,oauthAccessToken:I,oauthTokenSecret:V,pendingToken:ee,nonce:We,providerId:yt}=h;if(!I&&!V&&!f&&!ee||!yt)return null;try{return new Xo(yt)._credential({idToken:f,accessToken:I,nonce:We,pendingToken:ee})}catch{return null}}}let Zr=(()=>{class y extends _s{constructor(){super("facebook.com")}static credential(f){return Nn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),xr=(()=>{class y extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(f,I){return Nn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:I,oauthAccessToken:V}=f;if(!I&&!V)return null;try{return y.credential(I,V)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ar=(()=>{class y extends _s{constructor(){super("github.com")}static credential(f){return Nn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return y.credential(f.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Qo extends sr{constructor(h,f){super(h,h),this.pendingToken=f}_getIdTokenResponse(h){return cn(h,this.buildRequest())}_linkToIdToken(h,f){const I=this.buildRequest();return I.idToken=f,cn(h,I)}_getReauthenticationResolver(h){const f=this.buildRequest();return f.autoCreate=!1,cn(h,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const f="string"==typeof h?JSON.parse(h):h,{providerId:I,signInMethod:V,pendingToken:ee}=f;return I&&V&&ee&&I===V?new Qo(I,ee):null}static _create(h,f){return new Qo(h,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class to extends eo{constructor(h){Se(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return to.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return to.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const f=Qo.fromJSON(h);return Se(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:f,providerId:I}=h;if(!f||!I)return null;try{return Qo._create(I,f)}catch{return null}}}let po=(()=>{class y extends _s{constructor(){super("twitter.com")}static credential(f,I){return Nn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:I})}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:I,oauthTokenSecret:V}=f;if(!I||!V)return null;try{return y.credential(I,V)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Bo(y,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signUp",le(y,h))})).apply(this,arguments)}class ur{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,f,I,V=!1){return(0,a.A)(function*(){const ee=yield mt._fromIdTokenResponse(h,I,V),We=Co(I);return new ur({user:ee,providerId:We,_tokenResponse:I,operationType:f})})()}static _forOperation(h,f,I){return(0,a.A)(function*(){yield h._updateTokensIfNecessary(I,!0);const V=Co(I);return new ur({user:h,providerId:V,_tokenResponse:I,operationType:f})})()}}function Co(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function cs(){return(cs=(0,a.A)(function*(y){var h;if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const f=zn(y);if(yield f._initializationPromise,null!==(h=f.currentUser)&&void 0!==h&&h.isAnonymous)return new ur({user:f.currentUser,providerId:null,operationType:"signIn"});const I=yield Bo(f,{returnSecureToken:!0}),V=yield ur._fromIdTokenResponse(f,"signIn",I,!0);return yield f._updateCurrentUser(V.user),V})).apply(this,arguments)}class Ys extends Q.g{constructor(h,f,I,V){var ee;super(f.code,f.message),this.operationType=I,this.user=V,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:h.name,tenantId:null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:f.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(h,f,I,V){return new Ys(h,f,I,V)}}function Zs(y,h,f,I){return("reauthenticate"===h?f._getReauthenticationResolver(y):f._getIdTokenResponse(y)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Ys._fromErrorAndOperation(y,ee,h,I):ee})}function sc(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Ca(){return Ca=(0,a.A)(function*(y,h){const f=(0,Q.Ku)(y);yield ac(!0,f,h);const{providerUserInfo:I}=yield function vn(y,h){return gn.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[h]}),V=sc(I||[]);return f.providerData=f.providerData.filter(ee=>V.has(ee.providerId)),V.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),Ca.apply(this,arguments)}function Br(y,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.A)(function*(y,h,f=!1){const I=yield yn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),f);return ur._forOperation(y,"link",I)})).apply(this,arguments)}function ac(y,h,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,a.A)(function*(y,h,f){yield an(h);const V=!1===y?"provider-already-linked":"no-such-provider";Se(sc(h.providerData).has(f)===y,h.auth,V)})).apply(this,arguments)}function cl(y,h){return $a.apply(this,arguments)}function $a(){return($a=(0,a.A)(function*(y,h,f=!1){const{auth:I}=y;if((0,re._isFirebaseServerApp)(I.app))return Promise.reject(it(I));const V="reauthenticate";try{const ee=yield yn(y,Zs(I,V,h,y),f);Se(ee.idToken,I,"internal-error");const We=lr(ee.idToken);Se(We,I,"internal-error");const{sub:yt}=We;return Se(y.uid===yt,I,"user-mismatch"),ur._forOperation(y,V,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&Ie(I,"user-mismatch"),ee}})).apply(this,arguments)}function ll(y,h){return z.apply(this,arguments)}function z(){return(z=(0,a.A)(function*(y,h,f=!1){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I="signIn",V=yield Zs(y,I,h),ee=yield ur._fromIdTokenResponse(y,I,V);return f||(yield y._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function j(y,h){return R.apply(this,arguments)}function R(){return(R=(0,a.A)(function*(y,h){return ll(zn(y),h)})).apply(this,arguments)}function ne(y,h){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.A)(function*(y,h){const f=(0,Q.Ku)(y);return yield ac(!1,f,h.providerId),Br(f,h)})).apply(this,arguments)}function Fn(y,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.A)(function*(y,h){return cl((0,Q.Ku)(y),h)})).apply(this,arguments)}function Li(){return(Li=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithCustomToken",le(y,h))})).apply(this,arguments)}function Ns(){return Ns=(0,a.A)(function*(y,h){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const f=zn(y),I=yield function qi(y,h){return Li.apply(this,arguments)}(f,{token:h,returnSecureToken:!0}),V=yield ur._fromIdTokenResponse(f,"signIn",I);return yield f._updateCurrentUser(V.user),V}),Ns.apply(this,arguments)}class To{constructor(h,f){this.factorId=h,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(h,f){return"phoneInfo"in f?vr._fromServerResponse(h,f):"totpInfo"in f?pi._fromServerResponse(h,f):Ie(h,"internal-error")}}class vr extends To{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,f){return new vr(f)}}class pi extends To{constructor(h){super("totp",h)}static _fromServerResponse(h,f){return new pi(f)}}function ai(y,h,f){var I;Se((null===(I=f.url)||void 0===I?void 0:I.length)>0,y,"invalid-continue-uri"),Se(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=f.url,h.dynamicLinkDomain=f.dynamicLinkDomain,h.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Se(f.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=f.iOS.bundleId),f.android&&(Se(f.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=f.android.installApp,h.androidMinimumVersionCode=f.android.minimumVersion,h.androidPackageName=f.android.packageName)}function gi(y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.A)(function*(y){const h=zn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Os(){return(Os=(0,a.A)(function*(y,h,f){const I=zn(y),V={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};f&&ai(I,V,f),yield Mi(I,V,"getOobCode",se)})).apply(this,arguments)}function Js(){return Js=(0,a.A)(function*(y,h,f){yield uo((0,Q.Ku)(y),{oobCode:h,newPassword:f}).catch(function(){var I=(0,a.A)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&gi(y),V});return function(V){return I.apply(this,arguments)}}())}),Js.apply(this,arguments)}function so(){return so=(0,a.A)(function*(y,h){yield function br(y,h){return ho.apply(this,arguments)}((0,Q.Ku)(y),{oobCode:h})}),so.apply(this,arguments)}function Fs(y,h){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.A)(function*(y,h){const f=(0,Q.Ku)(y),I=yield uo(f,{oobCode:h}),V=I.requestType;switch(Se(V,f,"internal-error"),V){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(I.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(I.mfaInfo,f,"internal-error");default:Se(I.email,f,"internal-error")}let ee=null;return I.mfaInfo&&(ee=To._fromServerResponse(zn(f),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:ee},operation:V}})).apply(this,arguments)}function za(){return(za=(0,a.A)(function*(y,h){const{data:f}=yield Fs((0,Q.Ku)(y),h);return f.email})).apply(this,arguments)}function cc(){return(cc=(0,a.A)(function*(y,h,f){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I=zn(y),We=yield Mi(I,{returnSecureToken:!0,email:h,password:f,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bo).catch(zt=>{throw"auth/password-does-not-meet-requirements"===zt.code&&gi(y),zt}),yt=yield ur._fromIdTokenResponse(I,"signIn",We);return yield I._updateCurrentUser(yt.user),yt})).apply(this,arguments)}function Is(){return(Is=(0,a.A)(function*(y,h,f){const I=zn(y),V={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ee(We,yt){Se(yt.handleCodeInApp,I,"argument-error"),yt&&ai(I,We,yt)})(V,f),yield Mi(I,V,"getOobCode",Y)})).apply(this,arguments)}function lc(){return(lc=(0,a.A)(function*(y,h,f){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I=(0,Q.Ku)(y),V=Qs.credentialWithLink(h,f||pn());return Se(V._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),j(I,V)})).apply(this,arguments)}function Ga(){return(Ga=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:createAuthUri",le(y,h))})).apply(this,arguments)}function gr(){return gr=(0,a.A)(function*(y,h){const I={identifier:h,continueUri:Yt()?pn():"http://localhost"},{signinMethods:V}=yield function ta(y,h){return Ga.apply(this,arguments)}((0,Q.Ku)(y),I);return V||[]}),gr.apply(this,arguments)}function go(){return go=(0,a.A)(function*(y,h){const f=(0,Q.Ku)(y),V={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&ai(f.auth,V,h);const{email:ee}=yield function G(y,h){return M.apply(this,arguments)}(f.auth,V);ee!==y.email&&(yield y.reload())}),go.apply(this,arguments)}function Ta(){return Ta=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};f&&ai(I.auth,ee,f);const{email:We}=yield function Oe(y,h){return Re.apply(this,arguments)}(I.auth,ee);We!==y.email&&(yield y.reload())}),Ta.apply(this,arguments)}function ls(){return(ls=(0,a.A)(function*(y,h){return qe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Cs(){return Cs=(0,a.A)(function*(y,{displayName:h,photoURL:f}){if(void 0===h&&void 0===f)return;const I=(0,Q.Ku)(y),ee={idToken:yield I.getIdToken(),displayName:h,photoUrl:f,returnSecureToken:!0},We=yield yn(I,function hu(y,h){return ls.apply(this,arguments)}(I.auth,ee));I.displayName=We.displayName||null,I.photoURL=We.photoUrl||null;const yt=I.providerData.find(({providerId:zt})=>"password"===zt);yt&&(yt.displayName=I.displayName,yt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(We)}),Cs.apply(this,arguments)}function ra(y,h,f){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,a.A)(function*(y,h,f){const{auth:I}=y,ee={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ee.email=h),f&&(ee.password=f);const We=yield yn(y,function Vi(y,h){return Ur.apply(this,arguments)}(I,ee));yield y._updateTokensIfNecessary(We,!0)}),Vs.apply(this,arguments)}class Yo{constructor(h,f,I={}){this.isNewUser=h,this.providerId=f,this.profile=I}}class $o extends Yo{constructor(h,f,I,V){super(h,f,I),this.username=V}}class oa extends Yo{constructor(h,f){super(h,"facebook.com",f)}}class pl extends $o{constructor(h,f){super(h,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class D extends Yo{constructor(h,f){super(h,"google.com",f)}}class X extends $o{constructor(h,f,I){super(h,"twitter.com",f,I)}}function x(y){const{user:h,_tokenResponse:f}=y;return h.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function ia(y){var h,f;if(!y)return null;const{providerId:I}=y,V=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ee=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!I&&y?.idToken){const We=null===(f=null===(h=lr(y.idToken))||void 0===h?void 0:h.firebase)||void 0===f?void 0:f.sign_in_provider;if(We)return new Yo(ee,"anonymous"!==We&&"custom"!==We?We:null)}if(!I)return null;switch(I){case"facebook.com":return new oa(ee,V);case"github.com":return new pl(ee,V);case"google.com":return new D(ee,V);case"twitter.com":return new X(ee,V,y.screenName||null);case"custom":case"anonymous":return new Yo(ee,null);default:return new Yo(ee,I,V)}}(f)}class Sr{constructor(h,f,I){this.type=h,this.credential=f,this.user=I}static _fromIdtoken(h,f){return new Sr("enroll",h,f)}static _fromMfaPendingCredential(h){return new Sr("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var f,I;if(h?.multiFactorSession){if(null!==(f=h.multiFactorSession)&&void 0!==f&&f.pendingCredential)return Sr._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(I=h.multiFactorSession)&&void 0!==I&&I.idToken)return Sr._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Si{constructor(h,f,I){this.session=h,this.hints=f,this.signInResolver=I}static _fromError(h,f){const I=zn(h),V=f.customData._serverResponse,ee=(V.mfaInfo||[]).map(yt=>To._fromServerResponse(I,yt));Se(V.mfaPendingCredential,I,"internal-error");const We=Sr._fromMfaPendingCredential(V.mfaPendingCredential);return new Si(We,ee,function(){var yt=(0,a.A)(function*(zt){const wn=yield zt._process(I,We);delete V.mfaInfo,delete V.mfaPendingCredential;const On=Object.assign(Object.assign({},V),{idToken:wn.idToken,refreshToken:wn.refreshToken});switch(f.operationType){case"signIn":const Un=yield ur._fromIdTokenResponse(I,f.operationType,On);return yield I._updateCurrentUser(Un.user),Un;case"reauthenticate":return Se(f.user,I,"internal-error"),ur._forOperation(f.user,f.operationType,On);default:Ie(I,"internal-error")}});return function(zt){return yt.apply(this,arguments)}}())}resolveSignIn(h){var f=this;return(0,a.A)(function*(){return f.signInResolver(h)})()}}class Tn{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(I=>To._fromServerResponse(h.auth,I)))})}static _fromUser(h){return new Tn(h)}getSession(){var h=this;return(0,a.A)(function*(){return Sr._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,f){var I=this;return(0,a.A)(function*(){const V=h,ee=yield I.getSession(),We=yield yn(I.user,V._process(I.user.auth,ee,f));return yield I.user._updateTokensIfNecessary(We),I.user.reload()})()}unenroll(h){var f=this;return(0,a.A)(function*(){const I="string"==typeof h?h:h.uid,V=yield f.user.getIdToken();try{const ee=yield yn(f.user,function qr(y,h){return qe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",le(y,h))}(f.user.auth,{idToken:V,mfaEnrollmentId:I}));f.enrolledFactors=f.enrolledFactors.filter(({uid:We})=>We!==I),yield f.user._updateTokensIfNecessary(ee),yield f.user.reload()}catch(ee){throw ee}})()}}const Ls=new WeakMap,Ts="__sak";class hi{constructor(h,f){this.storageRetriever=h,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,f){return this.storage.setItem(h,JSON.stringify(f)),Promise.resolve()}_get(h){const f=this.storage.getItem(h);return Promise.resolve(f?JSON.parse(f):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Us=(()=>{class y extends hi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,I)=>this.onStorageEvent(f,I),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const I of Object.keys(this.listeners)){const V=this.storage.getItem(I),ee=this.localCache[I];V!==ee&&f(I,ee,V)}}onStorageEvent(f,I=!1){if(!f.key)return void this.forAllChangedKeys((yt,zt,wn)=>{this.notifyListeners(yt,wn)});const V=f.key;I?this.detachListener():this.stopPolling();const ee=()=>{const yt=this.storage.getItem(V);!I&&this.localCache[V]===yt||this.notifyListeners(V,yt)},We=this.storage.getItem(V);!function O(){return(0,Q.lT)()&&10===document.documentMode}()||We===f.newValue||f.newValue===f.oldValue?ee():setTimeout(ee,10)}notifyListeners(f,I){this.localCache[f]=I;const V=this.listeners[f];if(V)for(const ee of Array.from(V))ee(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,I,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:I,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,I){var V=()=>super._set,ee=this;return(0,a.A)(function*(){yield V().call(ee,f,I),ee.localCache[f]=JSON.stringify(I)})()}_get(f){var I=()=>super._get,V=this;return(0,a.A)(function*(){const ee=yield I().call(V,f);return V.localCache[f]=JSON.stringify(ee),ee})()}_remove(f){var I=()=>super._remove,V=this;return(0,a.A)(function*(){yield I().call(V,f),delete V.localCache[f]})()}}return y.type="LOCAL",y})(),Xi=(()=>{class y extends hi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,I){}_removeListener(f,I){}}return y.type="SESSION",y})();let vo=(()=>{class y{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const I=this.receivers.find(ee=>ee.isListeningto(f));if(I)return I;const V=new y(f);return this.receivers.push(V),V}isListeningto(f){return this.eventTarget===f}handleEvent(f){var I=this;return(0,a.A)(function*(){const V=f,{eventId:ee,eventType:We,data:yt}=V.data,zt=I.handlersMap[We];if(!zt?.size)return;V.ports[0].postMessage({status:"ack",eventId:ee,eventType:We});const wn=Array.from(zt).map(function(){var Un=(0,a.A)(function*(Hi){return Hi(V.origin,yt)});return function(Hi){return Un.apply(this,arguments)}}()),On=yield function sa(y){return Promise.all(y.map(function(){var h=(0,a.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(I){return{fulfilled:!1,reason:I}}});return function(f){return h.apply(this,arguments)}}()))}(wn);V.ports[0].postMessage({status:"done",eventId:ee,eventType:We,response:On})})()}_subscribe(f,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(I)}_unsubscribe(f,I){this.handlersMap[f]&&I&&this.handlersMap[f].delete(I),(!I||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function jn(y="",h=10){let f="";for(let I=0;I<h;I++)f+=Math.floor(10*Math.random());return y+f}class vl{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,f,I=50){var V=this;return(0,a.A)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let We,yt;return new Promise((zt,wn)=>{const On=jn("",20);ee.port1.start();const Un=setTimeout(()=>{wn(new Error("unsupported_event"))},I);yt={messageChannel:ee,onMessage(Hi){const co=Hi;if(co.data.eventId===On)switch(co.data.status){case"ack":clearTimeout(Un),We=setTimeout(()=>{wn(new Error("timeout"))},3e3);break;case"done":clearTimeout(We),zt(co.data.response);break;default:clearTimeout(Un),clearTimeout(We),wn(new Error("invalid_response"))}}},V.handlers.add(yt),ee.port1.addEventListener("message",yt.onMessage),V.target.postMessage({eventType:h,eventId:On,data:f},[ee.port2])}).finally(()=>{yt&&V.removeMessageHandler(yt)})})()}}function Ti(){return window}function Ka(){return typeof Ti().WorkerGlobalScope<"u"&&"function"==typeof Ti().importScripts}function Ni(){return(Ni=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yo="firebaseLocalStorageDb",wo="firebaseLocalStorage",dc="fbase_key";class Mo{constructor(h){this.request=h}toPromise(){return new Promise((h,f)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function ci(y,h){return y.transaction([wo],h?"readwrite":"readonly").objectStore(wo)}function Oc(){const y=indexedDB.open(yo,1);return new Promise((h,f)=>{y.addEventListener("error",()=>{f(y.error)}),y.addEventListener("upgradeneeded",()=>{const I=y.result;try{I.createObjectStore(wo,{keyPath:dc})}catch(V){f(V)}}),y.addEventListener("success",(0,a.A)(function*(){const I=y.result;I.objectStoreNames.contains(wo)?h(I):(I.close(),yield function _l(){const y=indexedDB.deleteDatabase(yo);return new Mo(y).toPromise()}(),h(yield Oc()))}))})}function kc(y,h,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.A)(function*(y,h,f){const I=ci(y,!0).put({[dc]:h,value:f});return new Mo(I).toPromise()})).apply(this,arguments)}function hc(){return(hc=(0,a.A)(function*(y,h){const f=ci(y,!1).get(h),I=yield new Mo(f).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function oh(y,h){const f=ci(y,!0).delete(h);return new Mo(f).toPromise()}const Fc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,a.A)(function*(){return f.db||(f.db=yield Oc()),f.db})()}_withRetries(f){var I=this;return(0,a.A)(function*(){let V=0;for(;;)try{const ee=yield I._openDb();return yield f(ee)}catch(ee){if(V++>3)throw ee;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,a.A)(function*(){return Ka()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,a.A)(function*(){f.receiver=vo._getInstance(function ro(){return Ka()?self:null}()),f.receiver._subscribe("keyChanged",function(){var I=(0,a.A)(function*(V,ee){return{keyProcessed:(yield f._poll()).includes(ee.key)}});return function(V,ee){return I.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var I=(0,a.A)(function*(V,ee){return["keyChanged"]});return function(V,ee){return I.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,a.A)(function*(){var I,V;if(f.activeServiceWorker=yield function uc(){return Ni.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new vl(f.activeServiceWorker);const ee=yield f.sender._send("ping",{},800);ee&&null!==(I=ee[0])&&void 0!==I&&I.fulfilled&&null!==(V=ee[0])&&void 0!==V&&V.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var I=this;return(0,a.A)(function*(){if(I.sender&&I.activeServiceWorker&&function fu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:f},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const f=yield Oc();return yield kc(f,Ts,"1"),yield oh(f,Ts),!0}catch{}return!1})()}_withPendingWrite(f){var I=this;return(0,a.A)(function*(){I.pendingWrites++;try{yield f()}finally{I.pendingWrites--}})()}_set(f,I){var V=this;return(0,a.A)(function*(){return V._withPendingWrite((0,a.A)(function*(){return yield V._withRetries(ee=>kc(ee,f,I)),V.localCache[f]=I,V.notifyServiceWorker(f)}))})()}_get(f){var I=this;return(0,a.A)(function*(){const V=yield I._withRetries(ee=>function ws(y,h){return hc.apply(this,arguments)}(ee,f));return I.localCache[f]=V,V})()}_remove(f){var I=this;return(0,a.A)(function*(){return I._withPendingWrite((0,a.A)(function*(){return yield I._withRetries(V=>oh(V,f)),delete I.localCache[f],I.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,a.A)(function*(){const I=yield f._withRetries(We=>{const yt=ci(We,!1).getAll();return new Mo(yt).toPromise()});if(!I)return[];if(0!==f.pendingWrites)return[];const V=[],ee=new Set;if(0!==I.length)for(const{fbase_key:We,value:yt}of I)ee.add(We),JSON.stringify(f.localCache[We])!==JSON.stringify(yt)&&(f.notifyListeners(We,yt),V.push(We));for(const We of Object.keys(f.localCache))f.localCache[We]&&!ee.has(We)&&(f.notifyListeners(We,null),V.push(We));return V})()}notifyListeners(f,I){this.localCache[f]=I;const V=this.listeners[f];if(V)for(const ee of Array.from(V))ee(I)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(I)}_removeListener(f,I){this.listeners[f]&&(this.listeners[f].delete(I),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),$=1e12;class ie{constructor(h){this.auth=h,this.counter=$,this._widgets=new Map}render(h,f){const I=this.counter;return this._widgets.set(I,new xe(h,this.auth.name,f||{})),this.counter++,I}reset(h){var f;const I=h||$;null===(f=this._widgets.get(I))||void 0===f||f.delete(),this._widgets.delete(I)}getResponse(h){var f;return(null===(f=this._widgets.get(h||$))||void 0===f?void 0:f.getResponse())||""}execute(h){var f=this;return(0,a.A)(function*(){var I;return null===(I=f._widgets.get(h||$))||void 0===I||I.execute(),""})()}}class xe{constructor(h,f,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const V="string"==typeof h?document.getElementById(h):h;Se(V,"argument-error",{appName:f}),this.container=V,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pt(y){const h=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<y;I++)h.push(f.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":f}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Et=lo("rcb"),Dn=new fe(3e4,6e4);class mr{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Ti().grecaptcha)||void 0===h||!h.render)}load(h,f=""){return Se(function Dr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(f),h,"argument-error"),this.shouldResolveImmediately(f)&&Ln(Ti().grecaptcha)?Promise.resolve(Ti().grecaptcha):new Promise((I,V)=>{const ee=Ti().setTimeout(()=>{V(ge(h,"network-request-failed"))},Dn.get());Ti()[Et]=()=>{Ti().clearTimeout(ee),delete Ti()[Et];const yt=Ti().grecaptcha;if(!yt||!Ln(yt))return void V(ge(h,"internal-error"));const zt=yt.render;yt.render=(wn,On)=>{const Un=zt(wn,On);return this.counter++,Un},this.hostLanguage=f,I(yt)},ti(`${function Wo(){return Qr.recaptchaV2Script}()}?${(0,Q.Am)({onload:Et,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(ee),V(ge(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var f;return!(null===(f=Ti().grecaptcha)||void 0===f||!f.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ii{load(h){return(0,a.A)(function*(){return new ie(h)})()}clearedOneInstance(){}}const io="recaptcha",Oi={theme:"light",type:"image"};class Bs{constructor(h,f,I=Object.assign({},Oi)){this.parameters=I,this.type=io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(h),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const V="string"==typeof f?document.getElementById(f):f;Se(V,this.auth,"argument-error"),this.container=V,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ii:new mr,this.validateStartingState()}verify(){var h=this;return(0,a.A)(function*(){h.assertNotDestroyed();const f=yield h.render(),I=h.getAssertedRecaptcha();return I.getResponse(f)||new Promise(ee=>{const We=yt=>{yt&&(h.tokenChangeListeners.delete(We),ee(yt))};h.tokenChangeListeners.add(We),h.isInvisible&&I.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return f=>{if(this.tokenChangeListeners.forEach(I=>I(f)),"function"==typeof h)h(f);else if("string"==typeof h){const I=Ti()[h];"function"==typeof I&&I(f)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.A)(function*(){if(yield h.init(),!h.widgetId){let f=h.container;if(!h.isInvisible){const I=document.createElement("div");f.appendChild(I),f=I}h.widgetId=h.getAssertedRecaptcha().render(f,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.A)(function*(){Se(Yt()&&!Ka(),h.auth,"internal-error"),yield function bs(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const f=yield function de(y){return ut.apply(this,arguments)}(h.auth);Se(f,h.auth,"internal-error"),h.parameters.sitekey=f})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Aa{constructor(h,f){this.verificationId=h,this.onConfirmation=f}confirm(h){const f=Pi._fromVerification(this.verificationId,h);return this.onConfirmation(f)}}function Sa(){return(Sa=(0,a.A)(function*(y,h,f){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I=zn(y),V=yield aa(I,h,(0,Q.Ku)(f));return new Aa(V,ee=>j(I,ee))})).apply(this,arguments)}function Il(){return(Il=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);yield ac(!1,I,"phone");const V=yield aa(I.auth,h,(0,Q.Ku)(f));return new Aa(V,ee=>ne(I,ee))})).apply(this,arguments)}function bo(){return(bo=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);if((0,re._isFirebaseServerApp)(I.auth.app))return Promise.reject(it(I.auth));const V=yield aa(I.auth,h,(0,Q.Ku)(f));return new Aa(V,ee=>Fn(I,ee))})).apply(this,arguments)}function aa(y,h,f){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,a.A)(function*(y,h,f){var I;const V=yield f.verify();try{let ee;if(Se("string"==typeof V,y,"argument-error"),Se(f.type===io,y,"argument-error"),ee="string"==typeof h?{phoneNumber:h}:h,"session"in ee){const We=ee.session;if("phoneNumber"in ee)return Se("enroll"===We.type,y,"internal-error"),(yield function xi(y,h){return qe(y,"POST","/v2/accounts/mfaEnrollment:start",le(y,h))}(y,{idToken:We.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:V}})).phoneSessionInfo.sessionInfo;{Se("signin"===We.type,y,"internal-error");const yt=(null===(I=ee.multiFactorHint)||void 0===I?void 0:I.uid)||ee.multiFactorUid;return Se(yt,y,"missing-multi-factor-info"),(yield function xg(y,h){return qe(y,"POST","/v2/accounts/mfaSignIn:start",le(y,h))}(y,{mfaPendingCredential:We.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:V}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:We}=yield function Cr(y,h){return Fr.apply(this,arguments)}(y,{phoneNumber:ee.phoneNumber,recaptchaToken:V});return We}}finally{f._reset()}}),Ra.apply(this,arguments)}function El(){return(El=(0,a.A)(function*(y,h){const f=(0,Q.Ku)(y);if((0,re._isFirebaseServerApp)(f.auth.app))return Promise.reject(it(f.auth));yield Br(f,h)})).apply(this,arguments)}let ca=(()=>{class y{constructor(f){this.providerId=y.PROVIDER_ID,this.auth=zn(f)}verifyPhoneNumber(f,I){return aa(this.auth,f,(0,Q.Ku)(I))}static credential(f,I){return Pi._fromVerification(f,I)}static credentialFromResult(f){return y.credentialFromTaggedObject(f)}static credentialFromError(f){return y.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:I,temporaryProof:V}=f;return I&&V?Pi._fromTokenResponse(I,V):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Bi(y,h){return h?In(h):(Se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ju extends sr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return cn(h,this._buildIdpRequest())}_linkToIdToken(h,f){return cn(h,this._buildIdpRequest(f))}_getReauthenticationResolver(h){return cn(h,this._buildIdpRequest())}_buildIdpRequest(h){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(f.idToken=h),f}}function Cl(y){return ll(y.auth,new Ju(y),y.bypassAuthState)}function Vc(y){const{auth:h,user:f}=y;return Se(f,h,"internal-error"),cl(f,new Ju(y),y.bypassAuthState)}function us(y){return ed.apply(this,arguments)}function ed(){return(ed=(0,a.A)(function*(y){const{auth:h,user:f}=y;return Se(f,h,"internal-error"),Br(f,new Ju(y),y.bypassAuthState)})).apply(this,arguments)}class Lc{constructor(h,f,I,V,ee=!1){this.auth=h,this.resolver=I,this.user=V,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var h=this;return new Promise(function(){var f=(0,a.A)(function*(I,V){h.pendingPromise={resolve:I,reject:V};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(I,V){return f.apply(this,arguments)}}())}onAuthEvent(h){var f=this;return(0,a.A)(function*(){const{urlResponse:I,sessionId:V,postBody:ee,tenantId:We,error:yt,type:zt}=h;if(yt)return void f.reject(yt);const wn={auth:f.auth,requestUri:I,sessionId:V,tenantId:We||void 0,postBody:ee||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(zt)(wn))}catch(On){f.reject(On)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Cl;case"linkViaPopup":case"linkViaRedirect":return us;case"reauthViaPopup":case"reauthViaRedirect":return Vc;default:Ie(this.auth,"internal-error")}}resolve(h){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pu=new fe(2e3,1e4);function Ma(){return(Ma=(0,a.A)(function*(y,h,f){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(ge(y,"operation-not-supported-in-this-environment"));const I=zn(y);$e(y,h,eo);const V=Bi(I,f);return new Tl(I,"signInViaPopup",h,V).executeNotNull()})).apply(this,arguments)}function gu(){return(gu=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);if((0,re._isFirebaseServerApp)(I.auth.app))return Promise.reject(ge(I.auth,"operation-not-supported-in-this-environment"));$e(I.auth,h,eo);const V=Bi(I.auth,f);return new Tl(I.auth,"reauthViaPopup",h,V,I).executeNotNull()})).apply(this,arguments)}function mu(){return(mu=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);$e(I.auth,h,eo);const V=Bi(I.auth,f);return new Tl(I.auth,"linkViaPopup",h,V,I).executeNotNull()})).apply(this,arguments)}let Tl=(()=>{class y extends Lc{constructor(f,I,V,ee,We){super(f,I,ee,We),this.provider=V,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var f=this;return(0,a.A)(function*(){const I=yield f.execute();return Se(I,f.auth,"internal-error"),I})()}onExecution(){var f=this;return(0,a.A)(function*(){Bt(1===f.filter.length,"Popup operations only handle one event");const I=jn();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],I),f.authWindow.associatedEvent=I,f.resolver._originValidation(f.auth).catch(V=>{f.reject(V)}),f.resolver._isIframeWebStorageSupported(f.auth,V=>{V||f.reject(ge(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const f=()=>{var I,V;this.pollId=null!==(V=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==V&&V.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,pu.get())};f()}}return y.currentPopupAction=null,y})();const fc="pendingRedirect",As=new Map;class jo extends Lc{constructor(h,f,I=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,I),this.eventId=null}execute(){var h=()=>super.execute,f=this;return(0,a.A)(function*(){let I=As.get(f.auth._key());if(!I){try{const ee=(yield function yr(y,h){return Uc.apply(this,arguments)}(f.resolver,f.auth))?yield h().call(f):null;I=()=>Promise.resolve(ee)}catch(V){I=()=>Promise.reject(V)}As.set(f.auth._key(),I)}return f.bypassAuthState||As.set(f.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(h){var f=()=>super.onAuthEvent,I=this;return(0,a.A)(function*(){if("signInViaRedirect"===h.type)return f().call(I,h);if("unknown"!==h.type){if(h.eventId){const V=yield I.auth._redirectUserForId(h.eventId);if(V)return I.user=V,f().call(I,h);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function Uc(){return(Uc=(0,a.A)(function*(y,h){const f=rd(h),I=ah(y);if(!(yield I._isAvailable()))return!1;const V="true"===(yield I._get(f));return yield I._remove(f),V})).apply(this,arguments)}function Dl(y,h){return nd.apply(this,arguments)}function nd(){return(nd=(0,a.A)(function*(y,h){return ah(y)._set(rd(h),"true")})).apply(this,arguments)}function vu(y,h){As.set(y._key(),h)}function ah(y){return In(y._redirectPersistence)}function rd(y){return cr(fc,y.config.apiKey,y.name)}function id(y,h,f){return function pc(y,h,f){return wl.apply(this,arguments)}(y,h,f)}function wl(){return(wl=(0,a.A)(function*(y,h,f){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I=zn(y);$e(y,h,eo),yield I._initializationPromise;const V=Bi(I,f);return yield Dl(V,I),V._openRedirect(I,h,"signInViaRedirect")})).apply(this,arguments)}function Og(y,h,f){return function ch(y,h,f){return bl.apply(this,arguments)}(y,h,f)}function bl(){return(bl=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);if($e(I.auth,h,eo),(0,re._isFirebaseServerApp)(I.auth.app))return Promise.reject(it(I.auth));yield I.auth._initializationPromise;const V=Bi(I.auth,f);yield Dl(V,I.auth);const ee=yield oo(I);return V._openRedirect(I.auth,h,"reauthViaRedirect",ee)})).apply(this,arguments)}function kg(y,h,f){return function Kt(y,h,f){return Ir.apply(this,arguments)}(y,h,f)}function Ir(){return(Ir=(0,a.A)(function*(y,h,f){const I=(0,Q.Ku)(y);$e(I.auth,h,eo),yield I.auth._initializationPromise;const V=Bi(I.auth,f);yield ac(!1,I,h.providerId),yield Dl(V,I.auth);const ee=yield oo(I);return V._openRedirect(I.auth,h,"linkViaRedirect",ee)})).apply(this,arguments)}function qa(){return(qa=(0,a.A)(function*(y,h){return yield zn(y)._initializationPromise,ei(y,h,!1)})).apply(this,arguments)}function ei(y,h){return yu.apply(this,arguments)}function yu(){return(yu=(0,a.A)(function*(y,h,f=!1){if((0,re._isFirebaseServerApp)(y.app))return Promise.reject(it(y));const I=zn(y),V=Bi(I,h),We=yield new jo(I,V,f).execute();return We&&!f&&(delete We.user._redirectEventId,yield I._persistUserIfCurrent(We.user),yield I._setRedirectUser(null,h)),We})).apply(this,arguments)}function oo(y){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.A)(function*(y){const h=jn(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Bc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let f=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(h,I)&&(f=!0,this.sendToConsumer(h,I),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function _u(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gc(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=h,f=!0)),f}sendToConsumer(h,f){var I;if(h.error&&!gc(h)){const V=(null===(I=h.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";f.onError(ge(this.auth,V))}else f.onAuthEvent(h)}isEventForConsumer(h,f){const I=null===f.eventId||!!h.eventId&&h.eventId===f.eventId;return f.filter.includes(h.type)&&I}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(od(h))}saveEventToCache(h){this.cachedEventUids.add(od(h)),this.lastProcessedEventTime=Date.now()}}function od(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function gc({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function sd(y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,a.A)(function*(y,h={}){return qe(y,"GET","/v1/projects",h)})).apply(this,arguments)}const jf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ao=/^https?/;function la(){return(la=(0,a.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield sd(y);for(const f of h)try{if(Hs(f))return}catch{}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Hs(y){const h=pn(),{protocol:f,hostname:I}=new URL(h);if(y.startsWith("chrome-extension://")){const We=new URL(y);return""===We.hostname&&""===I?"chrome-extension:"===f&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===f&&We.hostname===I}if(!ao.test(f))return!1;if(jf.test(y))return I===y;const V=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(I)}const Xa=new fe(3e4,6e4);function lh(){const y=Ti().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let f=0;f<y.CP.length;f++)y.CP[f]=null}let Iu=null;const Rl=new fe(5e3,15e3),ad="__/auth/iframe",uh="emulator/auth/iframe",Eu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(y){const h=y.config;Se(h.authDomain,y,"auth-domain-config-required");const f=h.emulator?_e(h,uh):`https://${y.config.authDomain}/${ad}`,I={apiKey:h.apiKey,appName:y.name,v:re.SDK_VERSION},V=Vg.get(y.config.apiHost);V&&(I.eid=V);const ee=y._getFrameworks();return ee.length&&(I.fw=ee.join(",")),`${f}?${(0,Q.Am)(I).slice(1)}`}function mc(){return mc=(0,a.A)(function*(y){const h=yield function Fg(y){return Iu=Iu||function Hf(y){return new Promise((h,f)=>{var I,V,ee;function We(){lh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{lh(),f(ge(y,"network-request-failed"))},timeout:Xa.get()})}if(null!==(V=null===(I=Ti().gapi)||void 0===I?void 0:I.iframes)&&void 0!==V&&V.Iframe)h(gapi.iframes.getContext());else{if(null===(ee=Ti().gapi)||void 0===ee||!ee.load){const yt=lo("iframefcb");return Ti()[yt]=()=>{gapi.load?We():f(ge(y,"network-request-failed"))},ti(`${function li(){return Qr.gapiScript}()}?onload=${yt}`).catch(zt=>f(zt))}We()}}).catch(h=>{throw Iu=null,h})}(y),Iu}(y),f=Ti().gapi;return Se(f,y,"internal-error"),h.open({where:document.body,url:dh(y),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eu,dontclear:!0},I=>new Promise(function(){var V=(0,a.A)(function*(ee,We){yield I.restyle({setHideOnLeave:!1});const yt=ge(y,"network-request-failed"),zt=Ti().setTimeout(()=>{We(yt)},Rl.get());function wn(){Ti().clearTimeout(zt),ee(I)}I.ping(wn).then(wn,()=>{We(yt)})});return function(ee,We){return V.apply(this,arguments)}}()))}),mc.apply(this,arguments)}const hh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ao{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const So="__/auth/handler",Ug="emulator/auth/handler",Bg=encodeURIComponent("fac");function ph(y,h,f,I,V,ee){return ld.apply(this,arguments)}function ld(){return(ld=(0,a.A)(function*(y,h,f,I,V,ee){Se(y.config.authDomain,y,"auth-domain-config-required"),Se(y.config.apiKey,y,"invalid-api-key");const We={apiKey:y.config.apiKey,appName:y.name,authType:f,redirectUrl:I,v:re.SDK_VERSION,eventId:V};if(h instanceof eo){h.setDefaultLanguage(y.languageCode),We.providerId=h.providerId||"",(0,Q.Im)(h.getCustomParameters())||(We.customParameters=JSON.stringify(h.getCustomParameters()));for(const[On,Un]of Object.entries(ee||{}))We[On]=Un}if(h instanceof _s){const On=h.getScopes().filter(Un=>""!==Un);On.length>0&&(We.scopes=On.join(","))}y.tenantId&&(We.tid=y.tenantId);const yt=We;for(const On of Object.keys(yt))void 0===yt[On]&&delete yt[On];const zt=yield y._getAppCheckToken(),wn=zt?`#${Bg}=${encodeURIComponent(zt)}`:"";return`${function ud({config:y}){return y.emulator?_e(y,Ug):`https://${y.authDomain}/${So}`}(y)}?${(0,Q.Am)(yt).slice(1)}${wn}`})).apply(this,arguments)}const jc="webStorageSupport",Cu=class Ss{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xi,this._completeRedirectFn=ei,this._overrideRedirectResult=vu}_openPopup(h,f,I,V){var ee=this;return(0,a.A)(function*(){var We;Bt(null===(We=ee.eventManagers[h._key()])||void 0===We?void 0:We.manager,"_initialize() not called before _openPopup()");const yt=yield ph(h,f,I,pn(),V);return function $c(y,h,f,I=500,V=600){const ee=Math.max((window.screen.availHeight-V)/2,0).toString(),We=Math.max((window.screen.availWidth-I)/2,0).toString();let yt="";const zt=Object.assign(Object.assign({},hh),{width:I.toString(),height:V.toString(),top:ee,left:We}),wn=(0,Q.ZQ)().toLowerCase();f&&(yt=Wr(wn)?"_blank":f),kr(wn)&&(h=h||"http://localhost",zt.scrollbars="yes");const On=Object.entries(zt).reduce((Hi,[co,zl])=>`${Hi}${co}=${zl},`,"");if(function J(y=(0,Q.ZQ)()){var h;return yi(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(wn)&&"_self"!==yt)return function vi(y,h){const f=document.createElement("a");f.href=y,f.target=h;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(I)}(h||"",yt),new Ao(null);const Un=window.open(h||"",yt,On);Se(Un,y,"popup-blocked");try{Un.focus()}catch{}return new Ao(Un)}(h,yt,jn())})()}_openRedirect(h,f,I,V){var ee=this;return(0,a.A)(function*(){return yield ee._originValidation(h),function Ds(y){Ti().location.href=y}(yield ph(h,f,I,pn(),V)),new Promise(()=>{})})()}_initialize(h){const f=h._key();if(this.eventManagers[f]){const{manager:V,promise:ee}=this.eventManagers[f];return V?Promise.resolve(V):(Bt(ee,"If manager is not set, promise should be"),ee)}const I=this.initAndGetManager(h);return this.eventManagers[f]={promise:I},I.catch(()=>{delete this.eventManagers[f]}),I}initAndGetManager(h){var f=this;return(0,a.A)(function*(){const I=yield function Qa(y){return mc.apply(this,arguments)}(h),V=new Bc(h);return I.register("authEvent",ee=>(Se(ee?.authEvent,h,"invalid-auth-event"),{status:V.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[h._key()]={manager:V},f.iframes[h._key()]=I,V})()}_isIframeWebStorageSupported(h,f){this.iframes[h._key()].send(jc,{type:jc},V=>{var ee;const We=null===(ee=V?.[0])||void 0===ee?void 0:ee[jc];void 0!==We&&f(!!We),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function xa(y){return la.apply(this,arguments)}(h)),this.originValidationPromises[f]}get _shouldInitProactively(){return q()||oi()||yi()}};class Tu{constructor(h){this.factorId=h}_process(h,f,I){switch(f.type){case"enroll":return this._finalizeEnroll(h,f.credential,I);case"signin":return this._finalizeSignIn(h,f.credential);default:return Vt("unexpected MultiFactorSessionType")}}}class Hc extends Tu{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hc(h)}_finalizeEnroll(h,f,I){return function mo(y,h){return qe(y,"POST","/v2/accounts/mfaEnrollment:finalize",le(y,h))}(h,{idToken:f,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,f){return function E(y,h){return qe(y,"POST","/v2/accounts/mfaSignIn:finalize",le(y,h))}(h,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ml=(()=>{class y{constructor(){}static assertion(f){return Hc._fromCredential(f)}}return y.FACTOR_ID="phone",y})();var Ya="@firebase/auth";class Gf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var f=this;return(0,a.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const f=this.auth.onIdTokenChanged(I=>{h(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,f),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const f=this.internalListeners.get(h);f&&(this.internalListeners.delete(h),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rs(){return window}(0,Q.XA)("authIdTokenMaxAge"),function hr(y){Qr=y}({loadJS:y=>new Promise((h,f)=>{const I=document.createElement("script");I.setAttribute("src",y),I.onload=h,I.onerror=V=>{const ee=ge("internal-error");ee.customData=V,f(ee)},I.type="text/javascript",I.charset="UTF-8",function hd(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(I)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function mh(y){(0,re._registerComponent)(new Te.uA("auth",(h,{options:f})=>{const I=h.getProvider("app").getImmediate(),V=h.getProvider("heartbeat"),ee=h.getProvider("app-check-internal"),{apiKey:We,authDomain:yt}=I.options;Se(We&&!We.includes(":"),"invalid-api-key",{appName:I.name});const zt={apiKey:We,authDomain:yt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:we(y)},wn=new er(I,V,ee,zt);return function gs(y,h){const f=h?.persistence||[],I=(Array.isArray(f)?f:[f]).map(In);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(I,h?.popupRedirectResolver)}(wn,f),wn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,f,I)=>{h.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new Te.uA("auth-internal",h=>{const f=zn(h.getProvider("auth").getImmediate());return new Gf(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Ya,"1.7.9",function gh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,re.registerVersion)(Ya,"1.7.9","esm2017")}("Browser");function Du(){return Du=(0,a.A)(function*(y,h,f){var I;const{BuildInfo:V}=Rs();Bt(h.sessionId,"AuthEvent did not contain a session ID");const ee=yield function Xf(y){return bu.apply(this,arguments)}(h.sessionId),We={};return yi()?We.ibi=V.packageName:Xr()?We.apn=V.packageName:Ie(y,"operation-not-supported-in-this-environment"),V.displayName&&(We.appDisplayName=V.displayName),We.sessionId=ee,ph(y,f,h.type,void 0,null!==(I=h.eventId)&&void 0!==I?I:void 0,We)}),Du.apply(this,arguments)}function fd(){return(fd=(0,a.A)(function*(y){const{BuildInfo:h}=Rs(),f={};yi()?f.iosBundleId=h.packageName:Xr()?f.androidPackageName=h.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield sd(y,f)})).apply(this,arguments)}function qf(){return(qf=(0,a.A)(function*(y,h,f){const{cordova:I}=Rs();let V=()=>{};try{yield new Promise((ee,We)=>{let yt=null;function zt(){var Un;ee();const Hi=null===(Un=I.plugins.browsertab)||void 0===Un?void 0:Un.close;"function"==typeof Hi&&Hi(),"function"==typeof f?.close&&f.close()}function wn(){yt||(yt=window.setTimeout(()=>{We(ge(y,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&wn()}h.addPassiveListener(zt),document.addEventListener("resume",wn,!1),Xr()&&document.addEventListener("visibilitychange",On,!1),V=()=>{h.removePassiveListener(zt),document.removeEventListener("resume",wn,!1),document.removeEventListener("visibilitychange",On,!1),yt&&window.clearTimeout(yt)}})}finally{V()}})).apply(this,arguments)}function bu(){return(bu=(0,a.A)(function*(y){const h=function ua(y){if(Bt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),f=new Uint8Array(h);for(let I=0;I<y.length;I++)f[I]=y.charCodeAt(I);return f}(y),f=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(f)).map(V=>V.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ol extends Bc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(f=>f(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.A)(function*(){yield h.initPromise})()}}function Ic(y){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.A)(function*(y){const h=yield Au()._get(vd(y));return h&&(yield Au()._remove(vd(y))),h})).apply(this,arguments)}function md(){const y=[];for(let f=0;f<20;f++){const I=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(I))}return y.join("")}function Au(){return In(Us)}function vd(y){return cr("authEvent",y.config.apiKey,y.name)}function Za(y){if(!y?.includes("?"))return{};const[h,...f]=y.split("?");return(0,Q.I9)(f.join("?"))}const Po=class jg{constructor(){this._redirectPersistence=Xi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei,this._overrideRedirectResult=vu}_initialize(h){var f=this;return(0,a.A)(function*(){const I=h._key();let V=f.eventManagers.get(I);return V||(V=new Ol(h),f.eventManagers.set(I,V),f.attachCallbackListeners(h,V)),V})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,f,I,V){var ee=this;return(0,a.A)(function*(){!function gd(y){var h,f,I,V,ee,We,yt,zt,wn,On;const Un=Rs();Se("function"==typeof(null===(h=Un?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(f=Un?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(ee=null===(V=null===(I=Un?.cordova)||void 0===I?void 0:I.plugins)||void 0===V?void 0:V.browsertab)||void 0===ee?void 0:ee.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(zt=null===(yt=null===(We=Un?.cordova)||void 0===We?void 0:We.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===zt?void 0:zt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(On=null===(wn=Un?.cordova)||void 0===wn?void 0:wn.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const We=yield ee._initialize(h);yield We.initialized(),We.resetRedirect(),function $f(){As.clear()}(),yield ee._originValidation(h);const yt=function kl(y,h,f=null){return{type:h,eventId:f,urlResponse:null,sessionId:md(),postBody:null,tenantId:y.tenantId,error:ge(y,"no-auth-event")}}(h,I,V);yield function Fl(y,h){return Au()._set(vd(y),h)}(h,yt);const zt=yield function Na(y,h,f){return Du.apply(this,arguments)}(h,yt,f),wn=yield function pd(y){const{cordova:h}=Rs();return new Promise(f=>{h.plugins.browsertab.isAvailable(I=>{let V=null;I?h.plugins.browsertab.openUrl(y):V=h.InAppBrowser.open(y,function Ne(y=(0,Q.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),f(V)})})}(zt);return function wu(y,h,f){return qf.apply(this,arguments)}(h,We,wn)})()}_isIframeWebStorageSupported(h,f){throw new Error("Method not implemented.")}_originValidation(h){const f=h._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function _c(y){return fd.apply(this,arguments)}(h)),this.originValidationPromises[f]}attachCallbackListeners(h,f){const{universalLinks:I,handleOpenURL:V,BuildInfo:ee}=Rs(),We=setTimeout((0,a.A)(function*(){yield Ic(h),f.onEvent(Ih())}),500),yt=function(){var On=(0,a.A)(function*(Un){clearTimeout(We);const Hi=yield Ic(h);let co=null;Hi&&Un?.url&&(co=function yh(y,h){var f,I;const V=function yd(y){const h=Za(y),f=h.link?decodeURIComponent(h.link):void 0,I=Za(f).link,V=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Za(V).link||V||I||f||y}(h);if(V.includes("/__/auth/callback")){const ee=Za(V),We=ee.firebaseError?function _h(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,yt=null===(I=null===(f=We?.code)||void 0===f?void 0:f.split("auth/"))||void 0===I?void 0:I[1],zt=yt?ge(yt):null;return zt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:zt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:V,postBody:null}}return null}(Hi,Un.url)),f.onEvent(co||Ih())});return function(Hi){return On.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,yt);const zt=V,wn=`${ee.packageName.toLowerCase()}://`;Rs().handleOpenURL=function(){var On=(0,a.A)(function*(Un){if(Un.toLowerCase().startsWith(wn)&&yt({url:Un}),"function"==typeof zt)try{zt(Un)}catch(Hi){console.error(Hi)}});return function(Un){return On.apply(this,arguments)}}()}};function Ih(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Kc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Yf(y=(0,Q.ZQ)()){return!("file:"!==Kc()&&"ionic:"!==Kc()&&"capacitor:"!==Kc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ll(){try{const y=self.localStorage,h=jn();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Vl(y=(0,Q.ZQ)()){return function _d(){return(0,Q.lT)()&&11===document?.documentMode}()||function Hg(y=(0,Q.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,Q.zW)()}catch{return da()&&(0,Q.zW)()}return!1}function da(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ul(){return(function Ch(){return"http:"===Kc()||"https:"===Kc()}()||(0,Q.sr)()||Yf())&&!function Zf(){return(0,Q.lV)()||(0,Q.Ll)()}()&&Ll()&&!da()}function Su(){return Yf()&&typeof document<"u"}function Ru(){return(Ru=(0,a.A)(function*(){return!!Su()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Zo={LOCAL:"local",NONE:"none",SESSION:"session"},Ec=Se,ec="persistence";function ep(y){return $l.apply(this,arguments)}function $l(){return($l=(0,a.A)(function*(y){yield y._initializationPromise;const h=_o(),f=cr(ec,y.config.apiKey,y.name);h&&h.setItem(f,y._getPersistence())})).apply(this,arguments)}function _o(){var y;try{return(null===(y=function Th(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Kv=Se;class Oa{constructor(){this.browserResolver=In(Cu),this.cordovaResolver=In(Po),this.underlyingResolver=null,this._redirectPersistence=Xi,this._completeRedirectFn=ei,this._overrideRedirectResult=vu}_initialize(h){var f=this;return(0,a.A)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,f,I,V){var ee=this;return(0,a.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(h,f,I,V)})()}_openRedirect(h,f,I,V){var ee=this;return(0,a.A)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(h,f,I,V)})()}_isIframeWebStorageSupported(h,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,f)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Su()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.A)(function*(){if(h.underlyingResolver)return;const f=yield function Bl(){return Ru.apply(this,arguments)}();h.underlyingResolver=f?h.cordovaResolver:h.browserResolver})()}}function zg(y){return y.unwrap()}function Dh(y){return Ed(y)}function Ed(y){const{_tokenResponse:h}=y instanceof Q.g?y.customData:y;if(!h)return null;if(!(y instanceof Q.g)&&"temporaryProof"in h&&"phoneNumber"in h)return ca.credentialFromResult(y);const f=h.providerId;if(!f||f===He.PASSWORD)return null;let I;switch(f){case He.GOOGLE:I=xr;break;case He.FACEBOOK:I=Zr;break;case He.GITHUB:I=Ar;break;case He.TWITTER:I=po;break;default:const{oauthIdToken:V,oauthAccessToken:ee,oauthTokenSecret:We,pendingToken:yt,nonce:zt}=h;return ee||We||V||yt?yt?f.startsWith("saml.")?Qo._create(f,yt):Nn._fromParams({providerId:f,signInMethod:f,pendingToken:yt,idToken:V,accessToken:ee}):new Xo(f).credential({idToken:V,accessToken:ee,rawNonce:zt}):null}return y instanceof Q.g?I.credentialFromError(y):I.credentialFromResult(y)}function ji(y,h){return h.catch(f=>{throw f instanceof Q.g&&function Mu(y,h){var f;const I=null===(f=h.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new qc(y,function Jr(y,h){var f;const I=(0,Q.Ku)(y),V=h;return Se(h.customData.operationType,I,"argument-error"),Se(null===(f=V.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,I,"argument-error"),Si._fromError(I,V)}(y,h));else if(I){const V=Ed(h),ee=h;V&&(ee.credential=V,ee.tenantId=I.tenantId||void 0,ee.email=I.email||void 0,ee.phoneNumber=I.phoneNumber||void 0)}}(y,f),f}).then(f=>{const V=f.user;return{operationType:f.operationType,credential:Dh(f),additionalUserInfo:x(f),user:tc.getOrCreate(V)}})}function Pu(y,h){return wh.apply(this,arguments)}function wh(){return(wh=(0,a.A)(function*(y,h){const f=yield h;return{verificationId:f.verificationId,confirm:I=>ji(y,f.confirm(I))}})).apply(this,arguments)}class qc{constructor(h,f){this.resolver=f,this.auth=function Id(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ji(zg(this.auth),this.resolver.resolveSignIn(h))}}class tc{constructor(h){this._delegate=h,this.multiFactor=function gl(y){const h=(0,Q.Ku)(y);return Ls.has(h)||Ls.set(h,Tn._fromUser(h)),Ls.get(h)}(h)}static getOrCreate(h){return tc.USER_MAP.has(h)||tc.USER_MAP.set(h,new tc(h)),tc.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var f=this;return(0,a.A)(function*(){return ji(f.auth,ne(f._delegate,h))})()}linkWithPhoneNumber(h,f){var I=this;return(0,a.A)(function*(){return Pu(I.auth,function Ng(y,h,f){return Il.apply(this,arguments)}(I._delegate,h,f))})()}linkWithPopup(h){var f=this;return(0,a.A)(function*(){return ji(f.auth,function td(y,h,f){return mu.apply(this,arguments)}(f._delegate,h,Oa))})()}linkWithRedirect(h){var f=this;return(0,a.A)(function*(){return yield ep(zn(f.auth)),kg(f._delegate,h,Oa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var f=this;return(0,a.A)(function*(){return ji(f.auth,Fn(f._delegate,h))})()}reauthenticateWithPhoneNumber(h,f){return Pu(this.auth,function Zu(y,h,f){return bo.apply(this,arguments)}(this._delegate,h,f))}reauthenticateWithPopup(h){return ji(this.auth,function Bf(y,h,f){return gu.apply(this,arguments)}(this._delegate,h,Oa))}reauthenticateWithRedirect(h){var f=this;return(0,a.A)(function*(){return yield ep(zn(f.auth)),Og(f._delegate,h,Oa)})()}sendEmailVerification(h){return function Nc(y,h){return go.apply(this,arguments)}(this._delegate,h)}unlink(h){var f=this;return(0,a.A)(function*(){return yield function Ea(y,h){return Ca.apply(this,arguments)}(f._delegate,h),f})()}updateEmail(h){return function Da(y,h){const f=(0,Q.Ku)(y);return(0,re._isFirebaseServerApp)(f.auth.app)?Promise.reject(it(f.auth)):ra(f,h,null)}(this._delegate,h)}updatePassword(h){return function na(y,h){return ra((0,Q.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function jr(y,h){return El.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function fl(y,h){return Cs.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,f){return function Es(y,h,f){return Ta.apply(this,arguments)}(this._delegate,h,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}tc.USER_MAP=new WeakMap;const jl=Se;let ha=(()=>{class y{constructor(f,I){if(this.app=f,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:V}=f.options;jl(V,"invalid-api-key",{appName:f.name}),jl(V,"invalid-api-key",{appName:f.name});const ee=typeof window<"u"?Oa:void 0;this._delegate=I.initialize({options:{persistence:np(V,f.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(Me),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?tc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,I){!function qo(y,h,f){const I=zn(y);Se(I._canInitEmulator,I,"emulator-config-failed"),Se(/^https?:\/\//.test(h),I,"invalid-emulator-scheme");const V=!!f?.disableWarnings,ee=os(h),{host:We,port:yt}=function Ua(y){const h=os(y),f=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!f)return{host:"",port:null};const I=f[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(I);if(V){const ee=V[1];return{host:ee,port:ss(I.substr(ee.length+1))}}{const[ee,We]=I.split(":");return{host:ee,port:ss(We)}}}(h);I.config.emulator={url:`${ee}//${We}${null===yt?"":`:${yt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:We,port:yt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function Yr(){function y(){const h=document.createElement("p"),f=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,f,I)}applyActionCode(f){return function Pc(y,h){return so.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return Fs(this._delegate,f)}confirmPasswordReset(f,I){return function ks(y,h,f){return Js.apply(this,arguments)}(this._delegate,f,I)}createUserWithEmailAndPassword(f,I){var V=this;return(0,a.A)(function*(){return ji(V._delegate,function ea(y,h,f){return cc.apply(this,arguments)}(V._delegate,f,I))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function hl(y,h){return gr.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function dl(y,h){const f=ys.parseLink(h);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,a.A)(function*(){jl(Ul(),f._delegate,"operation-not-supported-in-this-environment");const I=yield function Al(y,h){return qa.apply(this,arguments)}(f._delegate,Oa);return I?ji(f._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function Wc(y,h){zn(y)._logFramework(h)}(this._delegate,f)}onAuthStateChanged(f,I,V){const{next:ee,error:We,complete:yt}=Xc(f,I,V);return this._delegate.onAuthStateChanged(ee,We,yt)}onIdTokenChanged(f,I,V){const{next:ee,error:We,complete:yt}=Xc(f,I,V);return this._delegate.onIdTokenChanged(ee,We,yt)}sendSignInLinkToEmail(f,I){return function xc(y,h,f){return Is.apply(this,arguments)}(this._delegate,f,I)}sendPasswordResetEmail(f,I){return function ja(y,h,f){return Os.apply(this,arguments)}(this._delegate,f,I||void 0)}setPersistence(f){var I=this;return(0,a.A)(function*(){let V;switch(function Jf(y,h){Ec(Object.values(Zo).includes(h),y,"invalid-persistence-type"),(0,Q.lV)()?Ec(h!==Zo.SESSION,y,"unsupported-persistence-type"):(0,Q.Ll)()?Ec(h===Zo.NONE,y,"unsupported-persistence-type"):da()?Ec(h===Zo.NONE||h===Zo.LOCAL&&(0,Q.zW)(),y,"unsupported-persistence-type"):Ec(h===Zo.NONE||Ll(),y,"unsupported-persistence-type")}(I._delegate,f),f){case Zo.SESSION:V=Xi;break;case Zo.LOCAL:V=(yield In(Fc)._isAvailable())?Fc:Us;break;case Zo.NONE:V=lt;break;default:return Ie("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(V)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ji(this._delegate,function oc(y){return cs.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ji(this._delegate,j(this._delegate,f))}signInWithCustomToken(f){return ji(this._delegate,function si(y,h){return Ns.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,I){return ji(this._delegate,function Ro(y,h,f){return(0,re._isFirebaseServerApp)(y.app)?Promise.reject(it(y)):j((0,Q.Ku)(y),Qs.credential(h,f)).catch(function(){var I=(0,a.A)(function*(V){throw"auth/password-does-not-meet-requirements"===V.code&&gi(y),V});return function(V){return I.apply(this,arguments)}}())}(this._delegate,f,I))}signInWithEmailLink(f,I){return ji(this._delegate,function no(y,h,f){return lc.apply(this,arguments)}(this._delegate,f,I))}signInWithPhoneNumber(f,I){return Pu(this._delegate,function $s(y,h,f){return Sa.apply(this,arguments)}(this._delegate,f,I))}signInWithPopup(f){var I=this;return(0,a.A)(function*(){return jl(Ul(),I._delegate,"operation-not-supported-in-this-environment"),ji(I._delegate,function js(y,h,f){return Ma.apply(this,arguments)}(I._delegate,f,Oa))})()}signInWithRedirect(f){var I=this;return(0,a.A)(function*(){return jl(Ul(),I._delegate,"operation-not-supported-in-this-environment"),yield ep(I._delegate),id(I._delegate,f,Oa)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function ul(y,h){return za.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zo,y})();function Xc(y,h,f){let I=y;"function"!=typeof y&&({next:I,error:h,complete:f}=y);const V=I;return{next:We=>V(We&&tc.getOrCreate(We)),error:h,complete:f}}function np(y,h){const f=function tp(y,h){const f=_o();if(!f)return[];const I=cr(ec,y,h);switch(f.getItem(I)){case Zo.NONE:return[lt];case Zo.LOCAL:return[Fc,Xi];case Zo.SESSION:return[Xi];default:return[]}}(y,h);if(typeof self<"u"&&!f.includes(Fc)&&f.push(Fc),typeof window<"u")for(const I of[Us,Xi])f.includes(I)||f.push(I);return f.includes(lt)||f.push(lt),f}class Hl{constructor(){this.providerId="phone",this._delegate=new ca(zg(L.A.auth()))}static credential(h,f){return ca.credential(h,f)}verifyPhoneNumber(h,f){return this._delegate.verifyPhoneNumber(h,f)}unwrap(){return this._delegate}}Hl.PHONE_SIGN_IN_METHOD=ca.PHONE_SIGN_IN_METHOD,Hl.PROVIDER_ID=ca.PROVIDER_ID;const qv=Se;class xu{constructor(h,f,I=L.A.app()){var V;qv(null===(V=I.options)||void 0===V?void 0:V.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new Bs(I.auth(),h,f),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bh(y){y.INTERNAL.registerComponent(new Te.uA("auth-compat",h=>{const f=h.getProvider("app-compat").getImmediate(),I=h.getProvider("auth");return new ha(f,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Qs,FacebookAuthProvider:Zr,GithubAuthProvider:Ar,GoogleAuthProvider:xr,OAuthProvider:Xo,SAMLAuthProvider:to,PhoneAuthProvider:Hl,PhoneMultiFactorGenerator:Ml,RecaptchaVerifier:xu,TwitterAuthProvider:po,Auth:ha,AuthCredential:sr,Error:Q.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(L.A)},4341:(fn,ft,N)=>{"use strict";N.d(ft,{YN:()=>$a,zX:()=>eo,VZ:()=>Xo,cz:()=>it,kq:()=>nt,vO:()=>Rt,BC:()=>vn,cb:()=>gn,cV:()=>tr,vS:()=>ho,YS:()=>Ar,qT:()=>Zi});var a=N(4438),L=N(177),re=N(8455),Q=N(1985),be=N(3073),ce=N(8750),Te=N(3794),Ue=N(4360),He=N(6450),ye=N(8496),ke=N(1413),Be=N(6354);let Le=(()=>{class z{constructor(R,ne){this._renderer=R,this._elementRef=ne,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty(R,ne){this._renderer.setProperty(this._elementRef.nativeElement,R,ne)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(a.sFG),a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:z})}}return z})(),Me=(()=>{class z extends Le{static{this.\u0275fac=(()=>{let R;return function(Xe){return(R||(R=a.xGo(z)))(Xe||z)}})()}static{this.\u0275dir=a.FsC({type:z,features:[a.Vt3]})}}return z})();const nt=new a.nKC(""),_t={provide:nt,useExisting:(0,a.Rfq)(()=>Ie),multi:!0},ct=new a.nKC("");let Ie=(()=>{class z extends Le{constructor(R,ne,Xe){super(R,ne),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dt(){const z=(0,L.QT)()?(0,L.QT)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(ct,8))}}static{this.\u0275dir=a.FsC({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ne,Xe){1&ne&&a.bIt("input",function(ir){return Xe._handleInput(ir.target.value)})("blur",function(){return Xe.onTouched()})("compositionstart",function(){return Xe._compositionStart()})("compositionend",function(ir){return Xe._compositionEnd(ir.target.value)})},features:[a.Jv_([_t]),a.Vt3]})}}return z})();function ge(z){return null==z||("string"==typeof z||Array.isArray(z))&&0===z.length}const it=new a.nKC(""),$e=new a.nKC("");function pn(z){return ge(z.value)?{required:!0}:null}function _e(z){return null}function Z(z){return null!=z}function pe(z){return(0,a.jNT)(z)?(0,re.H)(z):z}function Ye(z){let j={};return z.forEach(R=>{j=null!=R?{...j,...R}:j}),0===Object.keys(j).length?null:j}function le(z,j){return j.map(R=>R(z))}function Ee(z){return z.map(j=>function qe(z){return!z.validate}(j)?j:R=>j.validate(R))}function $t(z){return null!=z?function Nt(z){if(!z)return null;const j=z.filter(Z);return 0==j.length?null:function(R){return Ye(le(R,j))}}(Ee(z)):null}function Ut(z){return null!=z?function gt(z){if(!z)return null;const j=z.filter(Z);return 0==j.length?null:function(R){return function oe(...z){const j=(0,Te.ms)(z),{args:R,keys:ne}=(0,be.D)(z),Xe=new Q.c(Fn=>{const{length:ir}=R;if(!ir)return void Fn.complete();const qi=new Array(ir);let Li=ir,si=ir;for(let Ns=0;Ns<ir;Ns++){let To=!1;(0,ce.Tg)(R[Ns]).subscribe((0,Ue._)(Fn,vr=>{To||(To=!0,si--),qi[Ns]=vr},()=>Li--,void 0,()=>{(!Li||!To)&&(si||Fn.next(ne?(0,ye.e)(ne,qi):qi),Fn.complete())}))}});return j?Xe.pipe((0,He.I)(j)):Xe}(le(R,j).map(pe)).pipe((0,Be.T)(Ye))}}(Ee(z)):null}function un(z,j){return null===z?[j]:Array.isArray(z)?[...z,j]:[z,j]}function Ot(z){return z?Array.isArray(z)?z:[z]:[]}function Ln(z,j){return Array.isArray(z)?z.includes(j):z===j}function Ft(z,j){const R=Ot(j);return Ot(z).forEach(Xe=>{Ln(R,Xe)||R.push(Xe)}),R}function ht(z,j){return Ot(j).filter(R=>!Ln(z,R))}class de{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=$t(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=Ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,R){return!!this.control&&this.control.hasError(j,R)}getError(j,R){return this.control?this.control.getError(j,R):null}}class ut extends de{get formDirective(){return null}get path(){return null}}class Rt extends de{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sn{constructor(j){this._cd=j}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let vn=(()=>{class z extends sn{constructor(R){super(R)}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(Rt,2))}}static{this.\u0275dir=a.FsC({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ne,Xe){2&ne&&a.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)},features:[a.Vt3]})}}return z})(),gn=(()=>{class z extends sn{constructor(R){super(R)}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(ut,10))}}static{this.\u0275dir=a.FsC({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ne,Xe){2&ne&&a.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)("ng-submitted",Xe.isSubmitted)},features:[a.Vt3]})}}return z})();const Fe="VALID",rt="INVALID",qt="PENDING",dn="DISABLED";class Ae{}class De extends Ae{constructor(j,R){super(),this.value=j,this.source=R}}class ze extends Ae{constructor(j,R){super(),this.pristine=j,this.source=R}}class Mt extends Ae{constructor(j,R){super(),this.touched=j,this.source=R}}class mt extends Ae{constructor(j,R){super(),this.status=j,this.source=R}}function wr(z){return(nn(z)?z.validators:z)||null}function cr(z,j){return(nn(j)?j.asyncValidators:z)||null}function nn(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class Wr{constructor(j,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,a.EWP)(()=>this.statusReactive()),this.statusReactive=(0,a.vPA)(void 0),this._pristine=(0,a.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,a.vPA)(!0),this._touched=(0,a.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,a.vPA)(!1),this._events=new ke.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(j),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get status(){return(0,a.O8t)(this.statusReactive)}set status(j){(0,a.O8t)(()=>this.statusReactive.set(j))}get valid(){return this.status===Fe}get invalid(){return this.status===rt}get pending(){return this.status==qt}get disabled(){return this.status===dn}get enabled(){return this.status!==dn}get pristine(){return(0,a.O8t)(this.pristineReactive)}set pristine(j){(0,a.O8t)(()=>this.pristineReactive.set(j))}get dirty(){return!this.pristine}get touched(){return(0,a.O8t)(this.touchedReactive)}set touched(j){(0,a.O8t)(()=>this.touchedReactive.set(j))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._assignValidators(j)}setAsyncValidators(j){this._assignAsyncValidators(j)}addValidators(j){this.setValidators(Ft(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Ft(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(ht(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(ht(j,this._rawAsyncValidators))}hasValidator(j){return Ln(this._rawValidators,j)}hasAsyncValidator(j){return Ln(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){const R=!1===this.touched;this.touched=!0;const ne=j.sourceControl??this;this._parent&&!j.onlySelf&&this._parent.markAsTouched({...j,sourceControl:ne}),R&&!1!==j.emitEvent&&this._events.next(new Mt(!0,ne))}markAllAsTouched(j={}){this.markAsTouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:this}),this._forEachChild(R=>R.markAllAsTouched(j))}markAsUntouched(j={}){const R=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ne=j.sourceControl??this;this._forEachChild(Xe=>{Xe.markAsUntouched({onlySelf:!0,emitEvent:j.emitEvent,sourceControl:ne})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,ne),R&&!1!==j.emitEvent&&this._events.next(new Mt(!1,ne))}markAsDirty(j={}){const R=!0===this.pristine;this.pristine=!1;const ne=j.sourceControl??this;this._parent&&!j.onlySelf&&this._parent.markAsDirty({...j,sourceControl:ne}),R&&!1!==j.emitEvent&&this._events.next(new ze(!1,ne))}markAsPristine(j={}){const R=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ne=j.sourceControl??this;this._forEachChild(Xe=>{Xe.markAsPristine({onlySelf:!0,emitEvent:j.emitEvent})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j,ne),R&&!1!==j.emitEvent&&this._events.next(new ze(!0,ne))}markAsPending(j={}){this.status=qt;const R=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new mt(this.status,R)),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.markAsPending({...j,sourceControl:R})}disable(j={}){const R=this._parentMarkedDirty(j.onlySelf);this.status=dn,this.errors=null,this._forEachChild(Xe=>{Xe.disable({...j,onlySelf:!0})}),this._updateValue();const ne=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new De(this.value,ne)),this._events.next(new mt(this.status,ne)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:R},this),this._onDisabledChange.forEach(Xe=>Xe(!0))}enable(j={}){const R=this._parentMarkedDirty(j.onlySelf);this.status=Fe,this._forEachChild(ne=>{ne.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:R},this),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(j,R){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine({},R),this._parent._updateTouched({},R))}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const ne=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fe||this.status===qt)&&this._runAsyncValidator(ne,j.emitEvent)}const R=j.sourceControl??this;!1!==j.emitEvent&&(this._events.next(new De(this.value,R)),this._events.next(new mt(this.status,R)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity({...j,sourceControl:R})}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dn:Fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j,R){if(this.asyncValidator){this.status=qt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==R};const ne=pe(this.asyncValidator(this));this._asyncValidationSubscription=ne.subscribe(Xe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Xe,{emitEvent:R,shouldHaveEmitted:j})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const j=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,j}return!1}setErrors(j,R={}){this.errors=j,this._updateControlsErrors(!1!==R.emitEvent,this,R.shouldHaveEmitted)}get(j){let R=j;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((ne,Xe)=>ne&&ne._find(Xe),this)}getError(j,R){const ne=R?this.get(R):this;return ne&&ne.errors?ne.errors[j]:null}hasError(j,R){return!!this.getError(j,R)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j,R,ne){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),(j||ne)&&this._events.next(new mt(this.status,R)),this._parent&&this._parent._updateControlsErrors(j,R,ne)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?dn:this.errors?rt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qt)?qt:this._anyControlsHaveStatus(rt)?rt:Fe}_anyControlsHaveStatus(j){return this._anyControls(R=>R.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j,R){const ne=!this._anyControlsDirty(),Xe=this.pristine!==ne;this.pristine=ne,this._parent&&!j.onlySelf&&this._parent._updatePristine(j,R),Xe&&this._events.next(new ze(this.pristine,R))}_updateTouched(j={},R){this.touched=this._anyControlsTouched(),this._events.next(new Mt(this.touched,R)),this._parent&&!j.onlySelf&&this._parent._updateTouched(j,R)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){nn(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}_assignValidators(j){this._rawValidators=Array.isArray(j)?j.slice():j,this._composedValidatorFn=function lt(z){return Array.isArray(z)?$t(z):z||null}(this._rawValidators)}_assignAsyncValidators(j){this._rawAsyncValidators=Array.isArray(j)?j.slice():j,this._composedAsyncValidatorFn=function $n(z){return Array.isArray(z)?Ut(z):z||null}(this._rawAsyncValidators)}}class Wi extends Wr{constructor(j,R,ne){super(wr(R),cr(ne,R)),this.controls=j,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,R){return this.controls[j]?this.controls[j]:(this.controls[j]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(j,R,ne={}){this.registerControl(j,R),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(j,R={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(j,R,ne={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],R&&this.registerControl(j,R),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,R={}){(function oi(z,j,R){z._forEachChild((ne,Xe)=>{if(void 0===R[Xe])throw new a.wOt(1002,"")})})(this,0,j),Object.keys(j).forEach(ne=>{(function kr(z,j,R){const ne=z.controls;if(!(j?Object.keys(ne):ne).length)throw new a.wOt(1e3,"");if(!ne[R])throw new a.wOt(1001,"")})(this,!0,ne),this.controls[ne].setValue(j[ne],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(j,R={}){null!=j&&(Object.keys(j).forEach(ne=>{const Xe=this.controls[ne];Xe&&Xe.patchValue(j[ne],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(j={},R={}){this._forEachChild((ne,Xe)=>{ne.reset(j?j[Xe]:null,{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R,this),this._updateTouched(R,this),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(j,R,ne)=>(j[ne]=R.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(R,ne)=>!!ne._syncPendingControls()||R);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(R=>{const ne=this.controls[R];ne&&j(ne,R)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[R,ne]of Object.entries(this.controls))if(this.contains(R)&&j(ne))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,ne,Xe)=>((ne.enabled||this.disabled)&&(R[Xe]=ne.value),R))}_reduceChildren(j,R){let ne=j;return this._forEachChild((Xe,Fn)=>{ne=R(ne,Xe,Fn)}),ne}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}const J=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>O}),O="always";function we(z,j,R=O){ln(z,j),j.valueAccessor.writeValue(z.value),(z.disabled||"always"===R)&&j.valueAccessor.setDisabledState?.(z.disabled),function er(z,j){j.valueAccessor.registerOnChange(R=>{z._pendingValue=R,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&wi(z,j)})}(z,j),function Qr(z,j){const R=(ne,Xe)=>{j.valueAccessor.writeValue(ne),Xe&&j.viewToModelUpdate(ne)};z.registerOnChange(R),j._registerOnDestroy(()=>{z._unregisterOnChange(R)})}(z,j),function zn(z,j){j.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&wi(z,j),"submit"!==z.updateOn&&z.markAsTouched()})}(z,j),function bt(z,j){if(j.valueAccessor.setDisabledState){const R=ne=>{j.valueAccessor.setDisabledState(ne)};z.registerOnDisabledChange(R),j._registerOnDestroy(()=>{z._unregisterOnDisabledChange(R)})}}(z,j)}function Je(z,j){z.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(j)})}function ln(z,j){const R=function xn(z){return z._rawValidators}(z);null!==j.validator?z.setValidators(un(R,j.validator)):"function"==typeof R&&z.setValidators([R]);const ne=function Xt(z){return z._rawAsyncValidators}(z);null!==j.asyncValidator?z.setAsyncValidators(un(ne,j.asyncValidator)):"function"==typeof ne&&z.setAsyncValidators([ne]);const Xe=()=>z.updateValueAndValidity();Je(j._rawValidators,Xe),Je(j._rawAsyncValidators,Xe)}function wi(z,j){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}const is={provide:ut,useExisting:(0,a.Rfq)(()=>tr)},qn=Promise.resolve();let tr=(()=>{class z extends ut{get submitted(){return(0,a.O8t)(this.submittedReactive)}constructor(R,ne,Xe){super(),this.callSetDisabledState=Xe,this._submitted=(0,a.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,a.vPA)(!1),this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new Wi({},$t(R),Ut(ne))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){qn.then(()=>{const ne=this._findContainer(R.path);R.control=ne.registerControl(R.name,R.control),we(R.control,R,this.callSetDisabledState),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){qn.then(()=>{const ne=this._findContainer(R.path);ne&&ne.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){qn.then(()=>{const ne=this._findContainer(R.path),Xe=new Wi({});(function hr(z,j){ln(z,j)})(Xe,R),ne.registerControl(R.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){qn.then(()=>{const ne=this._findContainer(R.path);ne&&ne.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,ne){qn.then(()=>{this.form.get(R.path).setValue(ne)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submittedReactive.set(!0),function Lo(z,j){z._syncPendingControls(),j.forEach(R=>{const ne=R.control;"submit"===ne.updateOn&&ne._pendingChange&&(R.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(it,10),a.rXU($e,10),a.rXU(J,8))}}static{this.\u0275dir=a.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(ne,Xe){1&ne&&a.bIt("submit",function(ir){return Xe.onSubmit(ir)})("reset",function(){return Xe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([is]),a.Vt3]})}}return z})();function gs(z,j){const R=z.indexOf(j);R>-1&&z.splice(R,1)}function qo(z){return"object"==typeof z&&null!==z&&2===Object.keys(z).length&&"value"in z&&"disabled"in z}const os=class extends Wr{constructor(j=null,R,ne){super(wr(R),cr(ne,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nn(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=qo(j)?j.value:j)}setValue(j,R={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(j,R={}){this.setValue(j,R)}reset(j=this.defaultValue,R={}){this._applyFormState(j),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){gs(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){gs(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){qo(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}},di={provide:Rt,useExisting:(0,a.Rfq)(()=>ho)},br=Promise.resolve();let ho=(()=>{class z extends Rt{constructor(R,ne,Xe,Fn,ir,qi){super(),this._changeDetectorRef=ir,this.callSetDisabledState=qi,this.control=new os,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=R,this._setValidators(ne),this._setAsyncValidators(Xe),this.valueAccessor=function Io(z,j){if(!j)return null;let R,ne,Xe;return Array.isArray(j),j.forEach(Fn=>{Fn.constructor===Ie?R=Fn:function Ko(z){return Object.getPrototypeOf(z.constructor)===Me}(Fn)?ne=Fn:Xe=Fn}),Xe||ne||R||null}(0,Fn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const ne=R.name.previousValue;this.formDirective.removeControl({name:ne,path:this._getPath(ne)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),function _i(z,j){if(!z.hasOwnProperty("model"))return!1;const R=z.model;return!!R.isFirstChange()||!Object.is(j,R.currentValue)}(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){we(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){br.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const ne=R.isDisabled.currentValue,Xe=0!==ne&&(0,a.L39)(ne);br.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?function q(z,j){return[...j.path,z]}(R,this._parent):[R]}static{this.\u0275fac=function(ne){return new(ne||z)(a.rXU(ut,9),a.rXU(it,10),a.rXU($e,10),a.rXU(nt,10),a.rXU(a.gRc,8),a.rXU(J,8))}}static{this.\u0275dir=a.FsC({type:z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([di]),a.Vt3,a.OA$]})}}return z})(),Zi=(()=>{class z{static{this.\u0275fac=function(ne){return new(ne||z)}}static{this.\u0275dir=a.FsC({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return z})();function ys(z){return"number"==typeof z?z:parseFloat(z)}let fi=(()=>{class z{constructor(){this._validator=_e}ngOnChanges(R){if(this.inputName in R){const ne=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(ne),this._validator=this._enabled?this.createValidator(ne):_e,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}static{this.\u0275fac=function(ne){return new(ne||z)}}static{this.\u0275dir=a.FsC({type:z,features:[a.OA$]})}}return z})();const Qs={provide:it,useExisting:(0,a.Rfq)(()=>eo),multi:!0};let eo=(()=>{class z extends fi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=R=>ys(R),this.createValidator=R=>function Bt(z){return j=>{if(ge(j.value)||ge(z))return null;const R=parseFloat(j.value);return!isNaN(R)&&R>z?{max:{max:z,actual:j.value}}:null}}(R)}static{this.\u0275fac=(()=>{let R;return function(Xe){return(R||(R=a.xGo(z)))(Xe||z)}})()}static{this.\u0275dir=a.FsC({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&a.BMQ("max",Xe._enabled?Xe.max:null)},inputs:{max:"max"},features:[a.Jv_([Qs]),a.Vt3]})}}return z})();const _s={provide:it,useExisting:(0,a.Rfq)(()=>Xo),multi:!0};let Xo=(()=>{class z extends fi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=R=>ys(R),this.createValidator=R=>function Vt(z){return j=>{if(ge(j.value)||ge(z))return null;const R=parseFloat(j.value);return!isNaN(R)&&R<z?{min:{min:z,actual:j.value}}:null}}(R)}static{this.\u0275fac=(()=>{let R;return function(Xe){return(R||(R=a.xGo(z)))(Xe||z)}})()}static{this.\u0275dir=a.FsC({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&a.BMQ("min",Xe._enabled?Xe.min:null)},inputs:{min:"min"},features:[a.Jv_([_s]),a.Vt3]})}}return z})();const Zr={provide:it,useExisting:(0,a.Rfq)(()=>Ar),multi:!0};let Ar=(()=>{class z extends fi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=R=>pn}enabled(R){return R}static{this.\u0275fac=(()=>{let R;return function(Xe){return(R||(R=a.xGo(z)))(Xe||z)}})()}static{this.\u0275dir=a.FsC({type:z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(ne,Xe){2&ne&&a.BMQ("required",Xe._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([Zr]),a.Vt3]})}}return z})(),Zs=(()=>{class z{static{this.\u0275fac=function(ne){return new(ne||z)}}static{this.\u0275mod=a.$C({type:z})}static{this.\u0275inj=a.G2t({})}}return z})(),$a=(()=>{class z{static withConfig(R){return{ngModule:z,providers:[{provide:J,useValue:R.callSetDisabledState??O}]}}static{this.\u0275fac=function(ne){return new(ne||z)}}static{this.\u0275mod=a.$C({type:z})}static{this.\u0275inj=a.G2t({imports:[Zs]})}}return z})()},345:(fn,ft,N)=>{"use strict";N.d(ft,{Bb:()=>Xt,hE:()=>Ft,sG:()=>gt});var a=N(177),L=N(4438);class re extends a.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends re{static makeCurrent(){(0,a.ZD)(new Q)}onAndCancel(et,Fe,rt){return et.addEventListener(Fe,rt),()=>{et.removeEventListener(Fe,rt)}}dispatchEvent(et,Fe){et.dispatchEvent(Fe)}remove(et){et.remove()}createElement(et,Fe){return(Fe=Fe||this.getDefaultDocument()).createElement(et)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(et){return et.nodeType===Node.ELEMENT_NODE}isShadowRoot(et){return et instanceof DocumentFragment}getGlobalEventTarget(et,Fe){return"window"===Fe?window:"document"===Fe?et:"body"===Fe?et.body:null}getBaseHref(et){const Fe=function ce(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==Fe?null:function Te(St){return new URL(St,document.baseURI).pathname}(Fe)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(et){return(0,a._b)(document.cookie,et)}}let be=null,He=(()=>{class St{build(){return new XMLHttpRequest}static{this.\u0275fac=function(rt){return new(rt||St)}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();const ye=new L.nKC("");let oe=(()=>{class St{constructor(Fe,rt){this._zone=rt,this._eventNameToPlugin=new Map,Fe.forEach(qt=>{qt.manager=this}),this._plugins=Fe.slice().reverse()}addEventListener(Fe,rt,qt){return this._findPluginFor(rt).addEventListener(Fe,rt,qt)}getZone(){return this._zone}_findPluginFor(Fe){let rt=this._eventNameToPlugin.get(Fe);if(rt)return rt;if(rt=this._plugins.find(dn=>dn.supports(Fe)),!rt)throw new L.wOt(5101,!1);return this._eventNameToPlugin.set(Fe,rt),rt}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(ye),L.KVO(L.SKi))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();class ke{constructor(et){this._doc=et}}const Be="ng-app-id";let Le=(()=>{class St{constructor(Fe,rt,qt,dn={}){this.doc=Fe,this.appId=rt,this.nonce=qt,this.platformId=dn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,a.Vy)(dn),this.resetHostNodes()}addStyles(Fe){for(const rt of Fe)1===this.changeUsageCount(rt,1)&&this.onStyleAdded(rt)}removeStyles(Fe){for(const rt of Fe)this.changeUsageCount(rt,-1)<=0&&this.onStyleRemoved(rt)}ngOnDestroy(){const Fe=this.styleNodesInDOM;Fe&&(Fe.forEach(rt=>rt.remove()),Fe.clear());for(const rt of this.getAllStyles())this.onStyleRemoved(rt);this.resetHostNodes()}addHost(Fe){this.hostNodes.add(Fe);for(const rt of this.getAllStyles())this.addStyleToHost(Fe,rt)}removeHost(Fe){this.hostNodes.delete(Fe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Fe){for(const rt of this.hostNodes)this.addStyleToHost(rt,Fe)}onStyleRemoved(Fe){const rt=this.styleRef;rt.get(Fe)?.elements?.forEach(qt=>qt.remove()),rt.delete(Fe)}collectServerRenderedStyles(){const Fe=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(Fe?.length){const rt=new Map;return Fe.forEach(qt=>{null!=qt.textContent&&rt.set(qt.textContent,qt)}),rt}return null}changeUsageCount(Fe,rt){const qt=this.styleRef;if(qt.has(Fe)){const dn=qt.get(Fe);return dn.usage+=rt,dn.usage}return qt.set(Fe,{usage:rt,elements:[]}),rt}getStyleElement(Fe,rt){const qt=this.styleNodesInDOM,dn=qt?.get(rt);if(dn?.parentNode===Fe)return qt.delete(rt),dn.removeAttribute(Be),dn;{const Ae=this.doc.createElement("style");return this.nonce&&Ae.setAttribute("nonce",this.nonce),Ae.textContent=rt,this.platformIsServer&&Ae.setAttribute(Be,this.appId),Fe.appendChild(Ae),Ae}}addStyleToHost(Fe,rt){const qt=this.getStyleElement(Fe,rt),dn=this.styleRef,Ae=dn.get(rt)?.elements;Ae?Ae.push(qt):dn.set(rt,{elements:[qt],usage:1})}resetHostNodes(){const Fe=this.hostNodes;Fe.clear(),Fe.add(this.doc.head)}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(a.qQ),L.KVO(L.sZ2),L.KVO(L.BIS,8),L.KVO(L.Agw))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();const Me={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nt=/%COMP%/g,ct=new L.nKC("",{providedIn:"root",factory:()=>!0});function Ge(St,et){return et.map(Fe=>Fe.replace(nt,St))}let it=(()=>{class St{constructor(Fe,rt,qt,dn,Ae,De,ze,Mt=null){this.eventManager=Fe,this.sharedStylesHost=rt,this.appId=qt,this.removeStylesOnCompDestroy=dn,this.doc=Ae,this.platformId=De,this.ngZone=ze,this.nonce=Mt,this.rendererByCompId=new Map,this.platformIsServer=(0,a.Vy)(De),this.defaultRenderer=new $e(Fe,Ae,ze,this.platformIsServer)}createRenderer(Fe,rt){if(!Fe||!rt)return this.defaultRenderer;this.platformIsServer&&rt.encapsulation===L.gXe.ShadowDom&&(rt={...rt,encapsulation:L.gXe.Emulated});const qt=this.getOrCreateRenderer(Fe,rt);return qt instanceof Yt?qt.applyToHost(Fe):qt instanceof pn&&qt.applyStyles(),qt}getOrCreateRenderer(Fe,rt){const qt=this.rendererByCompId;let dn=qt.get(rt.id);if(!dn){const Ae=this.doc,De=this.ngZone,ze=this.eventManager,Mt=this.sharedStylesHost,mt=this.removeStylesOnCompDestroy,mn=this.platformIsServer;switch(rt.encapsulation){case L.gXe.Emulated:dn=new Yt(ze,Mt,rt,this.appId,mt,Ae,De,mn);break;case L.gXe.ShadowDom:return new Bt(ze,Mt,Fe,rt,Ae,De,this.nonce,mn);default:dn=new pn(ze,Mt,rt,mt,Ae,De,mn)}qt.set(rt.id,dn)}return dn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(oe),L.KVO(Le),L.KVO(L.sZ2),L.KVO(ct),L.KVO(a.qQ),L.KVO(L.Agw),L.KVO(L.SKi),L.KVO(L.BIS))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();class $e{constructor(et,Fe,rt,qt){this.eventManager=et,this.doc=Fe,this.ngZone=rt,this.platformIsServer=qt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(et,Fe){return Fe?this.doc.createElementNS(Me[Fe]||Fe,et):this.doc.createElement(et)}createComment(et){return this.doc.createComment(et)}createText(et){return this.doc.createTextNode(et)}appendChild(et,Fe){(Vt(et)?et.content:et).appendChild(Fe)}insertBefore(et,Fe,rt){et&&(Vt(et)?et.content:et).insertBefore(Fe,rt)}removeChild(et,Fe){Fe.remove()}selectRootElement(et,Fe){let rt="string"==typeof et?this.doc.querySelector(et):et;if(!rt)throw new L.wOt(-5104,!1);return Fe||(rt.textContent=""),rt}parentNode(et){return et.parentNode}nextSibling(et){return et.nextSibling}setAttribute(et,Fe,rt,qt){if(qt){Fe=qt+":"+Fe;const dn=Me[qt];dn?et.setAttributeNS(dn,Fe,rt):et.setAttribute(Fe,rt)}else et.setAttribute(Fe,rt)}removeAttribute(et,Fe,rt){if(rt){const qt=Me[rt];qt?et.removeAttributeNS(qt,Fe):et.removeAttribute(`${rt}:${Fe}`)}else et.removeAttribute(Fe)}addClass(et,Fe){et.classList.add(Fe)}removeClass(et,Fe){et.classList.remove(Fe)}setStyle(et,Fe,rt,qt){qt&(L.czy.DashCase|L.czy.Important)?et.style.setProperty(Fe,rt,qt&L.czy.Important?"important":""):et.style[Fe]=rt}removeStyle(et,Fe,rt){rt&L.czy.DashCase?et.style.removeProperty(Fe):et.style[Fe]=""}setProperty(et,Fe,rt){null!=et&&(et[Fe]=rt)}setValue(et,Fe){et.nodeValue=Fe}listen(et,Fe,rt){if("string"==typeof et&&!(et=(0,a.QT)().getGlobalEventTarget(this.doc,et)))throw new Error(`Unsupported event target ${et} for event ${Fe}`);return this.eventManager.addEventListener(et,Fe,this.decoratePreventDefault(rt))}decoratePreventDefault(et){return Fe=>{if("__ngUnwrap__"===Fe)return et;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>et(Fe)):et(Fe))&&Fe.preventDefault()}}}function Vt(St){return"TEMPLATE"===St.tagName&&void 0!==St.content}class Bt extends $e{constructor(et,Fe,rt,qt,dn,Ae,De,ze){super(et,dn,Ae,ze),this.sharedStylesHost=Fe,this.hostEl=rt,this.shadowRoot=rt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Mt=Ge(qt.id,qt.styles);for(const mt of Mt){const mn=document.createElement("style");De&&mn.setAttribute("nonce",De),mn.textContent=mt,this.shadowRoot.appendChild(mn)}}nodeOrShadowRoot(et){return et===this.hostEl?this.shadowRoot:et}appendChild(et,Fe){return super.appendChild(this.nodeOrShadowRoot(et),Fe)}insertBefore(et,Fe,rt){return super.insertBefore(this.nodeOrShadowRoot(et),Fe,rt)}removeChild(et,Fe){return super.removeChild(null,Fe)}parentNode(et){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(et)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends $e{constructor(et,Fe,rt,qt,dn,Ae,De,ze){super(et,dn,Ae,De),this.sharedStylesHost=Fe,this.removeStylesOnCompDestroy=qt,this.styles=ze?Ge(ze,rt.styles):rt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yt extends pn{constructor(et,Fe,rt,qt,dn,Ae,De,ze){const Mt=qt+"-"+rt.id;super(et,Fe,rt,dn,Ae,De,ze,Mt),this.contentAttr=function Ie(St){return"_ngcontent-%COMP%".replace(nt,St)}(Mt),this.hostAttr=function ge(St){return"_nghost-%COMP%".replace(nt,St)}(Mt)}applyToHost(et){this.applyStyles(),this.setAttribute(et,this.hostAttr,"")}createElement(et,Fe){const rt=super.createElement(et,Fe);return super.setAttribute(rt,this.contentAttr,""),rt}}let Cn=(()=>{class St extends ke{constructor(Fe){super(Fe)}supports(Fe){return!0}addEventListener(Fe,rt,qt){return Fe.addEventListener(rt,qt,!1),()=>this.removeEventListener(Fe,rt,qt)}removeEventListener(Fe,rt,qt){return Fe.removeEventListener(rt,qt)}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(a.qQ))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();const pt=["alt","control","meta","shift"],me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let _e=(()=>{class St extends ke{constructor(Fe){super(Fe)}supports(Fe){return null!=St.parseEventName(Fe)}addEventListener(Fe,rt,qt){const dn=St.parseEventName(rt),Ae=St.eventCallback(dn.fullKey,qt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.QT)().onAndCancel(Fe,dn.domEventName,Ae))}static parseEventName(Fe){const rt=Fe.toLowerCase().split("."),qt=rt.shift();if(0===rt.length||"keydown"!==qt&&"keyup"!==qt)return null;const dn=St._normalizeKey(rt.pop());let Ae="",De=rt.indexOf("code");if(De>-1&&(rt.splice(De,1),Ae="code."),pt.forEach(Mt=>{const mt=rt.indexOf(Mt);mt>-1&&(rt.splice(mt,1),Ae+=Mt+".")}),Ae+=dn,0!=rt.length||0===dn.length)return null;const ze={};return ze.domEventName=qt,ze.fullKey=Ae,ze}static matchEventFullKeyCode(Fe,rt){let qt=me[Fe.key]||Fe.key,dn="";return rt.indexOf("code.")>-1&&(qt=Fe.code,dn="code."),!(null==qt||!qt)&&(qt=qt.toLowerCase()," "===qt?qt="space":"."===qt&&(qt="dot"),pt.forEach(Ae=>{Ae!==qt&&(0,fe[Ae])(Fe)&&(dn+=Ae+".")}),dn+=qt,dn===rt)}static eventCallback(Fe,rt,qt){return dn=>{St.matchEventFullKeyCode(dn,Fe)&&qt.runGuarded(()=>rt(dn))}}static _normalizeKey(Fe){return"esc"===Fe?"escape":Fe}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(a.qQ))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac})}}return St})();const gt=(0,L.oH4)(L.fpN,"browser",[{provide:L.Agw,useValue:a.AJ},{provide:L.PLl,useValue:function qe(){Q.makeCurrent()},multi:!0},{provide:a.qQ,useFactory:function Nt(){return(0,L.TL$)(document),document},deps:[]}]),Ut=new L.nKC(""),un=[{provide:L.e01,useClass:class Ue{addToWindow(et){L.JZv.getAngularTestability=(rt,qt=!0)=>{const dn=et.findTestabilityInTree(rt,qt);if(null==dn)throw new L.wOt(5103,!1);return dn},L.JZv.getAllAngularTestabilities=()=>et.getAllTestabilities(),L.JZv.getAllAngularRootElements=()=>et.getAllRootElements(),L.JZv.frameworkStabilizers||(L.JZv.frameworkStabilizers=[]),L.JZv.frameworkStabilizers.push(rt=>{const qt=L.JZv.getAllAngularTestabilities();let dn=qt.length;const Ae=function(){dn--,0==dn&&rt()};qt.forEach(De=>{De.whenStable(Ae)})})}findTestabilityInTree(et,Fe,rt){return null==Fe?null:et.getTestability(Fe)??(rt?(0,a.QT)().isShadowRoot(Fe)?this.findTestabilityInTree(et,Fe.host,!0):this.findTestabilityInTree(et,Fe.parentElement,!0):null)}},deps:[]},{provide:L.WHO,useClass:L.NYb,deps:[L.SKi,L.giA,L.e01]},{provide:L.NYb,useClass:L.NYb,deps:[L.SKi,L.giA,L.e01]}],xn=[{provide:L.H8p,useValue:"root"},{provide:L.zcH,useFactory:function Ee(){return new L.zcH},deps:[]},{provide:ye,useClass:Cn,multi:!0,deps:[a.qQ,L.SKi,L.Agw]},{provide:ye,useClass:_e,multi:!0,deps:[a.qQ]},it,Le,oe,{provide:L._9s,useExisting:it},{provide:a.N0,useClass:He,deps:[]},[]];let Xt=(()=>{class St{constructor(Fe){}static withServerTransition(Fe){return{ngModule:St,providers:[{provide:L.sZ2,useValue:Fe.appId}]}}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(Ut,12))}}static{this.\u0275mod=L.$C({type:St})}static{this.\u0275inj=L.G2t({providers:[...xn,...un],imports:[a.MD,L.Hbi]})}}return St})(),Ft=(()=>{class St{constructor(Fe){this._doc=Fe}getTitle(){return this._doc.title}setTitle(Fe){this._doc.title=Fe||""}static{this.\u0275fac=function(rt){return new(rt||St)(L.KVO(a.qQ))}}static{this.\u0275prov=L.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}}return St})()},4964:(fn,ft,N)=>{"use strict";N.d(ft,{nX:()=>jt,Zp:()=>se,Z:()=>Wo,Xk:()=>$t,Kp:()=>Ci,Ix:()=>Mn,Wk:()=>Jr,iI:()=>Mo,Sd:()=>Sn});var a=N(4438),L=N(1985),re=N(8071),be=N(8455),ce=N(7673),Te=N(4412),Ue=N(4572),He=N(9350),ye=N(8793),oe=N(8750);function ke(E){return new L.c(b=>{(0,oe.Tg)(E()).subscribe(b)})}var Be=N(1203);function Le(E,b){const C=(0,re.T)(E)?E:()=>E,A=$=>$.error(C());return new L.c(b?$=>b.schedule(A,0,$):A)}var Me=N(983),nt=N(8359),Qe=N(9974),Ve=N(4360);function _t(){return(0,Qe.N)((E,b)=>{let C=null;E._refCount++;const A=(0,Ve._)(b,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(C=null);const $=E._connection,ie=C;C=null,$&&(!ie||$===ie)&&$.unsubscribe(),b.unsubscribe()});E.subscribe(A),A.closed||(C=E.connect())})}class dt extends L.c{constructor(b,C){super(),this.source=b,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new nt.yU;const C=this.getSubject();b.add(this.source.subscribe((0,Ve._)(C,void 0,()=>{this._teardown(),C.complete()},A=>{this._teardown(),C.error(A)},()=>this._teardown()))),b.closed&&(this._connection=null,b=nt.yU.EMPTY)}return b}refCount(){return _t()(this)}}var ct=N(1413),Ie=N(177),ge=N(6354),Ge=N(5558),it=N(6697),$e=N(9172),Tt=N(5964),Se=N(1397),Vt=N(1594);function Bt(E,b){return(0,re.T)(b)?(0,Se.Z)(E,b,1):(0,Se.Z)(E,1)}var pn=N(8141);function Yt(E){return(0,Qe.N)((b,C)=>{let ie,A=null,$=!1;A=b.subscribe((0,Ve._)(C,void 0,void 0,xe=>{ie=(0,oe.Tg)(E(xe,Yt(E)(b))),A?(A.unsubscribe(),A=null,ie.subscribe(C)):$=!0})),$&&(A.unsubscribe(),A=null,ie.subscribe(C))})}var Cn=N(2816),pt=N(9901);function me(E){return E<=0?()=>Me.w:(0,Qe.N)((b,C)=>{let A=[];b.subscribe((0,Ve._)(C,$=>{A.push($),E<A.length&&A.shift()},()=>{for(const $ of A)C.next($);C.complete()},void 0,()=>{A=null}))})}var fe=N(3774),_e=N(3669);function Ye(E){return(0,Qe.N)((b,C)=>{try{b.subscribe(C)}finally{C.add(E)}})}var le=N(5343),Ee=N(6365),Nt=N(345);const $t="primary",gt=Symbol("RouteTitle");class Ut{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C[0]:C}return null}getAll(b){if(this.has(b)){const C=this.params[b];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function un(E){return new Ut(E)}function xn(E,b,C){const A=C.path.split("/");if(A.length>E.length||"full"===C.pathMatch&&(b.hasChildren()||A.length<E.length))return null;const $={};for(let ie=0;ie<A.length;ie++){const xe=A[ie],Pt=E[ie];if(":"===xe[0])$[xe.substring(1)]=Pt;else if(xe!==Pt.path)return null}return{consumed:E.slice(0,A.length),posParams:$}}function Ot(E,b){const C=E?Ln(E):void 0,A=b?Ln(b):void 0;if(!C||!A||C.length!=A.length)return!1;let $;for(let ie=0;ie<C.length;ie++)if($=C[ie],!Ft(E[$],b[$]))return!1;return!0}function Ln(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}function Ft(E,b){if(Array.isArray(E)&&Array.isArray(b)){if(E.length!==b.length)return!1;const C=[...E].sort(),A=[...b].sort();return C.every(($,ie)=>A[ie]===$)}return E===b}function ht(E){return E.length>0?E[E.length-1]:null}function de(E){return function Q(E){return!!E&&(E instanceof L.c||(0,re.T)(E.lift)&&(0,re.T)(E.subscribe))}(E)?E:(0,a.jNT)(E)?(0,be.H)(Promise.resolve(E)):(0,ce.of)(E)}const ut={exact:function kn(E,b,C){if(!or(E.segments,b.segments)||!Kn(E.segments,b.segments,C)||E.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!E.children[A]||!kn(E.children[A],b.children[A],C))return!1;return!0},subset:gn},Rt={exact:function Jn(E,b){return Ot(E,b)},subset:function vn(E,b){return Object.keys(b).length<=Object.keys(E).length&&Object.keys(b).every(C=>Ft(E[C],b[C]))},ignored:()=>!0};function sn(E,b,C){return ut[C.paths](E.root,b.root,C.matrixParams)&&Rt[C.queryParams](E.queryParams,b.queryParams)&&!("exact"===C.fragment&&E.fragment!==b.fragment)}function gn(E,b,C){return Wn(E,b,b.segments,C)}function Wn(E,b,C,A){if(E.segments.length>C.length){const $=E.segments.slice(0,C.length);return!(!or($,C)||b.hasChildren()||!Kn($,C,A))}if(E.segments.length===C.length){if(!or(E.segments,C)||!Kn(E.segments,C,A))return!1;for(const $ in b.children)if(!E.children[$]||!gn(E.children[$],b.children[$],A))return!1;return!0}{const $=C.slice(0,E.segments.length),ie=C.slice(E.segments.length);return!!(or(E.segments,$)&&Kn(E.segments,$,A)&&E.children[$t])&&Wn(E.children[$t],b,ie,A)}}function Kn(E,b,C){return b.every((A,$)=>Rt[C](E[$].parameters,A.parameters))}class Yn{constructor(b=new rr([],{}),C={},A=null){this.root=b,this.queryParams=C,this.fragment=A}get queryParamMap(){return this._queryParamMap??=un(this.queryParams),this._queryParamMap}toString(){return Xn.serialize(this)}}class rr{constructor(b,C){this.segments=b,this.children=C,this.parent=null,Object.values(C).forEach(A=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class Mr{constructor(b,C){this.path=b,this.parameters=C}get parameterMap(){return this._parameterMap??=un(this.parameters),this._parameterMap}toString(){return rt(this)}}function or(E,b){return E.length===b.length&&E.every((C,A)=>C.path===b[A].path)}let Sn=(()=>{class E{static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:()=>new yn,providedIn:"root"})}}return E})();class yn{parse(b){const C=new lt(b);return new Yn(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(b){const C=`/${Qn(b.root,!0)}`,A=function dn(E){const b=Object.entries(E).map(([C,A])=>Array.isArray(A)?A.map($=>`${an(C)}=${an($)}`).join("&"):`${an(C)}=${an(A)}`).filter(C=>C);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${C}${A}${"string"==typeof b.fragment?`#${function ii(E){return encodeURI(E)}(b.fragment)}`:""}`}}const Xn=new yn;function Gn(E){return E.segments.map(b=>rt(b)).join("/")}function Qn(E,b){if(!E.hasChildren())return Gn(E);if(b){const C=E.children[$t]?Qn(E.children[$t],!1):"",A=[];return Object.entries(E.children).forEach(([$,ie])=>{$!==$t&&A.push(`${$}:${Qn(ie,!1)}`)}),A.length>0?`${C}(${A.join("//")})`:C}{const C=function lr(E,b){let C=[];return Object.entries(E.children).forEach(([A,$])=>{A===$t&&(C=C.concat(b($,A)))}),Object.entries(E.children).forEach(([A,$])=>{A!==$t&&(C=C.concat(b($,A)))}),C}(E,(A,$)=>$===$t?[Qn(E.children[$t],!1)]:[`${$}:${Qn(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[$t]?`${Gn(E)}/${C[0]}`:`${Gn(E)}/(${C.join("//")})`}}function ar(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(E){return ar(E).replace(/%3B/gi,";")}function St(E){return ar(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function et(E){return decodeURIComponent(E)}function Fe(E){return et(E.replace(/\+/g,"%20"))}function rt(E){return`${St(E.path)}${function qt(E){return Object.entries(E).map(([b,C])=>`;${St(b)}=${St(C)}`).join("")}(E.parameters)}`}const Ae=/^[^\/()?;#]+/;function De(E){const b=E.match(Ae);return b?b[0]:""}const ze=/^[^\/()?;=#]+/,mt=/^[^=?&#]+/,In=/^[^&#]+/;class lt{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(C).length>0)&&(A[$t]=new rr(b,C)),A}parseSegment(){const b=De(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(b),new Mr(et(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const C=function Mt(E){const b=E.match(ze);return b?b[0]:""}(this.remaining);if(!C)return;this.capture(C);let A="";if(this.consumeOptional("=")){const $=De(this.remaining);$&&(A=$,this.capture(A))}b[et(C)]=et(A)}parseQueryParam(b){const C=function mn(E){const b=E.match(mt);return b?b[0]:""}(this.remaining);if(!C)return;this.capture(C);let A="";if(this.consumeOptional("=")){const xe=function wr(E){const b=E.match(In);return b?b[0]:""}(this.remaining);xe&&(A=xe,this.capture(A))}const $=Fe(C),ie=Fe(A);if(b.hasOwnProperty($)){let xe=b[$];Array.isArray(xe)||(xe=[xe],b[$]=xe),xe.push(ie)}else b[$]=ie}parseParens(b){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=De(this.remaining),$=this.remaining[A.length];if("/"!==$&&")"!==$&&";"!==$)throw new a.wOt(4010,!1);let ie;A.indexOf(":")>-1?(ie=A.slice(0,A.indexOf(":")),this.capture(ie),this.capture(":")):b&&(ie=$t);const xe=this.parseChildren();C[ie]=1===Object.keys(xe).length?xe[$t]:new rr([],xe),this.consumeOptional("//")}return C}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new a.wOt(4011,!1)}}function cr(E){return E.segments.length>0?new rr([],{[$t]:E}):E}function $n(E){const b={};for(const[A,$]of Object.entries(E.children)){const ie=$n($);if(A===$t&&0===ie.segments.length&&ie.hasChildren())for(const[xe,Pt]of Object.entries(ie.children))b[xe]=Pt;else(ie.segments.length>0||ie.hasChildren())&&(b[A]=ie)}return function nn(E){if(1===E.numberOfChildren&&E.children[$t]){const b=E.children[$t];return new rr(E.segments.concat(b.segments),b.children)}return E}(new rr(E.segments,b))}function kr(E){return E instanceof Yn}function Wr(E){let b;const $=cr(function C(ie){const xe={};for(const Et of ie.children){const Dn=C(Et);xe[Et.outlet]=Dn}const Pt=new rr(ie.url,xe);return ie===E&&(b=Pt),Pt}(E.root));return b??$}function Wi(E,b,C,A){let $=E;for(;$.parent;)$=$.parent;if(0===b.length)return Yi($,$,$,C,A);const ie=function J(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Ne(!0,0,E);let b=0,C=!1;const A=E.reduce(($,ie,xe)=>{if("object"==typeof ie&&null!=ie){if(ie.outlets){const Pt={};return Object.entries(ie.outlets).forEach(([Et,Dn])=>{Pt[Et]="string"==typeof Dn?Dn.split("/"):Dn}),[...$,{outlets:Pt}]}if(ie.segmentPath)return[...$,ie.segmentPath]}return"string"!=typeof ie?[...$,ie]:0===xe?(ie.split("/").forEach((Pt,Et)=>{0==Et&&"."===Pt||(0==Et&&""===Pt?C=!0:".."===Pt?b++:""!=Pt&&$.push(Pt))}),$):[...$,ie]},[]);return new Ne(C,b,A)}(b);if(ie.toRoot())return Yi($,$,new rr([],{}),C,A);const xe=function q(E,b,C){if(E.isAbsolute)return new O(b,!0,0);if(!C)return new O(b,!1,NaN);if(null===C.parent)return new O(C,!0,0);const A=Xr(E.commands[0])?0:1;return function we(E,b,C){let A=E,$=b,ie=C;for(;ie>$;){if(ie-=$,A=A.parent,!A)throw new a.wOt(4005,!1);$=A.segments.length}return new O(A,!1,$-ie)}(C,C.segments.length-1+A,E.numberOfDoubleDots)}(ie,$,E),Pt=xe.processChildren?bt(xe.segmentGroup,xe.index,ie.commands):Je(xe.segmentGroup,xe.index,ie.commands);return Yi($,xe.segmentGroup,Pt,C,A)}function Xr(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function dr(E){return"object"==typeof E&&null!=E&&E.outlets}function Yi(E,b,C,A,$){let xe,ie={};A&&Object.entries(A).forEach(([Et,Dn])=>{ie[Et]=Array.isArray(Dn)?Dn.map(mr=>`${mr}`):`${Dn}`}),xe=E===b?C:yi(E,b,C);const Pt=cr($n(xe));return new Yn(Pt,ie,$)}function yi(E,b,C){const A={};return Object.entries(E.children).forEach(([$,ie])=>{A[$]=ie===b?C:yi(ie,b,C)}),new rr(E.segments,A)}class Ne{constructor(b,C,A){if(this.isAbsolute=b,this.numberOfDoubleDots=C,this.commands=A,b&&A.length>0&&Xr(A[0]))throw new a.wOt(4003,!1);const $=A.find(dr);if($&&$!==ht(A))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O{constructor(b,C,A){this.segmentGroup=b,this.processChildren=C,this.index=A}}function Je(E,b,C){if(E??=new rr([],{}),0===E.segments.length&&E.hasChildren())return bt(E,b,C);const A=function ln(E,b,C){let A=0,$=b;const ie={match:!1,pathIndex:0,commandIndex:0};for(;$<E.segments.length;){if(A>=C.length)return ie;const xe=E.segments[$],Pt=C[A];if(dr(Pt))break;const Et=`${Pt}`,Dn=A<C.length-1?C[A+1]:null;if($>0&&void 0===Et)break;if(Et&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!wi(Et,Dn,xe))return ie;A+=2}else{if(!wi(Et,{},xe))return ie;A++}$++}return{match:!0,pathIndex:$,commandIndex:A}}(E,b,C),$=C.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const ie=new rr(E.segments.slice(0,A.pathIndex),{});return ie.children[$t]=new rr(E.segments.slice(A.pathIndex),E.children),bt(ie,0,$)}return A.match&&0===$.length?new rr(E.segments,{}):A.match&&!E.hasChildren()?Jt(E,b,C):A.match?bt(E,0,$):Jt(E,b,C)}function bt(E,b,C){if(0===C.length)return new rr(E.segments,{});{const A=function ae(E){return dr(E[0])?E[0].outlets:{[$t]:E}}(C),$={};if(Object.keys(A).some(ie=>ie!==$t)&&E.children[$t]&&1===E.numberOfChildren&&0===E.children[$t].segments.length){const ie=bt(E.children[$t],b,C);return new rr(E.segments,ie.children)}return Object.entries(A).forEach(([ie,xe])=>{"string"==typeof xe&&(xe=[xe]),null!==xe&&($[ie]=Je(E.children[ie],b,xe))}),Object.entries(E.children).forEach(([ie,xe])=>{void 0===A[ie]&&($[ie]=xe)}),new rr(E.segments,$)}}function Jt(E,b,C){const A=E.segments.slice(0,b);let $=0;for(;$<C.length;){const ie=C[$];if(dr(ie)){const Et=er(ie.outlets);return new rr(A,Et)}if(0===$&&Xr(C[0])){A.push(new Mr(E.segments[b].path,zn(C[0]))),$++;continue}const xe=dr(ie)?ie.outlets[$t]:`${ie}`,Pt=$<C.length-1?C[$+1]:null;xe&&Pt&&Xr(Pt)?(A.push(new Mr(xe,zn(Pt))),$+=2):(A.push(new Mr(xe,{})),$++)}return new rr(A,{})}function er(E){const b={};return Object.entries(E).forEach(([C,A])=>{"string"==typeof A&&(A=[A]),null!==A&&(b[C]=Jt(new rr([],{}),0,A))}),b}function zn(E){const b={};return Object.entries(E).forEach(([C,A])=>b[C]=`${A}`),b}function wi(E,b,C){return E==C.path&&Ot(b,C.parameters)}const Qr="imperative";var hr=function(E){return E[E.NavigationStart=0]="NavigationStart",E[E.NavigationEnd=1]="NavigationEnd",E[E.NavigationCancel=2]="NavigationCancel",E[E.NavigationError=3]="NavigationError",E[E.RoutesRecognized=4]="RoutesRecognized",E[E.ResolveStart=5]="ResolveStart",E[E.ResolveEnd=6]="ResolveEnd",E[E.GuardsCheckStart=7]="GuardsCheckStart",E[E.GuardsCheckEnd=8]="GuardsCheckEnd",E[E.RouteConfigLoadStart=9]="RouteConfigLoadStart",E[E.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",E[E.ChildActivationStart=11]="ChildActivationStart",E[E.ChildActivationEnd=12]="ChildActivationEnd",E[E.ActivationStart=13]="ActivationStart",E[E.ActivationEnd=14]="ActivationEnd",E[E.Scroll=15]="Scroll",E[E.NavigationSkipped=16]="NavigationSkipped",E}(hr||{});class ti{constructor(b,C){this.id=b,this.url=C}}class Wo extends ti{constructor(b,C,A="imperative",$=null){super(b,C),this.type=hr.NavigationStart,this.navigationTrigger=A,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bi extends ti{constructor(b,C,A){super(b,C),this.urlAfterRedirects=A,this.type=hr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var li=function(E){return E[E.Redirect=0]="Redirect",E[E.SupersededByNewNavigation=1]="SupersededByNewNavigation",E[E.NoDataFromResolver=2]="NoDataFromResolver",E[E.GuardRejected=3]="GuardRejected",E}(li||{}),lo=function(E){return E[E.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",E[E.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",E}(lo||{});class ui extends ti{constructor(b,C,A,$){super(b,C),this.reason=A,this.code=$,this.type=hr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _i extends ti{constructor(b,C,A,$){super(b,C),this.reason=A,this.code=$,this.type=hr.NavigationSkipped}}class Ko extends ti{constructor(b,C,A,$){super(b,C),this.error=A,this.target=$,this.type=hr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lo extends ti{constructor(b,C,A,$){super(b,C),this.urlAfterRedirects=A,this.state=$,this.type=hr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends ti{constructor(b,C,A,$){super(b,C),this.urlAfterRedirects=A,this.state=$,this.type=hr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends ti{constructor(b,C,A,$,ie){super(b,C),this.urlAfterRedirects=A,this.state=$,this.shouldActivate=ie,this.type=hr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eo extends ti{constructor(b,C,A,$){super(b,C),this.urlAfterRedirects=A,this.state=$,this.type=hr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is extends ti{constructor(b,C,A,$){super(b,C),this.urlAfterRedirects=A,this.state=$,this.type=hr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qn{constructor(b){this.route=b,this.type=hr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tr{constructor(b){this.route=b,this.type=hr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gs{constructor(b){this.snapshot=b,this.type=hr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qo{constructor(b){this.snapshot=b,this.type=hr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class os{constructor(b){this.snapshot=b,this.type=hr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ua{constructor(b){this.snapshot=b,this.type=hr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ss{constructor(b,C,A){this.routerEvent=b,this.position=C,this.anchor=A,this.type=hr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yr{}class sr{constructor(b,C){this.url=b,this.navigationBehaviorOptions=C}}function U(E){return E.outlet||$t}function G(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let b=E.parent;b;b=b.parent){const C=b.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class M{get injector(){return G(this.route?.snapshot)??this.rootInjector}set injector(b){}constructor(b){this.rootInjector=b,this.outlet=null,this.route=null,this.children=new se(this.rootInjector),this.attachRef=null}}let se=(()=>{class E{constructor(C){this.rootInjector=C,this.contexts=new Map}onChildOutletCreated(C,A){const $=this.getOrCreateContext(C);$.outlet=A,this.contexts.set(C,$)}onChildOutletDestroyed(C){const A=this.getContext(C);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let A=this.getContext(C);return A||(A=new M(this.rootInjector),this.contexts.set(C,A)),A}getContext(C){return this.contexts.get(C)||null}static{this.\u0275fac=function(A){return new(A||E)(a.KVO(a.uvJ))}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();class F{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const C=this.pathFromRoot(b);return C.length>1?C[C.length-2]:null}children(b){const C=Y(b,this._root);return C?C.children.map(A=>A.value):[]}firstChild(b){const C=Y(b,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(b){const C=ve(b,this._root);return C.length<2?[]:C[C.length-2].children.map($=>$.value).filter($=>$!==b)}pathFromRoot(b){return ve(b,this._root).map(C=>C.value)}}function Y(E,b){if(E===b.value)return b;for(const C of b.children){const A=Y(E,C);if(A)return A}return null}function ve(E,b){if(E===b.value)return[b];for(const C of b.children){const A=ve(E,C);if(A.length)return A.unshift(b),A}return[]}class Oe{constructor(b,C){this.value=b,this.children=C}toString(){return`TreeNode(${this.value})`}}function Re(E){const b={};return E&&E.children.forEach(C=>b[C.value.outlet]=C),b}class st extends F{constructor(b,C){super(b),this.snapshot=C,Rn(this,b)}toString(){return this.snapshot.toString()}}function Lt(E){const b=function Gt(E){const ie=new cn([],{},{},"",{},$t,E,null,{});return new En("",new Oe(ie,[]))}(E),C=new Te.t([new Mr("",{})]),A=new Te.t({}),$=new Te.t({}),ie=new Te.t({}),xe=new Te.t(""),Pt=new jt(C,A,ie,xe,$,$t,E,b.root);return Pt.snapshot=b.root,new st(new Oe(Pt,[]),b)}class jt{constructor(b,C,A,$,ie,xe,Pt,Et){this.urlSubject=b,this.paramsSubject=C,this.queryParamsSubject=A,this.fragmentSubject=$,this.dataSubject=ie,this.outlet=xe,this.component=Pt,this._futureSnapshot=Et,this.title=this.dataSubject?.pipe((0,ge.T)(Dn=>Dn[gt]))??(0,ce.of)(void 0),this.url=b,this.params=C,this.queryParams=A,this.fragment=$,this.data=ie}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ge.T)(b=>un(b))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ge.T)(b=>un(b))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wt(E,b,C="emptyOnly"){let A;const{routeConfig:$}=E;return A=null===b||"always"!==C&&""!==$?.path&&(b.component||b.routeConfig?.loadComponent)?{params:{...E.params},data:{...E.data},resolve:{...E.data,...E._resolvedData??{}}}:{params:{...b.params,...E.params},data:{...b.data,...E.data},resolve:{...E.data,...b.data,...$?.data,...E._resolvedData}},$&&Vr($)&&(A.resolve[gt]=$.title),A}class cn{get title(){return this.data?.[gt]}constructor(b,C,A,$,ie,xe,Pt,Et,Dn){this.url=b,this.params=C,this.queryParams=A,this.fragment=$,this.data=ie,this.outlet=xe,this.component=Pt,this.routeConfig=Et,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=un(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=un(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class En extends F{constructor(b,C){super(C),this.url=b,Rn(this,C)}toString(){return Nn(this._root)}}function Rn(E,b){b.value._routerState=E,b.children.forEach(C=>Rn(E,C))}function Nn(E){const b=E.children.length>0?` { ${E.children.map(Nn).join(", ")} } `:"";return`${E.value}${b}`}function Cr(E){if(E.snapshot){const b=E.snapshot,C=E._futureSnapshot;E.snapshot=C,Ot(b.queryParams,C.queryParams)||E.queryParamsSubject.next(C.queryParams),b.fragment!==C.fragment&&E.fragmentSubject.next(C.fragment),Ot(b.params,C.params)||E.paramsSubject.next(C.params),function Xt(E,b){if(E.length!==b.length)return!1;for(let C=0;C<E.length;++C)if(!Ot(E[C],b[C]))return!1;return!0}(b.url,C.url)||E.urlSubject.next(C.url),Ot(b.data,C.data)||E.dataSubject.next(C.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function Fr(E,b){const C=Ot(E.params,b.params)&&function An(E,b){return or(E,b)&&E.every((C,A)=>Ot(C.parameters,b[A].parameters))}(E.url,b.url);return C&&!(!E.parent!=!b.parent)&&(!E.parent||Fr(E.parent,b.parent))}function Vr(E){return"string"==typeof E.title||null===E.title}let Lr=(()=>{class E{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(se),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.inputBinder=(0,a.WQX)(Ji,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:A,previousValue:$}=C.name;if(A)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,A){this.activated=C,this._activatedRoute=A,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,A){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=C;const $=this.location,xe=C.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,Et=new fr(C,Pt,$.injector);this.activated=$.createComponent(xe,{index:$.length,injector:Et,environmentInjector:A}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275dir=a.FsC({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}}return E})();class fr{__ngOutletInjector(b){return new fr(this.route,this.childContexts,b)}constructor(b,C,A){this.route=b,this.childContexts=C,this.parent=A}get(b,C){return b===jt?this.route:b===se?this.childContexts:this.parent.get(b,C)}}const Ji=new a.nKC("");let Ai=(()=>{class E{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){this.outletDataSubscriptions.get(C)?.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:A}=C,$=(0,Ue.z)([A.queryParams,A.params,A.data]).pipe((0,Ge.n)(([ie,xe,Pt],Et)=>(Pt={...ie,...xe,...Pt},0===Et?(0,ce.of)(Pt):Promise.resolve(Pt)))).subscribe(ie=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==A||null===A.component)return void this.unsubscribeFromRouteData(C);const xe=(0,a.HJs)(A.component);if(xe)for(const{templateName:Pt}of xe.inputs)C.activatedComponentRef.setInput(Pt,ie[Pt]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,$)}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac})}}return E})();function Uo(E,b,C){if(C&&E.shouldReuseRoute(b.value,C.value.snapshot)){const A=C.value;A._futureSnapshot=b.value;const $=function Pi(E,b,C){return b.children.map(A=>{for(const $ of C.children)if(E.shouldReuseRoute(A.value,$.value.snapshot))return Uo(E,A,$);return Uo(E,A)})}(E,b,C);return new Oe(A,$)}{if(E.shouldAttach(b.value)){const ie=E.retrieve(b.value);if(null!==ie){const xe=ie.route;return xe.value._futureSnapshot=b.value,xe.children=b.children.map(Pt=>Uo(E,Pt)),xe}}const A=function Ia(E){return new jt(new Te.t(E.url),new Te.t(E.params),new Te.t(E.queryParams),new Te.t(E.fragment),new Te.t(E.data),E.outlet,E.component,E)}(b.value),$=b.children.map(ie=>Uo(E,ie));return new Oe(A,$)}}class as{constructor(b,C){this.redirectTo=b,this.navigationBehaviorOptions=C}}const ys="ngNavigationCancelingError";function fi(E,b){const{redirectTo:C,navigationBehaviorOptions:A}=kr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,$=Qs(!1,li.Redirect);return $.url=C,$.navigationBehaviorOptions=A,$}function Qs(E,b){const C=new Error(`NavigationCancelingError: ${E||""}`);return C[ys]=!0,C.cancellationCode=b,C}function _s(E){return!!E&&E[ys]}class xr{constructor(b,C,A,$,ie){this.routeReuseStrategy=b,this.futureState=C,this.currState=A,this.forwardEvent=$,this.inputBindingEnabled=ie}activate(b){const C=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,A,b),Cr(this.futureState.root),this.activateChildRoutes(C,A,b)}deactivateChildRoutes(b,C,A){const $=Re(C);b.children.forEach(ie=>{const xe=ie.value.outlet;this.deactivateRoutes(ie,$[xe],A),delete $[xe]}),Object.values($).forEach(ie=>{this.deactivateRouteAndItsChildren(ie,A)})}deactivateRoutes(b,C,A){const $=b.value,ie=C?C.value:null;if($===ie)if($.component){const xe=A.getContext($.outlet);xe&&this.deactivateChildRoutes(b,C,xe.children)}else this.deactivateChildRoutes(b,C,A);else ie&&this.deactivateRouteAndItsChildren(C,A)}deactivateRouteAndItsChildren(b,C){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,C):this.deactivateRouteAndOutlet(b,C)}detachAndStoreRouteSubtree(b,C){const A=C.getContext(b.value.outlet),$=A&&b.value.component?A.children:C,ie=Re(b);for(const xe of Object.values(ie))this.deactivateRouteAndItsChildren(xe,$);if(A&&A.outlet){const xe=A.outlet.detach(),Pt=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:xe,route:b,contexts:Pt})}}deactivateRouteAndOutlet(b,C){const A=C.getContext(b.value.outlet),$=A&&b.value.component?A.children:C,ie=Re(b);for(const xe of Object.values(ie))this.deactivateRouteAndItsChildren(xe,$);A&&(A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated()),A.attachRef=null,A.route=null)}activateChildRoutes(b,C,A){const $=Re(C);b.children.forEach(ie=>{this.activateRoutes(ie,$[ie.value.outlet],A),this.forwardEvent(new Ua(ie.value.snapshot))}),b.children.length&&this.forwardEvent(new qo(b.value.snapshot))}activateRoutes(b,C,A){const $=b.value,ie=C?C.value:null;if(Cr($),$===ie)if($.component){const xe=A.getOrCreateContext($.outlet);this.activateChildRoutes(b,C,xe.children)}else this.activateChildRoutes(b,C,A);else if($.component){const xe=A.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Pt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),xe.children.onOutletReAttached(Pt.contexts),xe.attachRef=Pt.componentRef,xe.route=Pt.route.value,xe.outlet&&xe.outlet.attach(Pt.componentRef,Pt.route.value),Cr(Pt.route.value),this.activateChildRoutes(b,null,xe.children)}else xe.attachRef=null,xe.route=$,xe.outlet&&xe.outlet.activateWith($,xe.injector),this.activateChildRoutes(b,null,xe.children)}else this.activateChildRoutes(b,null,A)}}class Ar{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class fo{constructor(b,C){this.component=b,this.route=C}}function Qo(E,b,C){const A=E._root;return po(A,b?b._root:null,C,[A.value])}function to(E,b){const C=Symbol(),A=b.get(E,C);return A===C?"function"!=typeof E||(0,a.LfX)(E)?b.get(E):E:A}function po(E,b,C,A,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=Re(b);return E.children.forEach(xe=>{(function Bo(E,b,C,A,$={canDeactivateChecks:[],canActivateChecks:[]}){const ie=E.value,xe=b?b.value:null,Pt=C?C.getContext(E.value.outlet):null;if(xe&&ie.routeConfig===xe.routeConfig){const Et=function Tr(E,b,C){if("function"==typeof C)return C(E,b);switch(C){case"pathParamsChange":return!or(E.url,b.url);case"pathParamsOrQueryParamsChange":return!or(E.url,b.url)||!Ot(E.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fr(E,b)||!Ot(E.queryParams,b.queryParams);default:return!Fr(E,b)}}(xe,ie,ie.routeConfig.runGuardsAndResolvers);Et?$.canActivateChecks.push(new Ar(A)):(ie.data=xe.data,ie._resolvedData=xe._resolvedData),po(E,b,ie.component?Pt?Pt.children:null:C,A,$),Et&&Pt&&Pt.outlet&&Pt.outlet.isActivated&&$.canDeactivateChecks.push(new fo(Pt.outlet.component,xe))}else xe&&ur(b,Pt,$),$.canActivateChecks.push(new Ar(A)),po(E,null,ie.component?Pt?Pt.children:null:C,A,$)})(xe,ie[xe.value.outlet],C,A.concat([xe.value]),$),delete ie[xe.value.outlet]}),Object.entries(ie).forEach(([xe,Pt])=>ur(Pt,C.getContext(xe),$)),$}function ur(E,b,C){const A=Re(E),$=E.value;Object.entries(A).forEach(([ie,xe])=>{ur(xe,$.component?b?b.children.getContext(ie):null:b,C)}),C.canDeactivateChecks.push(new fo($.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,$))}function Co(E){return"function"==typeof E}function Ca(E){return E instanceof He.G||"EmptyError"===E?.name}const Br=Symbol("INITIAL_VALUE");function Ki(){return(0,Ge.n)(E=>(0,Ue.z)(E.map(b=>b.pipe((0,it.s)(1),(0,$e.Z)(Br)))).pipe((0,ge.T)(b=>{for(const C of b)if(!0!==C){if(C===Br)return Br;if(!1===C||ac(C))return C}return!0}),(0,Tt.p)(b=>b!==Br),(0,it.s)(1)))}function ac(E){return kr(E)||E instanceof as}function Fn(E){return(0,Be.F)((0,pn.M)(b=>{if("boolean"!=typeof b)throw fi(0,b)}),(0,ge.T)(b=>!0===b))}class qi{constructor(b){this.segmentGroup=b||null}}class Li extends Error{constructor(b){super(),this.urlTree=b}}function si(E){return Le(new qi(E))}class pi{constructor(b,C){this.urlSerializer=b,this.urlTree=C}lineralizeSegments(b,C){let A=[],$=C.root;for(;;){if(A=A.concat($.segments),0===$.numberOfChildren)return(0,ce.of)(A);if($.numberOfChildren>1||!$.children[$t])return Le(new a.wOt(4e3,!1));$=$.children[$t]}}applyRedirectCommands(b,C,A,$,ie){if("string"!=typeof C){const Pt=C,{queryParams:Et,fragment:Dn,routeConfig:mr,url:Dr,outlet:Ii,params:io,data:Oi,title:Bs}=$,bs=(0,a.N4e)(ie,()=>Pt({params:io,data:Oi,queryParams:Et,fragment:Dn,routeConfig:mr,url:Dr,outlet:Ii,title:Bs}));if(bs instanceof Yn)throw new Li(bs);C=bs}const xe=this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),b,A);if("/"===C[0])throw new Li(xe);return xe}applyRedirectCreateUrlTree(b,C,A,$){const ie=this.createSegmentGroup(b,C.root,A,$);return new Yn(ie,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(b,C){const A={};return Object.entries(b).forEach(([$,ie])=>{if("string"==typeof ie&&":"===ie[0]){const Pt=ie.substring(1);A[$]=C[Pt]}else A[$]=ie}),A}createSegmentGroup(b,C,A,$){const ie=this.createSegments(b,C.segments,A,$);let xe={};return Object.entries(C.children).forEach(([Pt,Et])=>{xe[Pt]=this.createSegmentGroup(b,Et,A,$)}),new rr(ie,xe)}createSegments(b,C,A,$){return C.map(ie=>":"===ie.path[0]?this.findPosParam(b,ie,$):this.findOrReturn(ie,A))}findPosParam(b,C,A){const $=A[C.path.substring(1)];if(!$)throw new a.wOt(4001,!1);return $}findOrReturn(b,C){let A=0;for(const $ of C){if($.path===b.path)return C.splice(A),$;A++}return b}}const ai={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gi(E,b,C,A,$){const ie=Ui(E,b,C);return ie.matched?(A=function ms(E,b){return E.providers&&!E._injector&&(E._injector=(0,a.Ol2)(E.providers,b,`Route: ${E.path}`)),E._injector??b}(b,A),function ir(E,b,C,A){const $=b.canMatch;if(!$||0===$.length)return(0,ce.of)(!0);const ie=$.map(xe=>{const Pt=to(xe,E);return de(function Ea(E){return E&&Co(E.canMatch)}(Pt)?Pt.canMatch(b,C):(0,a.N4e)(E,()=>Pt(b,C)))});return(0,ce.of)(ie).pipe(Ki(),Fn())}(A,b,C).pipe((0,ge.T)(xe=>!0===xe?ie:{...ai}))):(0,ce.of)(ie)}function Ui(E,b,C){if("**"===b.path)return function ja(E){return{matched:!0,parameters:E.length>0?ht(E).parameters:{},consumedSegments:E,remainingSegments:[],positionalParamSegments:{}}}(C);if(""===b.path)return"full"===b.pathMatch&&(E.hasChildren()||C.length>0)?{...ai}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const $=(b.matcher||xn)(C,E,b);if(!$)return{...ai};const ie={};Object.entries($.posParams??{}).forEach(([Pt,Et])=>{ie[Pt]=Et.path});const xe=$.consumed.length>0?{...ie,...$.consumed[$.consumed.length-1].parameters}:ie;return{matched:!0,consumedSegments:$.consumed,remainingSegments:C.slice($.consumed.length),parameters:xe,positionalParamSegments:$.posParams??{}}}function Os(E,b,C,A){return C.length>0&&function Pc(E,b,C){return C.some(A=>Fs(E,b,A)&&U(A)!==$t)}(E,C,A)?{segmentGroup:new rr(b,Js(A,new rr(C,E.children))),slicedSegments:[]}:0===C.length&&function so(E,b,C){return C.some(A=>Fs(E,b,A))}(E,C,A)?{segmentGroup:new rr(E.segments,ks(E,C,A,E.children)),slicedSegments:C}:{segmentGroup:new rr(E.segments,E.children),slicedSegments:C}}function ks(E,b,C,A){const $={};for(const ie of C)if(Fs(E,b,ie)&&!A[U(ie)]){const xe=new rr([],{});$[U(ie)]=xe}return{...A,...$}}function Js(E,b){const C={};C[$t]=b;for(const A of E)if(""===A.path&&U(A)!==$t){const $=new rr([],{});C[U(A)]=$}return C}function Fs(E,b,C){return(!(E.hasChildren()||b.length>0)||"full"!==C.pathMatch)&&""===C.path}class ul{}class cc{constructor(b,C,A,$,ie,xe,Pt){this.injector=b,this.configLoader=C,this.rootComponentType=A,this.config=$,this.urlTree=ie,this.paramsInheritanceStrategy=xe,this.urlSerializer=Pt,this.applyRedirects=new pi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(b){return new a.wOt(4002,`'${b.segmentGroup}'`)}recognize(){const b=Os(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(b).pipe((0,ge.T)(({children:C,rootSnapshot:A})=>{const $=new Oe(A,C),ie=new En("",$),xe=function oi(E,b,C=null,A=null){return Wi(Wr(E),b,C,A)}(A,[],this.urlTree.queryParams,this.urlTree.fragment);return xe.queryParams=this.urlTree.queryParams,ie.url=this.urlSerializer.serialize(xe),{state:ie,tree:xe}}))}match(b){const C=new cn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),$t,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,b,$t,C).pipe((0,ge.T)(A=>({children:A,rootSnapshot:C})),Yt(A=>{if(A instanceof Li)return this.urlTree=A.urlTree,this.match(A.urlTree.root);throw A instanceof qi?this.noMatchError(A):A}))}processSegmentGroup(b,C,A,$,ie){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,C,A,ie):this.processSegment(b,C,A,A.segments,$,!0,ie).pipe((0,ge.T)(xe=>xe instanceof Oe?[xe]:[]))}processChildren(b,C,A,$){const ie=[];for(const xe of Object.keys(A.children))"primary"===xe?ie.unshift(xe):ie.push(xe);return(0,be.H)(ie).pipe(Bt(xe=>{const Pt=A.children[xe],Et=function pr(E,b){const C=E.filter(A=>U(A)===b);return C.push(...E.filter(A=>U(A)!==b)),C}(C,xe);return this.processSegmentGroup(b,Et,Pt,xe,$)}),(0,Cn.S)((xe,Pt)=>(xe.push(...Pt),xe)),(0,pt.U)(null),function Z(E,b){const C=arguments.length>=2;return A=>A.pipe(E?(0,Tt.p)(($,ie)=>E($,ie,A)):_e.D,me(1),C?(0,pt.U)(b):(0,fe.v)(()=>new He.G))}(),(0,Se.Z)(xe=>{if(null===xe)return si(A);const Pt=Is(xe);return function Ro(E){E.sort((b,C)=>b.value.outlet===$t?-1:C.value.outlet===$t?1:b.value.outlet.localeCompare(C.value.outlet))}(Pt),(0,ce.of)(Pt)}))}processSegment(b,C,A,$,ie,xe,Pt){return(0,be.H)(C).pipe(Bt(Et=>this.processSegmentAgainstRoute(Et._injector??b,C,Et,A,$,ie,xe,Pt).pipe(Yt(Dn=>{if(Dn instanceof qi)return(0,ce.of)(null);throw Dn}))),(0,Vt.$)(Et=>!!Et),Yt(Et=>{if(Ca(Et))return function Ha(E,b,C){return 0===b.length&&!E.children[C]}(A,$,ie)?(0,ce.of)(new ul):si(A);throw Et}))}processSegmentAgainstRoute(b,C,A,$,ie,xe,Pt,Et){return U(A)===xe||xe!==$t&&Fs($,ie,A)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(b,$,A,ie,xe,Et):this.allowRedirects&&Pt?this.expandSegmentAgainstRouteUsingRedirect(b,$,C,A,ie,xe,Et):si($):si($)}expandSegmentAgainstRouteUsingRedirect(b,C,A,$,ie,xe,Pt){const{matched:Et,parameters:Dn,consumedSegments:mr,positionalParamSegments:Dr,remainingSegments:Ii}=Ui(C,$,ie);if(!Et)return si(C);"string"==typeof $.redirectTo&&"/"===$.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const io=new cn(ie,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no($),U($),$.component??$._loadedComponent??null,$,lc($)),Oi=Wt(io,Pt,this.paramsInheritanceStrategy);io.params=Object.freeze(Oi.params),io.data=Object.freeze(Oi.data);const Bs=this.applyRedirects.applyRedirectCommands(mr,$.redirectTo,Dr,io,b);return this.applyRedirects.lineralizeSegments($,Bs).pipe((0,Se.Z)(bs=>this.processSegment(b,A,C,bs.concat(Ii),xe,!1,Pt)))}matchSegmentAgainstRoute(b,C,A,$,ie,xe){const Pt=gi(C,A,$,b);return"**"===A.path&&(C.children={}),Pt.pipe((0,Ge.n)(Et=>Et.matched?this.getChildConfig(b=A._injector??b,A,$).pipe((0,Ge.n)(({routes:Dn})=>{const mr=A._loadedInjector??b,{parameters:Dr,consumedSegments:Ii,remainingSegments:io}=Et,Oi=new cn(Ii,Dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,no(A),U(A),A.component??A._loadedComponent??null,A,lc(A)),Bs=Wt(Oi,xe,this.paramsInheritanceStrategy);Oi.params=Object.freeze(Bs.params),Oi.data=Object.freeze(Bs.data);const{segmentGroup:bs,slicedSegments:Aa}=Os(C,Ii,io,Dn);if(0===Aa.length&&bs.hasChildren())return this.processChildren(mr,Dn,bs,Oi).pipe((0,ge.T)(Sa=>new Oe(Oi,Sa)));if(0===Dn.length&&0===Aa.length)return(0,ce.of)(new Oe(Oi,[]));const $s=U(A)===ie;return this.processSegment(mr,Dn,bs,Aa,$s?$t:ie,!0,Oi).pipe((0,ge.T)(Sa=>new Oe(Oi,Sa instanceof Oe?[Sa]:[])))})):si(C)))}getChildConfig(b,C,A){return C.children?(0,ce.of)({routes:C.children,injector:b}):C.loadChildren?void 0!==C._loadedRoutes?(0,ce.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function Xe(E,b,C,A){const $=b.canLoad;if(void 0===$||0===$.length)return(0,ce.of)(!0);const ie=$.map(xe=>{const Pt=to(xe,E);return de(function cs(E){return E&&Co(E.canLoad)}(Pt)?Pt.canLoad(b,C):(0,a.N4e)(E,()=>Pt(b,C)))});return(0,ce.of)(ie).pipe(Ki(),Fn())}(b,C,A).pipe((0,Se.Z)($=>$?this.configLoader.loadChildren(b,C).pipe((0,pn.M)(ie=>{C._loadedRoutes=ie.routes,C._loadedInjector=ie.injector})):function vr(){return Le(Qs(!1,li.GuardRejected))}())):(0,ce.of)({routes:[],injector:b})}}function xc(E){const b=E.value.routeConfig;return b&&""===b.path}function Is(E){const b=[],C=new Set;for(const A of E){if(!xc(A)){b.push(A);continue}const $=b.find(ie=>A.value.routeConfig===ie.value.routeConfig);void 0!==$?($.children.push(...A.children),C.add($)):b.push(A)}for(const A of C){const $=Is(A.children);b.push(new Oe(A.value,$))}return b.filter(A=>!C.has(A))}function no(E){return E.data||{}}function lc(E){return E.resolve||{}}function hl(E){const b=E.children.map(C=>hl(C)).flat();return[E,...b]}function Es(E){return(0,Ge.n)(b=>{const C=E(b);return C?(0,be.H)(C).pipe((0,ge.T)(()=>b)):(0,ce.of)(b)})}let Ta=(()=>{class E{buildTitle(C){let A,$=C.root;for(;void 0!==$;)A=this.getResolvedTitleForRoute($)??A,$=$.children.find(ie=>ie.outlet===$t);return A}getResolvedTitleForRoute(C){return C.data[gt]}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:()=>(0,a.WQX)(hu),providedIn:"root"})}}return E})(),hu=(()=>{class E extends Ta{constructor(C){super(),this.title=C}updateTitle(C){const A=this.buildTitle(C);void 0!==A&&this.title.setTitle(A)}static{this.\u0275fac=function(A){return new(A||E)(a.KVO(Nt.hE))}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const ls=new a.nKC("",{providedIn:"root",factory:()=>({})});let fl=(()=>{class E{static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275cmp=a.VBU({type:E,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(A,$){1&A&&a.nrm(0,"router-outlet")},dependencies:[Lr],encapsulation:2})}}return E})();function Cs(E){const b=E.children&&E.children.map(Cs),C=b?{...E,children:b}:{...E};return!C.component&&!C.loadComponent&&(b||C.loadChildren)&&C.outlet&&C.outlet!==$t&&(C.component=fl),C}const Da=new a.nKC("");let na=(()=>{class E{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,ce.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const A=de(C.loadComponent()).pipe((0,ge.T)(ia),(0,pn.M)(ie=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=ie}),Ye(()=>{this.componentLoaders.delete(C)})),$=new dt(A,()=>new ct.B).pipe(_t());return this.componentLoaders.set(C,$),$}loadChildren(C,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ce.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const ie=function ra(E,b,C,A){return de(E.loadChildren()).pipe((0,ge.T)(ia),(0,Se.Z)($=>$ instanceof a.Co$||Array.isArray($)?(0,ce.of)($):(0,be.H)(b.compileModuleAsync($))),(0,ge.T)($=>{A&&A(E);let ie,xe,Pt=!1;return Array.isArray($)?(xe=$,!0):(ie=$.create(C).injector,xe=ie.get(Da,[],{optional:!0,self:!0}).flat()),{routes:xe.map(Cs),injector:ie}}))}(A,this.compiler,C,this.onLoadEndListener).pipe(Ye(()=>{this.childrenLoaders.delete(A)})),xe=new dt(ie,()=>new ct.B).pipe(_t());return this.childrenLoaders.set(A,xe),xe}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function ia(E){return function Vs(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Yo=(()=>{class E{static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:()=>(0,a.WQX)($o),providedIn:"root"})}}return E})(),$o=(()=>{class E{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,A){return C}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const oa=new a.nKC(""),pl=new a.nKC("");function D(E,b,C){const A=E.get(pl),$=E.get(Ie.qQ);return E.get(a.SKi).runOutsideAngular(()=>{if(!$.startViewTransition||A.skipNextTransition)return A.skipNextTransition=!1,new Promise(Dn=>setTimeout(Dn));let ie;const xe=new Promise(Dn=>{ie=Dn}),Pt=$.startViewTransition(()=>(ie(),function X(E){return new Promise(b=>{(0,a.mal)({read:()=>setTimeout(b)},{injector:E})})}(E))),{onViewTransitionCreated:Et}=A;return Et&&(0,a.N4e)(E,()=>Et({transition:Pt,from:b,to:C})),xe})}const x=new a.nKC("");let H=(()=>{class E{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ct.B,this.transitionAbortSubject=new ct.B,this.configLoader=(0,a.WQX)(na),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Sn),this.rootContexts=(0,a.WQX)(se),this.location=(0,a.WQX)(Ie.aZ),this.inputBindingEnabled=null!==(0,a.WQX)(Ji,{optional:!0}),this.titleStrategy=(0,a.WQX)(Ta),this.options=(0,a.WQX)(ls,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,a.WQX)(Yo),this.createViewTransition=(0,a.WQX)(oa,{optional:!0}),this.navigationErrorHandler=(0,a.WQX)(x,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new tr($)),this.configLoader.onLoadStartListener=$=>this.events.next(new qn($))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const A=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:A})}setupNavigations(C,A,$){return this.transitions=new Te.t({id:0,currentUrlTree:A,currentRawUrl:A,extractedUrl:this.urlHandlingStrategy.extract(A),urlAfterRedirects:this.urlHandlingStrategy.extract(A),rawUrl:A,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Qr,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Tt.p)(ie=>0!==ie.id),(0,ge.T)(ie=>({...ie,extractedUrl:this.urlHandlingStrategy.extract(ie.rawUrl)})),(0,Ge.n)(ie=>{let xe=!1,Pt=!1;return(0,ce.of)(ie).pipe((0,Ge.n)(Et=>{if(this.navigationId>ie.id)return this.cancelNavigationTransition(ie,"",li.SupersededByNewNavigation),Me.w;this.currentTransition=ie,this.currentNavigation={id:Et.id,initialUrl:Et.rawUrl,extractedUrl:Et.extractedUrl,targetBrowserUrl:"string"==typeof Et.extras.browserUrl?this.urlSerializer.parse(Et.extras.browserUrl):Et.extras.browserUrl,trigger:Et.source,extras:Et.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Dn=!C.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Dn&&"reload"!==(Et.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const Dr="";return this.events.next(new _i(Et.id,this.urlSerializer.serialize(Et.rawUrl),Dr,lo.IgnoredSameUrlNavigation)),Et.resolve(!1),Me.w}if(this.urlHandlingStrategy.shouldProcessUrl(Et.rawUrl))return(0,ce.of)(Et).pipe((0,Ge.n)(Dr=>{const Ii=this.transitions?.getValue();return this.events.next(new Wo(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),Ii!==this.transitions?.getValue()?Me.w:Promise.resolve(Dr)}),function ta(E,b,C,A,$,ie){return(0,Se.Z)(xe=>function za(E,b,C,A,$,ie,xe="emptyOnly"){return new cc(E,b,C,A,$,xe,ie).recognize()}(E,b,C,A,xe.extractedUrl,$,ie).pipe((0,ge.T)(({state:Pt,tree:Et})=>({...xe,targetSnapshot:Pt,urlAfterRedirects:Et}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,pn.M)(Dr=>{ie.targetSnapshot=Dr.targetSnapshot,ie.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects};const Ii=new Lo(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(Ii)}));if(Dn&&this.urlHandlingStrategy.shouldProcessUrl(Et.currentRawUrl)){const{id:Dr,extractedUrl:Ii,source:io,restoredState:Oi,extras:Bs}=Et,bs=new Wo(Dr,this.urlSerializer.serialize(Ii),io,Oi);this.events.next(bs);const Aa=Lt(this.rootComponentType).snapshot;return this.currentTransition=ie={...Et,targetSnapshot:Aa,urlAfterRedirects:Ii,extras:{...Bs,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ii,(0,ce.of)(ie)}{const Dr="";return this.events.next(new _i(Et.id,this.urlSerializer.serialize(Et.extractedUrl),Dr,lo.IgnoredByUrlHandlingStrategy)),Et.resolve(!1),Me.w}}),(0,pn.M)(Et=>{const Dn=new Io(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot);this.events.next(Dn)}),(0,ge.T)(Et=>(this.currentTransition=ie={...Et,guards:Qo(Et.targetSnapshot,Et.currentSnapshot,this.rootContexts)},ie)),function Ba(E,b){return(0,Se.Z)(C=>{const{targetSnapshot:A,currentSnapshot:$,guards:{canActivateChecks:ie,canDeactivateChecks:xe}}=C;return 0===xe.length&&0===ie.length?(0,ce.of)({...C,guardsResult:!0}):function cl(E,b,C,A){return(0,be.H)(E).pipe((0,Se.Z)($=>function ne(E,b,C,A,$){const ie=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ie||0===ie.length)return(0,ce.of)(!0);const xe=ie.map(Pt=>{const Et=G(b)??$,Dn=to(Pt,Et);return de(function sc(E){return E&&Co(E.canDeactivate)}(Dn)?Dn.canDeactivate(E,b,C,A):(0,a.N4e)(Et,()=>Dn(E,b,C,A))).pipe((0,Vt.$)())});return(0,ce.of)(xe).pipe(Ki())}($.component,$.route,C,b,A)),(0,Vt.$)($=>!0!==$,!0))}(xe,A,$,E).pipe((0,Se.Z)(Pt=>Pt&&function oc(E){return"boolean"==typeof E}(Pt)?function $a(E,b,C,A){return(0,be.H)(b).pipe(Bt($=>(0,ye.x)(function z(E,b){return null!==E&&b&&b(new gs(E)),(0,ce.of)(!0)}($.route.parent,A),function ll(E,b){return null!==E&&b&&b(new os(E)),(0,ce.of)(!0)}($.route,A),function R(E,b,C){const A=b[b.length-1],ie=b.slice(0,b.length-1).reverse().map(xe=>function xs(E){const b=E.routeConfig?E.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:E,guards:b}:null}(xe)).filter(xe=>null!==xe).map(xe=>ke(()=>{const Pt=xe.guards.map(Et=>{const Dn=G(xe.node)??C,mr=to(Et,Dn);return de(function Zs(E){return E&&Co(E.canActivateChild)}(mr)?mr.canActivateChild(A,E):(0,a.N4e)(Dn,()=>mr(A,E))).pipe((0,Vt.$)())});return(0,ce.of)(Pt).pipe(Ki())}));return(0,ce.of)(ie).pipe(Ki())}(E,$.path,C),function j(E,b,C){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ce.of)(!0);const $=A.map(ie=>ke(()=>{const xe=G(b)??C,Pt=to(ie,xe);return de(function Ys(E){return E&&Co(E.canActivate)}(Pt)?Pt.canActivate(b,E):(0,a.N4e)(xe,()=>Pt(b,E))).pipe((0,Vt.$)())}));return(0,ce.of)($).pipe(Ki())}(E,$.route,C))),(0,Vt.$)($=>!0!==$,!0))}(A,ie,E,b):(0,ce.of)(Pt)),(0,ge.T)(Pt=>({...C,guardsResult:Pt})))})}(this.environmentInjector,Et=>this.events.next(Et)),(0,pn.M)(Et=>{if(ie.guardsResult=Et.guardsResult,Et.guardsResult&&"boolean"!=typeof Et.guardsResult)throw fi(0,Et.guardsResult);const Dn=new Mi(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects),Et.targetSnapshot,!!Et.guardsResult);this.events.next(Dn)}),(0,Tt.p)(Et=>!!Et.guardsResult||(this.cancelNavigationTransition(Et,"",li.GuardRejected),!1)),Es(Et=>{if(Et.guards.canActivateChecks.length)return(0,ce.of)(Et).pipe((0,pn.M)(Dn=>{const mr=new Eo(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(mr)}),(0,Ge.n)(Dn=>{let mr=!1;return(0,ce.of)(Dn).pipe(function Ga(E,b){return(0,Se.Z)(C=>{const{targetSnapshot:A,guards:{canActivateChecks:$}}=C;if(!$.length)return(0,ce.of)(C);const ie=new Set($.map(Et=>Et.route)),xe=new Set;for(const Et of ie)if(!xe.has(Et))for(const Dn of hl(Et))xe.add(Dn);let Pt=0;return(0,be.H)(xe).pipe(Bt(Et=>ie.has(Et)?function gr(E,b,C,A){const $=E.routeConfig,ie=E._resolve;return void 0!==$?.title&&!Vr($)&&(ie[gt]=$.title),function Nc(E,b,C,A){const $=Ln(E);if(0===$.length)return(0,ce.of)({});const ie={};return(0,be.H)($).pipe((0,Se.Z)(xe=>function go(E,b,C,A){const $=G(b)??A,ie=to(E,$);return de(ie.resolve?ie.resolve(b,C):(0,a.N4e)($,()=>ie(b,C)))}(E[xe],b,C,A).pipe((0,Vt.$)(),(0,pn.M)(Pt=>{if(Pt instanceof as)throw fi(new yn,Pt);ie[xe]=Pt}))),me(1),function pe(E){return(0,ge.T)(()=>E)}(ie),Yt(xe=>Ca(xe)?Me.w:Le(xe)))}(ie,E,b,A).pipe((0,ge.T)(xe=>(E._resolvedData=xe,E.data=Wt(E,E.parent,C).resolve,null)))}(Et,A,E,b):(Et.data=Wt(Et,Et.parent,E).resolve,(0,ce.of)(void 0))),(0,pn.M)(()=>Pt++),me(1),(0,Se.Z)(Et=>Pt===xe.size?(0,ce.of)(C):Me.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,pn.M)({next:()=>mr=!0,complete:()=>{mr||this.cancelNavigationTransition(Dn,"",li.NoDataFromResolver)}}))}),(0,pn.M)(Dn=>{const mr=new is(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(mr)}))}),Es(Et=>{const Dn=mr=>{const Dr=[];mr.routeConfig?.loadComponent&&!mr.routeConfig._loadedComponent&&Dr.push(this.configLoader.loadComponent(mr.routeConfig).pipe((0,pn.M)(Ii=>{mr.component=Ii}),(0,ge.T)(()=>{})));for(const Ii of mr.children)Dr.push(...Dn(Ii));return Dr};return(0,Ue.z)(Dn(Et.targetSnapshot.root)).pipe((0,pt.U)(null),(0,it.s)(1))}),Es(()=>this.afterPreactivation()),(0,Ge.n)(()=>{const{currentSnapshot:Et,targetSnapshot:Dn}=ie,mr=this.createViewTransition?.(this.environmentInjector,Et.root,Dn.root);return mr?(0,be.H)(mr).pipe((0,ge.T)(()=>ie)):(0,ce.of)(ie)}),(0,ge.T)(Et=>{const Dn=function Xs(E,b,C){const A=Uo(E,b._root,C?C._root:void 0);return new st(A,b)}(C.routeReuseStrategy,Et.targetSnapshot,Et.currentRouterState);return this.currentTransition=ie={...Et,targetRouterState:Dn},this.currentNavigation.targetRouterState=Dn,ie}),(0,pn.M)(()=>{this.events.next(new Yr)}),((E,b,C,A)=>(0,ge.T)($=>(new xr(b,$.targetRouterState,$.currentRouterState,C,A).activate(E),$)))(this.rootContexts,C.routeReuseStrategy,Et=>this.events.next(Et),this.inputBindingEnabled),(0,it.s)(1),(0,pn.M)({next:Et=>{xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bi(Et.id,this.urlSerializer.serialize(Et.extractedUrl),this.urlSerializer.serialize(Et.urlAfterRedirects))),this.titleStrategy?.updateTitle(Et.targetRouterState.snapshot),Et.resolve(!0)},complete:()=>{xe=!0}}),function qe(E){return(0,Qe.N)((b,C)=>{(0,oe.Tg)(E).subscribe((0,Ve._)(C,()=>C.complete(),le.l)),!C.closed&&b.subscribe(C)})}(this.transitionAbortSubject.pipe((0,pn.M)(Et=>{throw Et}))),Ye(()=>{!xe&&!Pt&&this.cancelNavigationTransition(ie,"",li.SupersededByNewNavigation),this.currentTransition?.id===ie.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yt(Et=>{if(Pt=!0,_s(Et))this.events.next(new ui(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Et.message,Et.cancellationCode)),function eo(E){return _s(E)&&kr(E.url)}(Et)?this.events.next(new sr(Et.url,Et.navigationBehaviorOptions)):ie.resolve(!1);else{const Dn=new Ko(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Et,ie.targetSnapshot??void 0);try{const mr=(0,a.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Dn));if(mr instanceof as){const{message:Dr,cancellationCode:Ii}=fi(0,mr);this.events.next(new ui(ie.id,this.urlSerializer.serialize(ie.extractedUrl),Dr,Ii)),this.events.next(new sr(mr.redirectTo,mr.navigationBehaviorOptions))}else{this.events.next(Dn);const Dr=C.errorHandler(Et);ie.resolve(!!Dr)}}catch(mr){this.options.resolveNavigationPromiseOnError?ie.resolve(!1):ie.reject(mr)}}return Me.w}))}))}cancelNavigationTransition(C,A,$){const ie=new ui(C.id,this.urlSerializer.serialize(C.extractedUrl),A,$);this.events.next(ie),C.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const C=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),A=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return C.toString()!==A?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();function Pe(E){return E!==Qr}let kt=(()=>{class E{static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:()=>(0,a.WQX)(Vn),providedIn:"root"})}}return E})();class Zt{shouldDetach(b){return!1}store(b,C){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,C){return b.routeConfig===C.routeConfig}}let Vn=(()=>{class E extends Zt{static{this.\u0275fac=(()=>{let C;return function($){return(C||(C=a.xGo(E)))($||E)}})()}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),Nr=(()=>{class E{static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:()=>(0,a.WQX)(mi),providedIn:"root"})}}return E})(),mi=(()=>{class E extends Nr{constructor(){super(...arguments),this.location=(0,a.WQX)(Ie.aZ),this.urlSerializer=(0,a.WQX)(Sn),this.options=(0,a.WQX)(ls,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,a.WQX)(Yo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(C){return this.location.subscribe(A=>{"popstate"===A.type&&C(A.url,A.state)})}handleRouterEvent(C,A){if(C instanceof Wo)this.stateMemento=this.createStateMemento();else if(C instanceof _i)this.rawUrlTree=A.initialUrl;else if(C instanceof Lo){if("eager"===this.urlUpdateStrategy&&!A.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(A.finalUrl,A.initialUrl);this.setBrowserUrl(A.targetBrowserUrl??$,A)}}else C instanceof Yr?(this.currentUrlTree=A.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(A.finalUrl,A.initialUrl),this.routerState=A.targetRouterState,"deferred"===this.urlUpdateStrategy&&!A.extras.skipLocationChange&&this.setBrowserUrl(A.targetBrowserUrl??this.rawUrlTree,A)):C instanceof ui&&(C.code===li.GuardRejected||C.code===li.NoDataFromResolver)?this.restoreHistory(A):C instanceof Ko?this.restoreHistory(A,!0):C instanceof bi&&(this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId)}setBrowserUrl(C,A){const $=C instanceof Yn?this.urlSerializer.serialize(C):C;if(this.location.isCurrentPathEqualTo($)||A.extras.replaceUrl){const xe={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId)};this.location.replaceState($,"",xe)}else{const ie={...A.extras.state,...this.generateNgRouterState(A.id,this.browserPageId+1)};this.location.go($,"",ie)}}restoreHistory(C,A=!1){if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-this.browserPageId;0!==ie?this.location.historyGo(ie):this.currentUrlTree===C.finalUrl&&0===ie&&(this.resetState(C),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,A){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:A}:{navigationId:C}}static{this.\u0275fac=(()=>{let C;return function($){return(C||(C=a.xGo(E)))($||E)}})()}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();var Kr=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}(Kr||{});function Er(E,b){E.events.pipe((0,Tt.p)(C=>C instanceof bi||C instanceof ui||C instanceof Ko||C instanceof _i),(0,ge.T)(C=>C instanceof bi||C instanceof _i?Kr.COMPLETE:C instanceof ui&&(C.code===li.Redirect||C.code===li.SupersededByNewNavigation)?Kr.REDIRECTING:Kr.FAILED),(0,Tt.p)(C=>C!==Kr.REDIRECTING),(0,it.s)(1)).subscribe(()=>{b()})}function Gr(E){throw E}const nr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class E{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,a.WQX)(a.H3F),this.stateManager=(0,a.WQX)(Nr),this.options=(0,a.WQX)(ls,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,a.WQX)(H),this.urlSerializer=(0,a.WQX)(Sn),this.location=(0,a.WQX)(Ie.aZ),this.urlHandlingStrategy=(0,a.WQX)(Yo),this._events=new ct.B,this.errorHandler=this.options.errorHandler||Gr,this.navigated=!1,this.routeReuseStrategy=(0,a.WQX)(kt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,a.WQX)(Da,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,a.WQX)(Ji,{optional:!0}),this.eventsSubscription=new nt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:C=>{this.console.warn(C)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(A=>{try{const $=this.navigationTransitions.currentTransition,ie=this.navigationTransitions.currentNavigation;if(null!==$&&null!==ie)if(this.stateManager.handleRouterEvent(A,ie),A instanceof ui&&A.code!==li.Redirect&&A.code!==li.SupersededByNewNavigation)this.navigated=!0;else if(A instanceof bi)this.navigated=!0;else if(A instanceof sr){const xe=A.navigationBehaviorOptions,Pt=this.urlHandlingStrategy.merge(A.url,$.currentRawUrl),Et={browserUrl:$.extras.browserUrl,info:$.extras.info,skipLocationChange:$.extras.skipLocationChange,replaceUrl:$.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Pe($.source),...xe};this.scheduleNavigation(Pt,Qr,null,Et,{resolve:$.resolve,reject:$.reject,promise:$.promise})}(function Si(E){return!(E instanceof Yr||E instanceof sr)})(A)&&this._events.next(A)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((C,A)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(C,"popstate",A)},0)})}navigateToSyncWithBrowser(C,A,$){const ie={replaceUrl:!0},xe=$?.navigationId?$:null;if($){const Et={...$};delete Et.navigationId,delete Et.\u0275routerPageId,0!==Object.keys(Et).length&&(ie.state=Et)}const Pt=this.parseUrl(C);this.scheduleNavigation(Pt,A,xe,ie)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(Cs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,A={}){const{relativeTo:$,queryParams:ie,fragment:xe,queryParamsHandling:Pt,preserveFragment:Et}=A,Dn=Et?this.currentUrlTree.fragment:xe;let Dr,mr=null;switch(Pt??this.options.defaultQueryParamsHandling){case"merge":mr={...this.currentUrlTree.queryParams,...ie};break;case"preserve":mr=this.currentUrlTree.queryParams;break;default:mr=ie||null}null!==mr&&(mr=this.removeEmptyProps(mr));try{Dr=Wr($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||"/"!==C[0][0])&&(C=[]),Dr=this.currentUrlTree.root}return Wi(Dr,C,mr,Dn??null)}navigateByUrl(C,A={skipLocationChange:!1}){const $=kr(C)?C:this.parseUrl(C),ie=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ie,Qr,null,A)}navigate(C,A={skipLocationChange:!1}){return function Sr(E){for(let b=0;b<E.length;b++)if(null==E[b])throw new a.wOt(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,A),A)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){try{return this.urlSerializer.parse(C)}catch{return this.urlSerializer.parse("/")}}isActive(C,A){let $;if($=!0===A?{...nr}:!1===A?{...rn}:A,kr(C))return sn(this.currentUrlTree,C,$);const ie=this.parseUrl(C);return sn(this.currentUrlTree,ie,$)}removeEmptyProps(C){return Object.entries(C).reduce((A,[$,ie])=>(null!=ie&&(A[$]=ie),A),{})}scheduleNavigation(C,A,$,ie,xe){if(this.disposed)return Promise.resolve(!1);let Pt,Et,Dn;xe?(Pt=xe.resolve,Et=xe.reject,Dn=xe.promise):Dn=new Promise((Dr,Ii)=>{Pt=Dr,Et=Ii});const mr=this.pendingTasks.add();return Er(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(mr))}),this.navigationTransitions.handleNavigationRequest({source:A,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:ie,resolve:Pt,reject:Et,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Dr=>Promise.reject(Dr))}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),Jr=(()=>{class E{constructor(C,A,$,ie,xe,Pt){this.router=C,this.route=A,this.tabIndexAttribute=$,this.renderer=ie,this.el=xe,this.locationStrategy=Pt,this.href=null,this.onChanges=new ct.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Et=xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Et||"area"===Et,this.isAnchorElement?this.subscription=C.events.subscribe(Dn=>{Dn instanceof bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null==C?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=kr(C)||Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0"))}onClick(C,A,$,ie,xe){const Pt=this.urlTree;return!!(null===Pt||this.isAnchorElement&&(0!==C||A||$||ie||xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Pt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const C=this.urlTree;this.href=null!==C&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(C)):null;const A=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",A)}applyAttributeValue(C,A){const $=this.renderer,ie=this.el.nativeElement;null!==A?$.setAttribute(ie,C,A):$.removeAttribute(ie,C)}get urlTree(){return null===this.routerLinkInput?null:kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(A){return new(A||E)(a.rXU(Mn),a.rXU(jt),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(Ie.hb))}}static{this.\u0275dir=a.FsC({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(A,$){1&A&&a.bIt("click",function(xe){return $.onClick(xe.button,xe.ctrlKey,xe.shiftKey,xe.altKey,xe.metaKey)}),2&A&&a.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a.L39],replaceUrl:[2,"replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}}return E})();class $r{}let Ci=(()=>{class E{preload(C,A){return A().pipe(Yt(()=>(0,ce.of)(null)))}static{this.\u0275fac=function(A){return new(A||E)}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})(),Tn=(()=>{class E{constructor(C,A,$,ie,xe){this.router=C,this.injector=$,this.preloadingStrategy=ie,this.loader=xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.p)(C=>C instanceof bi),Bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,A){const $=[];for(const ie of A){ie.providers&&!ie._injector&&(ie._injector=(0,a.Ol2)(ie.providers,C,`Route: ${ie.path}`));const xe=ie._injector??C,Pt=ie._loadedInjector??xe;(ie.loadChildren&&!ie._loadedRoutes&&void 0===ie.canLoad||ie.loadComponent&&!ie._loadedComponent)&&$.push(this.preloadConfig(xe,ie)),(ie.children||ie._loadedRoutes)&&$.push(this.processRoutes(Pt,ie.children??ie._loadedRoutes))}return(0,be.H)($).pipe((0,Ee.U)())}preloadConfig(C,A){return this.preloadingStrategy.preload(A,()=>{let $;$=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(C,A):(0,ce.of)(null);const ie=$.pipe((0,Se.Z)(xe=>null===xe?(0,ce.of)(void 0):(A._loadedRoutes=xe.routes,A._loadedInjector=xe.injector,this.processRoutes(xe.injector??C,xe.routes))));if(A.loadComponent&&!A._loadedComponent){const xe=this.loader.loadComponent(A);return(0,be.H)([ie,xe]).pipe((0,Ee.U)())}return ie})}static{this.\u0275fac=function(A){return new(A||E)(a.KVO(Mn),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO($r),a.KVO(na))}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})();const Ls=new a.nKC("");let gl=(()=>{class E{constructor(C,A,$,ie,xe={}){this.urlSerializer=C,this.transitions=A,this.viewportScroller=$,this.zone=ie,this.options=xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},xe.scrollPositionRestoration||="disabled",xe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof bi?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof _i&&C.code===lo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof ss&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,A){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ss(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(A){a.QTQ()}}static{this.\u0275prov=a.jDH({token:E,factory:E.\u0275fac})}}return E})();function Do(E,b){return{\u0275kind:E,\u0275providers:b}}function Xi(){const E=(0,a.WQX)(a.zZn);return b=>{const C=E.get(a.o8S);if(b!==C.components[0])return;const A=E.get(Mn),$=E.get(sa);1===E.get(vo)&&A.initialNavigation(),E.get(Ds,null,a.$GK.Optional)?.setUpPreloading(),E.get(Ls,null,a.$GK.Optional)?.init(),A.resetRootComponentType(C.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const sa=new a.nKC("",{factory:()=>new ct.B}),vo=new a.nKC("",{providedIn:"root",factory:()=>1}),Ds=new a.nKC("");function Ka(E){return Do(0,[{provide:Ds,useExisting:Tn},{provide:$r,useExisting:E}])}function yo(E){return Do(9,[{provide:oa,useValue:D},{provide:pl,useValue:{skipNextTransition:!!E?.skipInitialTransition,...E}}])}const wo=new a.nKC("ROUTER_FORROOT_GUARD"),dc=[Ie.aZ,{provide:Sn,useClass:yn},Mn,se,{provide:jt,useFactory:function hi(E){return E.routerState.root},deps:[Mn]},na,[]];let Mo=(()=>{class E{constructor(C){}static forRoot(C,A){return{ngModule:E,providers:[dc,[],{provide:Da,multi:!0,useValue:C},{provide:wo,useFactory:kc,deps:[[Mn,new a.Xx1,new a.kdw]]},{provide:ls,useValue:A||{}},A?.useHash?{provide:Ie.hb,useClass:Ie.fw}:{provide:Ie.hb,useClass:Ie.Sm},{provide:Ls,useFactory:()=>{const E=(0,a.WQX)(Ie.Xr),b=(0,a.WQX)(a.SKi),C=(0,a.WQX)(ls),A=(0,a.WQX)(H),$=(0,a.WQX)(Sn);return C.scrollOffset&&E.setOffset(C.scrollOffset),new gl($,A,E,b,C)}},A?.preloadingStrategy?Ka(A.preloadingStrategy).\u0275providers:[],A?.initialNavigation?ba(A):[],A?.bindToComponentInputs?Do(8,[Ai,{provide:Ji,useExisting:Ai}]).\u0275providers:[],A?.enableViewTransitions?yo().\u0275providers:[],[{provide:ws,useFactory:Xi},{provide:a.iLQ,multi:!0,useExisting:ws}]]}}static forChild(C){return{ngModule:E,providers:[{provide:Da,multi:!0,useValue:C}]}}static{this.\u0275fac=function(A){return new(A||E)(a.KVO(wo,8))}}static{this.\u0275mod=a.$C({type:E})}static{this.\u0275inj=a.G2t({})}}return E})();function kc(E){return"guarded"}function ba(E){return["disabled"===E.initialNavigation?Do(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const b=(0,a.WQX)(Mn);return()=>{b.setUpLocationChangeListener()}}},{provide:vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Do(2,[{provide:vo,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:b=>{const C=b.get(Ie.hj,Promise.resolve());return()=>C.then(()=>new Promise(A=>{const $=b.get(Mn),ie=b.get(sa);Er($,()=>{A(!0)}),b.get(H).afterPreactivation=()=>(A(!0),ie.closed?(0,ce.of)(void 0):ie),$.initialNavigation()}))}}]).\u0275providers:[]]}const ws=new a.nKC("")},2872:(fn,ft,N)=>{"use strict";N.d(ft,{Yq:()=>Ft,TS:()=>xn,sR:()=>Xt,el:()=>mn,Sb:()=>lr,QE:()=>$n,CF:()=>Mr,Rg:()=>qt,p4:()=>nn,q9:()=>$t,Kb:()=>yi,CE:()=>In,pF:()=>wr,fL:()=>oi,YV:()=>ze,er:()=>kr,z3:()=>Wr});var a=N(467),L=N(4438),re=N(4964),Q=N(177),be=N(5531),ce=N(4442);var Se=N(1413),Vt=N(3726),Bt=N(4412),pn=N(4572),Yt=N(7673),Cn=N(1635),pt=N(5964),me=N(5558),fe=N(3294),_e=N(4341);const Z=["tabsInner"];let qe=(()=>{class Ne{doc;_readyPromise;win;backButton=new Se.B;keyboardDidShow=new Se.B;keyboardDidHide=new Se.B;pause=new Se.B;resume=new Se.B;resize=new Se.B;constructor(O,q){this.doc=O,q.run(()=>{let we;this.win=O.defaultView,this.backButton.subscribeWithPriority=function(ae,Je){return this.subscribe(bt=>bt.register(ae,ln=>q.run(()=>Je(ln))))},Nt(this.pause,O,"pause",q),Nt(this.resume,O,"resume",q),Nt(this.backButton,O,"ionBackButton",q),Nt(this.resize,this.win,"resize",q),Nt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",q),Nt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",q),this._readyPromise=new Promise(ae=>{we=ae}),this.win?.cordova?O.addEventListener("deviceready",()=>{we("cordova")},{once:!0}):we("dom")})}is(O){return(0,be.a)(this.win,O)}platforms(){return(0,be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(O){return Ee(this.win.location.href,O)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(O){const q=this.win.navigator;return!!(q?.userAgent&&q.userAgent.indexOf(O)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(q){return new(q||Ne)(L.KVO(Q.qQ),L.KVO(L.SKi))};static \u0275prov=L.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const Ee=(Ne,J)=>{J=J.replace(/[[\]\\]/g,"\\$&");const q=new RegExp("[\\?&]"+J+"=([^&#]*)").exec(Ne);return q?decodeURIComponent(q[1].replace(/\+/g," ")):null},Nt=(Ne,J,O,q)=>{J&&J.addEventListener(O,we=>{q.run(()=>{const ae=we?.detail;Ne.next(ae)})})};let $t=(()=>{class Ne{location;serializer;router;topOutlet;direction=Ut;animated=un;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(O,q,we,ae){this.location=q,this.serializer=we,this.router=ae,ae&&ae.events.subscribe(Je=>{if(Je instanceof re.Z){const bt=Je.restoredState?Je.restoredState.navigationId:Je.id;this.guessDirection=this.guessAnimation=bt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Je.id:bt}}),O.backButton.subscribeWithPriority(0,Je=>{this.pop(),Je()})}navigateForward(O,q={}){return this.setDirection("forward",q.animated,q.animationDirection,q.animation),this.navigate(O,q)}navigateBack(O,q={}){return this.setDirection("back",q.animated,q.animationDirection,q.animation),this.navigate(O,q)}navigateRoot(O,q={}){return this.setDirection("root",q.animated,q.animationDirection,q.animation),this.navigate(O,q)}back(O={animated:!0,animationDirection:"back"}){return this.setDirection("back",O.animated,O.animationDirection,O.animation),this.location.back()}pop(){var O=this;return(0,a.A)(function*(){let q=O.topOutlet;for(;q;){if(yield q.pop())return!0;q=q.parentOutlet}return!1})()}setDirection(O,q,we,ae){this.direction=O,this.animated=gt(O,q,we),this.animationBuilder=ae}setTopOutlet(O){this.topOutlet=O}consumeTransition(){let q,O="root";const we=this.animationBuilder;return"auto"===this.direction?(O=this.guessDirection,q=this.guessAnimation):(q=this.animated,O=this.direction),this.direction=Ut,this.animated=un,this.animationBuilder=void 0,{direction:O,animation:q,animationBuilder:we}}navigate(O,q){if(Array.isArray(O))return this.router.navigate(O,q);{const we=this.serializer.parse(O.toString());return void 0!==q.queryParams&&(we.queryParams={...q.queryParams}),void 0!==q.fragment&&(we.fragment=q.fragment),this.router.navigateByUrl(we,q)}}static \u0275fac=function(q){return new(q||Ne)(L.KVO(qe),L.KVO(Q.aZ),L.KVO(re.Sd),L.KVO(re.Ix,8))};static \u0275prov=L.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const gt=(Ne,J,O)=>{if(!1!==J){if(void 0!==O)return O;if("forward"===Ne||"back"===Ne)return Ne;if("root"===Ne&&!0===J)return"forward"}},Ut="auto",un=void 0;let xn=(()=>{class Ne{get(O,q){const we=Ot();return we?we.get(O,q):null}getBoolean(O,q){const we=Ot();return!!we&&we.getBoolean(O,q)}getNumber(O,q){const we=Ot();return we?we.getNumber(O,q):0}static \u0275fac=function(q){return new(q||Ne)};static \u0275prov=L.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}return Ne})();const Xt=new L.nKC("USERCONFIG"),Ot=()=>{if(typeof window<"u"){const Ne=window.Ionic;if(Ne?.config)return Ne.config}return null};class Ln{data;constructor(J={}){this.data=J,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(J){return this.data[J]}}let Ft=(()=>{class Ne{zone=(0,L.WQX)(L.SKi);applicationRef=(0,L.WQX)(L.o8S);config=(0,L.WQX)(Xt);create(O,q,we){return new ht(O,q,this.applicationRef,this.zone,we,this.config.useSetInputAPI??!1)}static \u0275fac=function(q){return new(q||Ne)};static \u0275prov=L.jDH({token:Ne,factory:Ne.\u0275fac})}return Ne})();class ht{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(J,O,q,we,ae,Je){this.environmentInjector=J,this.injector=O,this.applicationRef=q,this.zone=we,this.elementReferenceKey=ae,this.enableSignalsSupport=Je}attachViewToDom(J,O,q,we){return this.zone.run(()=>new Promise(ae=>{const Je={...q};void 0!==this.elementReferenceKey&&(Je[this.elementReferenceKey]=J),ae(de(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,J,O,Je,we,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(J,O){return this.zone.run(()=>new Promise(q=>{const we=this.elRefMap.get(O);if(we){we.destroy(),this.elRefMap.delete(O);const ae=this.elEventsMap.get(O);ae&&(ae(),this.elEventsMap.delete(O))}q()}))}}const de=(Ne,J,O,q,we,ae,Je,bt,ln,Jt,er,zn)=>{const wi=L.zZn.create({providers:Jn(ln),parent:O}),Qr=(0,L.a0P)(bt,{environmentInjector:J,elementInjector:wi}),hr=Qr.instance,ti=Qr.location.nativeElement;if(ln)if(er&&void 0!==hr[er]&&console.error(`[Ionic Error]: ${er} is a reserved property when using ${Je.tagName.toLowerCase()}. Rename or remove the "${er}" property from ${bt.name}.`),!0===zn&&void 0!==Qr.setInput){const{modal:bi,popover:li,...lo}=ln;for(const ui in lo)Qr.setInput(ui,lo[ui]);void 0!==bi&&Object.assign(hr,{modal:bi}),void 0!==li&&Object.assign(hr,{popover:li})}else Object.assign(hr,ln);if(Jt)for(const bi of Jt)ti.classList.add(bi);const Wo=Rt(Ne,hr,ti);return Je.appendChild(ti),q.attachView(Qr.hostView),we.set(ti,Qr),ae.set(ti,Wo),ti},ut=[ce.L,ce.a,ce.b,ce.c,ce.d],Rt=(Ne,J,O)=>Ne.run(()=>{const q=ut.filter(we=>"function"==typeof J[we]).map(we=>{const ae=Je=>J[we](Je.detail);return O.addEventListener(we,ae),()=>O.removeEventListener(we,ae)});return()=>q.forEach(we=>we())}),sn=new L.nKC("NavParamsToken"),Jn=Ne=>[{provide:sn,useValue:Ne},{provide:Ln,useFactory:kn,deps:[sn]}],kn=Ne=>new Ln(Ne),vn=(Ne,J)=>{const O=Ne.prototype;J.forEach(q=>{Object.defineProperty(O,q,{get(){return this.el[q]},set(we){this.z.runOutsideAngular(()=>this.el[q]=we)}})})},gn=(Ne,J)=>{const O=Ne.prototype;J.forEach(q=>{O[q]=function(){const we=arguments;return this.z.runOutsideAngular(()=>this.el[q].apply(this.el,we))}})},Wn=(Ne,J,O)=>{O.forEach(q=>Ne[q]=(0,Vt.R)(J,q))};function Kn(Ne){return function(O){const{defineCustomElementFn:q,inputs:we,methods:ae}=Ne;return void 0!==q&&q(),we&&vn(O,we),ae&&gn(O,ae),O}}const Yn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],rr=["present","dismiss","onDidDismiss","onWillDismiss"];let Mr=(()=>{let Ne=class Y0{z;template;isCmpOpen=!1;el;constructor(O,q,we){this.z=we,this.el=q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,O.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,O.detectChanges()}),Wn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(q){return new(q||Y0)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))};static \u0275dir=L.FsC({type:Y0,selectors:[["ion-popover"]],contentQueries:function(q,we,ae){if(1&q&&L.wni(ae,L.C4Q,5),2&q){let Je;L.mGM(Je=L.lsd())&&(we.template=Je.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return Ne=(0,Cn.Cg)([Kn({inputs:Yn,methods:rr})],Ne),Ne})();const An=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],or=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let lr=(()=>{let Ne=class Z0{z;template;isCmpOpen=!1;el;constructor(O,q,we){this.z=we,this.el=q.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,O.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,O.detectChanges()}),Wn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(q){return new(q||Z0)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))};static \u0275dir=L.FsC({type:Z0,selectors:[["ion-modal"]],contentQueries:function(q,we,ae){if(1&q&&L.wni(ae,L.C4Q,5),2&q){let Je;L.mGM(Je=L.lsd())&&(we.template=Je.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return Ne=(0,Cn.Cg)([Kn({inputs:An,methods:or})],Ne),Ne})();const yn=(Ne,J)=>((Ne=Ne.filter(O=>O.stackId!==J.stackId)).push(J),Ne),Qn=(Ne,J)=>{const O=Ne.createUrlTree(["."],{relativeTo:J});return Ne.serializeUrl(O)},ar=(Ne,J)=>!J||Ne.stackId!==J.stackId,an=(Ne,J)=>{if(!Ne)return;const O=ii(J);for(let q=0;q<O.length;q++){if(q>=Ne.length)return O[q];if(O[q]!==Ne[q])return}},ii=Ne=>Ne.split("/").map(J=>J.trim()).filter(J=>""!==J),St=Ne=>{Ne&&(Ne.ref.destroy(),Ne.unlistenEvents())};class et{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(J,O,q,we,ae,Je){this.containerEl=O,this.router=q,this.navCtrl=we,this.zone=ae,this.location=Je,this.tabsPrefix=void 0!==J?ii(J):void 0}createView(J,O){const q=Qn(this.router,O),we=J?.location?.nativeElement,ae=Rt(this.zone,J.instance,we);return{id:this.nextId++,stackId:an(this.tabsPrefix,q),unlistenEvents:ae,element:we,ref:J,url:q}}getExistingView(J){const O=Qn(this.router,J),q=this.views.find(we=>we.url===O);return q&&q.ref.changeDetectorRef.reattach(),q}setActive(J){const O=this.navCtrl.consumeTransition();let{direction:q,animation:we,animationBuilder:ae}=O;const Je=this.activeView,bt=ar(J,Je);bt&&(q="back",we=void 0);const ln=this.views.slice();let Jt;const er=this.router;er.getCurrentNavigation?Jt=er.getCurrentNavigation():er.navigations?.value&&(Jt=er.navigations.value),Jt?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const zn=this.views.includes(J),wi=this.insertView(J,q);zn||J.ref.changeDetectorRef.detectChanges();const Qr=J.animationBuilder;return void 0===ae&&"back"===q&&!bt&&void 0!==Qr&&(ae=Qr),Je&&(Je.animationBuilder=ae),this.zone.runOutsideAngular(()=>this.wait(()=>(Je&&Je.ref.changeDetectorRef.detach(),J.ref.changeDetectorRef.reattach(),this.transition(J,Je,we,this.canGoBack(1),!1,ae).then(()=>Fe(J,wi,ln,this.location,this.zone)).then(()=>({enteringView:J,direction:q,animation:we,tabSwitch:bt})))))}canGoBack(J,O=this.getActiveStackId()){return this.getStack(O).length>J}pop(J,O=this.getActiveStackId()){return this.zone.run(()=>{const q=this.getStack(O);if(q.length<=J)return Promise.resolve(!1);const we=q[q.length-J-1];let ae=we.url;const Je=we.savedData;if(Je){const ln=Je.get("primary");ln?.route?._routerState?.snapshot.url&&(ae=ln.route._routerState.snapshot.url)}const{animationBuilder:bt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ae,{...we.savedExtras,animation:bt}).then(()=>!0)})}startBackTransition(){const J=this.activeView;if(J){const O=this.getStack(J.stackId),q=O[O.length-2],we=q.animationBuilder;return this.wait(()=>this.transition(q,J,"back",this.canGoBack(2),!0,we))}return Promise.resolve()}endBackTransition(J){J?(this.skipTransition=!0,this.pop(1)):this.activeView&&rt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(J){const O=this.getStack(J);return O.length>0?O[O.length-1]:void 0}getRootUrl(J){const O=this.getStack(J);return O.length>0?O[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(St),this.activeView=void 0,this.views=[]}getStack(J){return this.views.filter(O=>O.stackId===J)}insertView(J,O){return this.activeView=J,this.views=((Ne,J,O)=>"root"===O?yn(Ne,J):"forward"===O?((Ne,J)=>(Ne.indexOf(J)>=0?Ne=Ne.filter(q=>q.stackId!==J.stackId||q.id<=J.id):Ne.push(J),Ne))(Ne,J):((Ne,J)=>Ne.indexOf(J)>=0?Ne.filter(q=>q.stackId!==J.stackId||q.id<=J.id):yn(Ne,J))(Ne,J))(this.views,J,O),this.views.slice()}transition(J,O,q,we,ae,Je){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(O===J)return Promise.resolve(!1);const bt=J?J.element:void 0,ln=O?O.element:void 0,Jt=this.containerEl;return bt&&bt!==ln&&(bt.classList.add("ion-page"),bt.classList.add("ion-page-invisible"),Jt.commit)?Jt.commit(bt,ln,{duration:void 0===q?0:void 0,direction:q,showGoBack:we,progressAnimation:ae,animationBuilder:Je}):Promise.resolve(!1)}wait(J){var O=this;return(0,a.A)(function*(){void 0!==O.runningTask&&(yield O.runningTask,O.runningTask=void 0);const q=O.runningTask=J();return q.finally(()=>O.runningTask=void 0),q})()}}const Fe=(Ne,J,O,q,we)=>"function"==typeof requestAnimationFrame?new Promise(ae=>{requestAnimationFrame(()=>{rt(Ne,J,O,q,we),ae()})}):Promise.resolve(),rt=(Ne,J,O,q,we)=>{we.run(()=>O.filter(ae=>!J.includes(ae)).forEach(St)),J.forEach(ae=>{const bt=q.path().split("?")[0].split("#")[0];if(ae!==Ne&&ae.url!==bt){const ln=ae.element;ln.setAttribute("aria-hidden","true"),ln.classList.add("ion-page-hidden"),ae.ref.changeDetectorRef.detach()}})};let qt=(()=>{class Ne{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Bt.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re.Xk;stackWillChange=new L.bkB;stackDidChange=new L.bkB;activateEvents=new L.bkB;deactivateEvents=new L.bkB;parentContexts=(0,L.WQX)(re.Zp);location=(0,L.WQX)(L.c1b);environmentInjector=(0,L.WQX)(L.uvJ);inputBinder=(0,L.WQX)(Ae,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,L.WQX)(xn);navCtrl=(0,L.WQX)($t);set animation(O){this.nativeEl.animation=O}set animated(O){this.nativeEl.animated=O}set swipeGesture(O){this._swipeGesture=O,this.nativeEl.swipeHandler=O?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:q=>this.stackCtrl.endBackTransition(q)}:void 0}constructor(O,q,we,ae,Je,bt,ln,Jt){this.parentOutlet=Jt,this.nativeEl=ae.nativeElement,this.name=O||re.Xk,this.tabsPrefix="true"===q?Qn(Je,ln):void 0,this.stackCtrl=new et(this.tabsPrefix,this.nativeEl,Je,this.navCtrl,bt,we),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const O=this.getContext();O?.route&&this.activateWith(O.route,O.injector)}new Promise(O=>((Ne,J)=>{Ne.componentOnReady?Ne.componentOnReady().then(O=>J(O)):(Ne=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne)})(()=>J(Ne))})(this.nativeEl,O)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(O,q){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const q=this.getContext();this.activatedView.savedData=new Map(q.children.contexts);const we=this.activatedView.savedData.get("primary");if(we&&q.route&&(we.route={...q.route}),this.activatedView.savedExtras={},q.route){const ae=q.route.snapshot;this.activatedView.savedExtras.queryParams=ae.queryParams,this.activatedView.savedExtras.fragment=ae.fragment}}const O=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,q){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=O;let we,ae=this.stackCtrl.getExistingView(O);if(ae){we=this.activated=ae.ref;const bt=ae.savedData;bt&&(this.getContext().children.contexts=bt),this.updateActivatedRouteProxy(we.instance,O)}else{const bt=O._futureSnapshot,ln=this.parentContexts.getOrCreateContext(this.name).children,Jt=new Bt.t(null),er=this.createActivatedRouteProxy(Jt,O),zn=new dn(er,ln,this.location.injector);we=this.activated=this.outletContent.createComponent(bt.routeConfig.component??bt.component,{index:this.outletContent.length,injector:zn,environmentInjector:q??this.environmentInjector}),Jt.next(we.instance),ae=this.stackCtrl.createView(this.activated,O),this.proxyMap.set(we.instance,er),this.currentActivatedRoute$.next({component:we.instance,activatedRoute:O})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=ae,this.navCtrl.setTopOutlet(this);const Je=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:ae,tabSwitch:ar(ae,Je)}),this.stackCtrl.setActive(ae).then(bt=>{this.activateEvents.emit(we.instance),this.stackDidChange.emit(bt)})}canGoBack(O=1,q){return this.stackCtrl.canGoBack(O,q)}pop(O=1,q){return this.stackCtrl.pop(O,q)}getLastUrl(O){const q=this.stackCtrl.getLastUrl(O);return q?q.url:void 0}getLastRouteView(O){return this.stackCtrl.getLastUrl(O)}getRootView(O){return this.stackCtrl.getRootUrl(O)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(O,q){const we=new re.nX;return we._futureSnapshot=q._futureSnapshot,we._routerState=q._routerState,we.snapshot=q.snapshot,we.outlet=q.outlet,we.component=q.component,we._paramMap=this.proxyObservable(O,"paramMap"),we._queryParamMap=this.proxyObservable(O,"queryParamMap"),we.url=this.proxyObservable(O,"url"),we.params=this.proxyObservable(O,"params"),we.queryParams=this.proxyObservable(O,"queryParams"),we.fragment=this.proxyObservable(O,"fragment"),we.data=this.proxyObservable(O,"data"),we}proxyObservable(O,q){return O.pipe((0,pt.p)(we=>!!we),(0,me.n)(we=>this.currentActivatedRoute$.pipe((0,pt.p)(ae=>null!==ae&&ae.component===we),(0,me.n)(ae=>ae&&ae.activatedRoute[q]),(0,fe.F)())))}updateActivatedRouteProxy(O,q){const we=this.proxyMap.get(O);if(!we)throw new Error("Could not find activated route proxy for view");we._futureSnapshot=q._futureSnapshot,we._routerState=q._routerState,we.snapshot=q.snapshot,we.outlet=q.outlet,we.component=q.component,this.currentActivatedRoute$.next({component:O,activatedRoute:q})}static \u0275fac=function(q){return new(q||Ne)(L.kS0("name"),L.kS0("tabs"),L.rXU(Q.aZ),L.rXU(L.aKT),L.rXU(re.Ix),L.rXU(L.SKi),L.rXU(re.nX),L.rXU(Ne,12))};static \u0275dir=L.FsC({type:Ne,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return Ne})();class dn{route;childContexts;parent;constructor(J,O,q){this.route=J,this.childContexts=O,this.parent=q}get(J,O){return J===re.nX?this.route:J===re.Zp?this.childContexts:this.parent.get(J,O)}}const Ae=new L.nKC("");let De=(()=>{class Ne{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:q}=O,we=(0,pn.z)([q.queryParams,q.params,q.data]).pipe((0,me.n)(([ae,Je,bt],ln)=>(bt={...ae,...Je,...bt},0===ln?(0,Yt.of)(bt):Promise.resolve(bt)))).subscribe(ae=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==q||null===q.component)return void this.unsubscribeFromRouteData(O);const Je=(0,L.HJs)(q.component);if(Je)for(const{templateName:bt}of Je.inputs)O.activatedComponentRef.setInput(bt,ae[bt]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,we)}static \u0275fac=function(q){return new(q||Ne)};static \u0275prov=L.jDH({token:Ne,factory:Ne.\u0275fac})}return Ne})();const ze=()=>({provide:Ae,useFactory:Mt,deps:[re.Ix]});function Mt(Ne){return Ne?.componentInputBindingEnabled?new De:null}const mt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let mn=(()=>{let Ne=class J0{routerOutlet;navCtrl;config;r;z;el;constructor(O,q,we,ae,Je,bt){this.routerOutlet=O,this.navCtrl=q,this.config=we,this.r=ae,this.z=Je,bt.detach(),this.el=this.r.nativeElement}onClick(O){const q=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),O.preventDefault()):null!=q&&(this.navCtrl.navigateBack(q,{animation:this.routerAnimation}),O.preventDefault())}static \u0275fac=function(q){return new(q||J0)(L.rXU(qt,8),L.rXU($t),L.rXU(xn),L.rXU(L.aKT),L.rXU(L.SKi),L.rXU(L.gRc))};static \u0275dir=L.FsC({type:J0,hostBindings:function(q,we){1&q&&L.bIt("click",function(Je){return we.onClick(Je)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return Ne=(0,Cn.Cg)([Kn({inputs:mt})],Ne),Ne})(),In=(()=>{class Ne{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(O,q,we,ae,Je){this.locationStrategy=O,this.navCtrl=q,this.elementRef=we,this.router=ae,this.routerLink=Je}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const q=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(q.tagName)&&"0"===q.getAttribute("tabindex")&&q.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const O=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=O}}onClick(O){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),O.preventDefault()}static \u0275fac=function(q){return new(q||Ne)(L.rXU(Q.hb),L.rXU($t),L.rXU(L.aKT),L.rXU(re.Ix),L.rXU(re.Wk,8))};static \u0275dir=L.FsC({type:Ne,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(q,we){1&q&&L.bIt("click",function(Je){return we.onClick(Je)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})}return Ne})(),wr=(()=>{class Ne{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(O,q,we,ae,Je){this.locationStrategy=O,this.navCtrl=q,this.elementRef=we,this.router=ae,this.routerLink=Je}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const O=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=O}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(q){return new(q||Ne)(L.rXU(Q.hb),L.rXU($t),L.rXU(L.aKT),L.rXU(re.Ix),L.rXU(re.Wk,8))};static \u0275dir=L.FsC({type:Ne,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(q,we){1&q&&L.bIt("click",function(){return we.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})}return Ne})();const lt=["animated","animation","root","rootParams","swipeGesture"],cr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let $n=(()=>{let Ne=class eC{z;el;constructor(O,q,we,ae,Je,bt){this.z=Je,bt.detach(),this.el=O.nativeElement,O.nativeElement.delegate=ae.create(q,we),Wn(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(q){return new(q||eC)(L.rXU(L.aKT),L.rXU(L.uvJ),L.rXU(L.zZn),L.rXU(Ft),L.rXU(L.SKi),L.rXU(L.gRc))};static \u0275dir=L.FsC({type:eC,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return Ne=(0,Cn.Cg)([Kn({inputs:lt,methods:cr})],Ne),Ne})(),nn=(()=>{class Ne{navCtrl;tabsInner;ionTabsWillChange=new L.bkB;ionTabsDidChange=new L.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(O){this.navCtrl=O}ngAfterViewInit(){const O=this.tabs.length>0?this.tabs.first:void 0;O&&(this.hasTab=!0,this.setActiveTab(O.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:O,tabSwitch:q}){const we=O.stackId;q&&void 0!==we&&this.ionTabsWillChange.emit({tab:we})}onStackDidChange({enteringView:O,tabSwitch:q}){const we=O.stackId;q&&void 0!==we&&(this.tabBar&&(this.tabBar.selectedTab=we),this.ionTabsDidChange.emit({tab:we}))}select(O){const q="string"==typeof O,we=q?O:O.detail.tab;if(this.hasTab)return this.setActiveTab(we),void this.tabSwitch();const ae=this.outlet.getActiveStackId()===we,Je=`${this.outlet.tabsPrefix}/${we}`;if(q||O.stopPropagation(),ae){const bt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(bt)?.url===Je)return;const Jt=this.outlet.getRootView(we);return this.navCtrl.navigateRoot(Je,{...Jt&&Je===Jt.url&&Jt.savedExtras,animated:!0,animationDirection:"back"})}{const bt=this.outlet.getLastRouteView(we),ln=bt?.url||Je,Jt=bt?.savedExtras;return this.navCtrl.navigateRoot(ln,{...Jt,animated:!0,animationDirection:"back"})}}setActiveTab(O){const we=this.tabs.find(ae=>ae.tab===O);we?(this.leavingTab=this.selectedTab,this.selectedTab=we,this.ionTabsWillChange.emit({tab:O}),we.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${O}" does not exist`)}tabSwitch(){const{selectedTab:O,leavingTab:q}=this;this.tabBar&&O&&(this.tabBar.selectedTab=O.tab),q?.tab!==O?.tab&&q?.el&&(q.el.active=!1),O&&this.ionTabsDidChange.emit({tab:O.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(O=>{const q=O.el.getAttribute("slot");q!==this.tabBarSlot&&(this.tabBarSlot=q,this.relocateTabBar())})}relocateTabBar(){const O=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(O):this.tabsInner.nativeElement.after(O)}static \u0275fac=function(q){return new(q||Ne)(L.rXU($t))};static \u0275dir=L.FsC({type:Ne,selectors:[["ion-tabs"]],viewQuery:function(q,we){if(1&q&&L.GBs(Z,7,L.aKT),2&q){let ae;L.mGM(ae=L.lsd())&&(we.tabsInner=ae.first)}},hostBindings:function(q,we){1&q&&L.bIt("ionTabButtonClick",function(Je){return we.select(Je)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return Ne})();const kr=Ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ne):setTimeout(Ne);let oi=(()=>{class Ne{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(O,q){this.injector=O,this.elementRef=q}writeValue(O){this.elementRef.nativeElement.value=this.lastValue=O,Wr(this.elementRef)}handleValueChange(O,q){O===this.elementRef.nativeElement&&(q!==this.lastValue&&(this.lastValue=q,this.onChange(q)),Wr(this.elementRef))}_handleBlurEvent(O){O===this.elementRef.nativeElement&&(this.onTouched(),Wr(this.elementRef))}registerOnChange(O){this.onChange=O}registerOnTouched(O){this.onTouched=O}setDisabledState(O){this.elementRef.nativeElement.disabled=O}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let O;try{O=this.injector.get(_e.vO)}catch{}if(!O)return;O.statusChanges&&(this.statusChanges=O.statusChanges.subscribe(()=>Wr(this.elementRef)));const q=O.control;q&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(ae=>{if(typeof q[ae]<"u"){const Je=q[ae].bind(q);q[ae]=(...bt)=>{Je(...bt),Wr(this.elementRef)}}})}static \u0275fac=function(q){return new(q||Ne)(L.rXU(L.zZn),L.rXU(L.aKT))};static \u0275dir=L.FsC({type:Ne,hostBindings:function(q,we){1&q&&L.bIt("ionBlur",function(Je){return we._handleBlurEvent(Je.target)})}})}return Ne})();const Wr=Ne=>{kr(()=>{const J=Ne.nativeElement,O=null!=J.value&&J.value.toString().length>0,q=Wi(J);Xr(J,q);const we=J.closest("ion-item");we&&Xr(we,O?[...q,"item-has-value"]:q)})},Wi=Ne=>{const J=Ne.classList,O=[];for(let q=0;q<J.length;q++){const we=J.item(q);null!==we&&dr(we,"ng-")&&O.push(`ion-${we.substring(3)}`)}return O},Xr=(Ne,J)=>{const O=Ne.classList;O.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),O.add(...J)},dr=(Ne,J)=>Ne.substring(0,J.length)===J;class yi{ctrl;constructor(J){this.ctrl=J}create(J){return this.ctrl.create(J||{})}dismiss(J,O,q){return this.ctrl.dismiss(J,O,q)}getTop(){return this.ctrl.getTop()}}},4742:(fn,ft,N)=>{"use strict";N.d(ft,{hG:()=>Ua,U1:()=>un,el:()=>Lo,Jm:()=>ht,QW:()=>de,b_:()=>ut,I9:()=>Rt,ME:()=>sn,tN:()=>kn,hU:()=>Wn,W9:()=>Kn,lO:()=>Sn,eU:()=>yn,iq:()=>Xn,$w:()=>an,Wv:()=>ii,uz:()=>St,he:()=>Ae,nf:()=>De,MC:()=>mn,Rg:()=>_i,ln:()=>O,BC:()=>bi,ai:()=>ui,bv:()=>Ei,Xi:()=>uo,N7:()=>Mi,Gw:()=>Z,K_:()=>di});var a=N(4438),L=N(4341),re=N(2872),Q=N(1635),be=N(3726),ce=N(177),Te=N(4964),Be=(N(9986),N(3604),N(5022),N(3615),N(8607),N(9483)),Le=N(464),nt=(N(9568),N(5229)),Ve=(N(8476),N(4261));N(1970),N(7192);var ge=N(467);const Ge=Be.i,it=function(){var U=(0,ge.A)(function*(pr,G){if(!(typeof window>"u"))return yield Ge(),(0,Ve.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),G)});return function(G,M){return U.apply(this,arguments)}}(),$e=["*"],Tt=["outletContent"];let Z=(()=>{class U extends re.fL{constructor(G,M){super(G,M)}_handleInputEvent(G){this.handleValueChange(G,G.value)}static \u0275fac=function(M){return new(M||U)(a.rXU(a.zZn),a.rXU(a.aKT))};static \u0275dir=a.FsC({type:U,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(M,se){1&M&&a.bIt("ionInput",function(Y){return se._handleInputEvent(Y.target)})},features:[a.Jv_([{provide:L.kq,useExisting:U,multi:!0}]),a.Vt3]})}return U})();const pe=(U,pr)=>{const G=U.prototype;pr.forEach(M=>{Object.defineProperty(G,M,{get(){return this.el[M]},set(se){this.z.runOutsideAngular(()=>this.el[M]=se)},configurable:!0})})},Ye=(U,pr)=>{const G=U.prototype;pr.forEach(M=>{G[M]=function(){const se=arguments;return this.z.runOutsideAngular(()=>this.el[M].apply(this.el,se))}})},le=(U,pr,G)=>{G.forEach(M=>U[M]=(0,be.R)(pr,M))};function Ee(U){return function(G){const{defineCustomElementFn:M,inputs:se,methods:F}=U;return void 0!==M&&M(),se&&pe(G,se),F&&Ye(G,F),G}}let un=(()=>{let U=class oC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||oC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:oC,selectors:[["ion-app"]],ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({methods:["setFocus"]})],U),U})(),ht=(()=>{let U=class dC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement,le(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(M){return new(M||dC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:dC,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],U),U})(),de=(()=>{let U=class hC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||hC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:hC,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["collapse"]})],U),U})(),ut=(()=>{let U=class fC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||fC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:fC,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],U),U})(),Rt=(()=>{let U=class pC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||pC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:pC,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["mode"]})],U),U})(),sn=(()=>{let U=class gC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||gC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:gC,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","mode","translucent"]})],U),U})(),kn=(()=>{let U=class vC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||vC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:vC,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","mode"]})],U),U})(),Wn=(()=>{let U=class IC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||IC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:IC,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],U),U})(),Kn=(()=>{let U=class EC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement,le(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(M){return new(M||EC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:EC,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],U),U})(),Sn=(()=>{let U=class SC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||SC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:SC,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["fixed"]})],U),U})(),yn=(()=>{let U=class RC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||RC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:RC,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["collapse","mode","translucent"]})],U),U})(),Xn=(()=>{let U=class MC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||MC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:MC,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],U),U})(),an=(()=>{let U=class OC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement,le(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(M){return new(M||OC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:OC,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],U),U})(),ii=(()=>{let U=class kC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||kC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:kC,selectors:[["ion-input-password-toggle"]],inputs:{color:"color",hideIcon:"hideIcon",mode:"mode",showIcon:"showIcon"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","hideIcon","mode","showIcon"]})],U),U})(),St=(()=>{let U=class FC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||FC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:FC,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],U),U})(),Ae=(()=>{let U=class jC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||jC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:jC,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","mode","position"]})],U),U})(),De=(()=>{let U=class HC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||HC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:HC,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],U),U})(),mn=(()=>{let U=class KC{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||KC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:KC,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["autoHide","color","disabled","menu","mode","type"]})],U),U})(),O=(()=>{let U=class uT{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||uT)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:uT,selectors:[["ion-row"]],ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({})],U),U})(),bi=(()=>{let U=class wT{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||wT)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:wT,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","size"]})],U),U})(),ui=(()=>{let U=class ST{z;el;constructor(G,M,se){this.z=se,G.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||ST)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:ST,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return U=(0,Q.Cg)([Ee({inputs:["color","mode"]})],U),U})(),_i=(()=>{class U extends re.Rg{parentOutlet;outletContent;constructor(G,M,se,F,Y,ve,Oe,Re){super(G,M,se,F,Y,ve,Oe,Re),this.parentOutlet=Re}static \u0275fac=function(M){return new(M||U)(a.kS0("name"),a.kS0("tabs"),a.rXU(ce.aZ),a.rXU(a.aKT),a.rXU(Te.Ix),a.rXU(a.SKi),a.rXU(Te.nX),a.rXU(U,12))};static \u0275cmp=a.VBU({type:U,selectors:[["ion-router-outlet"]],viewQuery:function(M,se){if(1&M&&a.GBs(Tt,7,a.c1b),2&M){let F;a.mGM(F=a.lsd())&&(se.outletContent=F.first)}},features:[a.Vt3],ngContentSelectors:$e,decls:3,vars:0,consts:[["outletContent",""]],template:function(M,se){1&M&&(a.NAR(),a.qex(0,null,0),a.SdG(2),a.bVm())},encapsulation:2})}return U})(),Lo=(()=>{class U extends re.el{constructor(G,M,se,F,Y,ve){super(G,M,se,F,Y,ve)}static \u0275fac=function(M){return new(M||U)(a.rXU(_i,8),a.rXU(re.q9),a.rXU(re.TS),a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(a.gRc))};static \u0275cmp=a.VBU({type:U,selectors:[["ion-back-button"]],features:[a.Vt3],ngContentSelectors:$e,decls:1,vars:0,template:function(M,se){1&M&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})}return U})(),Mi=(()=>{class U extends re.CE{static \u0275fac=(()=>{let G;return function(se){return(G||(G=a.xGo(U)))(se||U)}})();static \u0275dir=a.FsC({type:U,selectors:[["","routerLink","",5,"a",5,"area"]],features:[a.Vt3]})}return U})();const tr={provide:L.cz,useExisting:(0,a.Rfq)(()=>gs),multi:!0};let gs=(()=>{class U extends L.zX{static \u0275fac=(()=>{let G;return function(se){return(G||(G=a.xGo(U)))(se||U)}})();static \u0275dir=a.FsC({type:U,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,se){2&M&&a.BMQ("max",se._enabled?se.max:null)},features:[a.Jv_([tr]),a.Vt3]})}return U})();const qo={provide:L.cz,useExisting:(0,a.Rfq)(()=>os),multi:!0};let os=(()=>{class U extends L.VZ{static \u0275fac=(()=>{let G;return function(se){return(G||(G=a.xGo(U)))(se||U)}})();static \u0275dir=a.FsC({type:U,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,se){2&M&&a.BMQ("min",se._enabled?se.min:null)},features:[a.Jv_([qo]),a.Vt3]})}return U})(),Ua=(()=>{class U extends re.Kb{constructor(){super(nt.a)}static \u0275fac=function(M){return new(M||U)};static \u0275prov=a.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),uo=(()=>{class U extends re.Kb{constructor(){super(nt.l)}static \u0275fac=function(M){return new(M||U)};static \u0275prov=a.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),Vi=(()=>{class U extends re.Kb{angularDelegate=(0,a.WQX)(re.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(nt.m)}create(G){return super.create({...G,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(M){return new(M||U)};static \u0275prov=a.jDH({token:U,factory:U.\u0275fac})}return U})();class vs extends re.Kb{angularDelegate=(0,a.WQX)(re.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(nt.c)}create(pr){return super.create({...pr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}let di=(()=>{class U extends re.Kb{constructor(){super(nt.t)}static \u0275fac=function(M){return new(M||U)};static \u0275prov=a.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const br=(U,pr,G)=>()=>{const M=pr.defaultView;if(M&&typeof window<"u"){(0,Le.s)({...U,_zoneGate:F=>G.run(F)});const se="__zone_symbol__addEventListener"in pr.body?"__zone_symbol__addEventListener":"addEventListener";return function Ie(){var U=[];if(typeof window<"u"){var pr=window;(!pr.customElements||pr.Element&&(!pr.Element.prototype.closest||!pr.Element.prototype.matches||!pr.Element.prototype.remove||!pr.Element.prototype.getRootNode))&&U.push(N.e(7278).then(N.t.bind(N,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||pr.NodeList&&!pr.NodeList.prototype.forEach||!pr.fetch||!function(){try{var M=new URL("b","http://a");return M.pathname="c%20d","http://a/c%20d"===M.href&&M.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&U.push(N.e(9329).then(N.t.bind(N,7783,23)))}return Promise.all(U)}().then(()=>it(M,{exclude:["ion-tabs"],syncQueue:!0,raf:re.er,jmp:F=>G.runOutsideAngular(F),ael(F,Y,ve,Oe){F[se](Y,ve,Oe)},rel(F,Y,ve,Oe){F.removeEventListener(Y,ve,Oe)}}))}};let Ei=(()=>{class U{static forRoot(G={}){return{ngModule:U,providers:[{provide:re.sR,useValue:G},{provide:a.hnV,useFactory:br,multi:!0,deps:[re.sR,ce.qQ,a.SKi]},re.Yq,(0,re.YV)()]}}static \u0275fac=function(M){return new(M||U)};static \u0275mod=a.$C({type:U});static \u0275inj=a.G2t({providers:[Vi,vs],imports:[ce.MD]})}return U})()},467:(fn,ft,N)=>{"use strict";function a(re,Q,be,ce,Te,Ue,He){try{var ye=re[Ue](He),oe=ye.value}catch(ke){return void be(ke)}ye.done?Q(oe):Promise.resolve(oe).then(ce,Te)}function L(re){return function(){var Q=this,be=arguments;return new Promise(function(ce,Te){var Ue=re.apply(Q,be);function He(oe){a(Ue,ce,Te,He,ye,"next",oe)}function ye(oe){a(Ue,ce,Te,He,ye,"throw",oe)}He(void 0)})}}N.d(ft,{A:()=>L})},1635:(fn,ft,N)=>{"use strict";function Q(Z,pe){var Ye={};for(var le in Z)Object.prototype.hasOwnProperty.call(Z,le)&&pe.indexOf(le)<0&&(Ye[le]=Z[le]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(le=Object.getOwnPropertySymbols(Z);qe<le.length;qe++)pe.indexOf(le[qe])<0&&Object.prototype.propertyIsEnumerable.call(Z,le[qe])&&(Ye[le[qe]]=Z[le[qe]])}return Ye}function be(Z,pe,Ye,le){var Nt,qe=arguments.length,Ee=qe<3?pe:null===le?le=Object.getOwnPropertyDescriptor(pe,Ye):le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ee=Reflect.decorate(Z,pe,Ye,le);else for(var $t=Z.length-1;$t>=0;$t--)(Nt=Z[$t])&&(Ee=(qe<3?Nt(Ee):qe>3?Nt(pe,Ye,Ee):Nt(pe,Ye))||Ee);return qe>3&&Ee&&Object.defineProperty(pe,Ye,Ee),Ee}function ke(Z,pe,Ye,le){return new(Ye||(Ye=Promise))(function(Ee,Nt){function $t(un){try{Ut(le.next(un))}catch(xn){Nt(xn)}}function gt(un){try{Ut(le.throw(un))}catch(xn){Nt(xn)}}function Ut(un){un.done?Ee(un.value):function qe(Ee){return Ee instanceof Ye?Ee:new Ye(function(Nt){Nt(Ee)})}(un.value).then($t,gt)}Ut((le=le.apply(Z,pe||[])).next())})}function ct(Z){return this instanceof ct?(this.v=Z,this):new ct(Z)}function Ie(Z,pe,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,le=Ye.apply(Z,pe||[]),Ee=[];return qe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),$t("next"),$t("throw"),$t("return",function Nt(Ot){return function(Ln){return Promise.resolve(Ln).then(Ot,xn)}}),qe[Symbol.asyncIterator]=function(){return this},qe;function $t(Ot,Ln){le[Ot]&&(qe[Ot]=function(Ft){return new Promise(function(ht,de){Ee.push([Ot,Ft,ht,de])>1||gt(Ot,Ft)})},Ln&&(qe[Ot]=Ln(qe[Ot])))}function gt(Ot,Ln){try{!function Ut(Ot){Ot.value instanceof ct?Promise.resolve(Ot.value.v).then(un,xn):Xt(Ee[0][2],Ot)}(le[Ot](Ln))}catch(Ft){Xt(Ee[0][3],Ft)}}function un(Ot){gt("next",Ot)}function xn(Ot){gt("throw",Ot)}function Xt(Ot,Ln){Ot(Ln),Ee.shift(),Ee.length&&gt(Ee[0][0],Ee[0][1])}}function Ge(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,pe=Z[Symbol.asyncIterator];return pe?pe.call(Z):(Z=function nt(Z){var pe="function"==typeof Symbol&&Symbol.iterator,Ye=pe&&Z[pe],le=0;if(Ye)return Ye.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&le>=Z.length&&(Z=void 0),{value:Z&&Z[le++],done:!Z}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),Ye={},le("next"),le("throw"),le("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function le(Ee){Ye[Ee]=Z[Ee]&&function(Nt){return new Promise(function($t,gt){!function qe(Ee,Nt,$t,gt){Promise.resolve(gt).then(function(Ut){Ee({value:Ut,done:$t})},Nt)}($t,gt,(Nt=Z[Ee](Nt)).done,Nt.value)})}}}N.d(ft,{AQ:()=>Ie,Cg:()=>be,N3:()=>ct,Tt:()=>Q,sH:()=>ke,xN:()=>Ge}),"function"==typeof SuppressedError&&SuppressedError}},fn=>{fn(fn.s=3656)}]);